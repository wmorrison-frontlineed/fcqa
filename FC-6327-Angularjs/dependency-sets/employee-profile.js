(function(){"use strict";function e(e,t,s,i,a,n,r){function o(i){function a(s,i){var a=[].concat(d(s._emails)),r=t.findWhere(a,{_emailType:e.usageType.byName(i)});return null==r&&(r=angular.extend({},n),r._emailType=e.usageType.byName(i),o=!0),r}null==i._emails&&(i._emails=[]);var n={_isPrimary:!1,_emailAddress:null,_emailType:null},r={_emailAddress:"",_emailType:""},o=!1;return i.workEmail=a(i,"work"),i.personalEmail=a(i,"personal"),s.setFieldDefaultValues(i.workEmail,r),s.setFieldDefaultValues(i.personalEmail,r),o}function l(e){null==e._addresses&&(e._addresses=[]);var t={_street1:"",_street2:"",_city:"",_state:"",_zip:""};if(0<e._addresses.length)for(var a=0;a<e._addresses.length;a++)s.setFieldDefaultValues(e._addresses[a],t);return!1}function p(e){e._emails&&m(e._emails,"_emailAddress"),e._phoneNumbers&&m(e._phoneNumbers,"_number"),e._emergencyContacts&&m(e._emergencyContacts,"_contactName")}function m(t,s){if(!t.length)return!1;var e="string"==typeof s?function(t){return null!=t[s]&&t[s].trim().length}:"function"==typeof s?s:function(){return!0};var i=t.filter(e);return i.length!==t.length&&(!(t.length=0,!!i.length)||(i.forEach(function(s){return t.push(s)}),!0))}function u(e,t){var s=n.utcIsoToRelativeMoment(e,t);return s.clone().add(1,"days")}function c(e){var t=e.sort(function(e,t){return new Date(t._to)-new Date(e._to)});return t[0]}function v(e){e.hasPlatformSyncIssue=!1,r.isGlobalFcSharedEmployeeEnabled().then(function(t){return t?e._orgPersonCreated?e._orgPersonUpdated?e._canonicalEmployeeEventsOutOfSync?(e.platformSyncMessage="This employee\u2019s data may be out of sync.",void(e.hasPlatformSyncIssue=!0)):void 0:(e.platformSyncMessage="This employee\u2019s data is out of sync.",void(e.hasPlatformSyncIssue=!0)):(e.platformSyncMessage="This employee is not connected to the platform.",void(e.hasPlatformSyncIssue=!0)):void 0})}return{newAddress:function(e,t){var s=c(e);return{_from:s?u(s._from,t).toISOString():a.foreverPastString,_to:a.foreverFutureString,_addressType:0,_isPrimary:!0,_street1:null,_street2:null,_city:null,_state:null,_zip:null,_countryCode:null}},nextDay:u,preSave:function(e){p(e)},processDates:function(e,t,s){var i=n.utcIsoToRelativeMoment(e._from,s),r=n.utcIsoToRelativeMoment(e._to,s);return e.startDateTxt=a.isForeverPast(e._from)?"":i.format("MM/DD/YYYY"),e.endDateTxt=a.isForeverFuture(e._to)?"":r.format("MM/DD/YYYY"),e.hasAddressInformation=!(e._street1||e._city||e._state||e._zip),e},setupEmployee:function(e){p(e),l(e),o(e),v(e)},validator:{email:i.email(),externalId:i.string({required:!r.isHRMSEnabled(),maxLength:100}),phone:i.phone(),required:i.required(),ssn:i.ssn(),zip:i.zip(),educatorId:i.string({maxLength:100})},loadEmployee:function(e){return s.setFieldDefaultValues(e,{_firstName:"",_middleName:"",_lastName:"",_aliasFirstName:"",_aliasMiddleName:"",_aliasLastName:"",_sSN:"",_externalId:"",_stateEducatorId:"",_retirementSystem:{id:-1,name:""}}),!1},loadEmergencyContacts:function(e){var t={_isPrimary:!1,_relationshipType:-1,_contactName:null,_primaryPhone:null,_alternatePhone:null},i={_contactName:"",_primaryPhone:"",_alternatePhone:""},a=!1,n=e._emergencyContacts;return 0===n.length?(n.push(angular.extend({},t)),n.push(angular.extend({},t)),n[0]._isPrimary=!0,a=!0):1===n.length&&(n.push(angular.extend({},t)),n[1]._isPrimary=!n[0]._isPrimary,a=!0),e.primaryEmergencyContact=n.find(function(e){return e._isPrimary}),e.secondaryEmergencyContact=n.find(function(e){return!e._isPrimary}),s.setFieldDefaultValues(e.primaryEmergencyContact,i),s.setFieldDefaultValues(e.secondaryEmergencyContact,i),a},cleanEmployeeForSave:p}}function t(e,t){return{sleep:function(s){var i=e.defer();return t(function(){return i.resolve()},s||2000),i.promise}}}(function(t){try{t=angular.module("super-templates")}catch(e){t=angular.module("super-templates",[])}t.run(["$templateCache",function(e){e.put("components/super-address-list/address-list.html","<div class=\"super-address-list\" data-test=\"address-list\"><h3 id=\"address-heading\">Address</h3><super-button smp class=\"add-address\" label=\"Add New Address\" ng-click=\"go.add()\" ss-icon=\"plus-circle\" ng-if=\"vm.editMode\" is-disabled=\"go.isAddDisabled()\" data-test=\"address-add\"></super-button><!-- Future Address --><div class=\"gd-row future-address\" ng-if=\"vm.future != null\" data-test=\"future-address\"><h4>Upcoming Address:</h4><ul class=\"record-list date-row\"><li class=\"gd-20p\"><super-input-datepicker model=\"vm.future.startDateTxt\" options=\"vm.futureDtPickerOpt\" label=\"Start Date\" edit-mode=\"vm.editMode\" data-test=\"address-start-date\"></super-input-datepicker></li><li class=\"gd-80p\" ng-show=\"vm.editMode\"><super-button smp label=\"Remove\" ng-click=\"go.removeFuture(vm.future)\" ss-icon=\"times\" data-test=\"remove\"></super-button></li></ul><ul class=\"record-list\"><li class=\"gd-40p\"><super-input-text input-id=\"future-address-line-1\" model=\"vm.future._street1\" label=\"Address Line 1\" aria-label=\"address line 1\" name=\"AddressLine1\" edit-mode=\"vm.editMode\" data-test=\"address-1\"></super-input-text></li><li class=\"gd-40p\"><super-input-text input-id=\"future-address-line-2\" model=\"vm.future._street2\" label=\"Address Line 2\" aria-label=\"address line 2\" name=\"AddressLine2\" edit-mode=\"vm.editMode\" data-test=\"address-2\"></super-input-text></li></ul><ul class=\"record-list\"><li class=\"gd-20p\"><super-input-text input-id=\"future-city\" model=\"vm.future._city\" label=\"City\" aria-label=\"city\" name=\"city\" edit-mode=\"vm.editMode\" data-test=\"address-city\"></super-input-text></li><li class=\"gd-45p\"><super-single-filter-list edit-mode=\"vm.editMode\" databind-name=\"name\" databind-value=\"value\" label=\"State\" model=\"vm.future._state\" items=\"vm.states\" data-test=\"address-state\" permissions=\"permissions\"></super-single-filter-list></li><li class=\"gd-20p\"><super-input-text input-id=\"future-zip\" model=\"vm.future._zip\" label=\"Zip Code\" name=\"zip\" aria-label=\"zip code\" ss-validate=\"validator.zip(vm.future._zip)\" edit-mode=\"vm.editMode\" data-test=\"address-zip\"></super-input-text></li></ul></div><!-- Current Address --><div class=\"gd-row current-address\" ng-if=\"vm.current != null\" data-test=\"current-address\"><h4>Current Address:</h4><ul class=\"record-list date-row\"><li class=\"gd-20p\"><super-input-datepicker edit-mode=\"vm.editMode && vm.future == null\" model=\"vm.current.startDateTxt\" label=\"Start Date\" aria-label=\"start date\" options=\"vm.currentDtPickerOpt\" data-test=\"address-start-date\"></super-input-datepicker></li><li class=\"gd-20p\"><label class=\"label\">End Date</label><div>{{ vm.current.endDateTxt }}</div></li></ul><ul class=\"record-list\"><li class=\"gd-40p\"><super-input-text input-id=\"current-address-line-1\" model=\"vm.current._street1\" label=\"Address Line 1\" aria-label=\"address line 1\" name=\"AddressLine1\" edit-mode=\"vm.editMode\" data-test=\"address-1\"></super-input-text></li><li class=\"gd-40p\"><super-input-text input-id=\"current-address-line-2\" model=\"vm.current._street2\" label=\"Address Line 2\" aria-label=\"address line 2\" name=\"AddressLine1\" edit-mode=\"vm.editMode\" data-test=\"address-2\"></super-input-text></li></ul><ul class=\"record-list\"><li class=\"gd-20p\"><super-input-text input-id=\"current-city\" model=\"vm.current._city\" label=\"City\" aria-label=\"city\" name=\"city\" edit-mode=\"vm.editMode\" data-test=\"address-cty\"></super-input-text></li><li class=\"gd-45p\"><super-single-filter-list edit-mode=\"vm.editMode\" databind-name=\"name\" databind-value=\"value\" label=\"State\" model=\"vm.current._state\" items=\"vm.states\" data-test=\"address-state\" permissions=\"permissions\"></super-single-filter-list></li><li class=\"gd-20p\"><super-input-text input-id=\"current-zip\" model=\"vm.current._zip\" label=\"Zip Code\" aria-label=\"zip code\" name=\"zip\" ss-validate=\"validator.zip(vm.current._zip)\" edit-mode=\"vm.editMode\" data-test=\"address-zip\"></super-input-text></li></ul></div><!-- Past Addresses --><div ng-if=\"vm.past.length > 0\"><button type=\"button\" class=\"smp show-hide-details {{ (vm.expanded) ? 'fa-angle-down-after' : 'fa-angle-up-after' }} ss-toggle-closed\" ss-toggle=\"past-address\" ng-click=\"go.toggle()\" ss-toggle-start-expanded=\"{{vm.expanded}}\" data-test=\"past-addresses-toggle\"><span>{{ vm.expanded ? 'Hide' : 'View' }} Address history</span></button><div class=\"gd-row past-address\" data-test=\"past-addresses-content\"><h4>Past Address(es):</h4><ul class=\"record-list\" ng-repeat=\"address in vm.past\" data-test=\"past-address\"><li class=\"gd-100p dates\">{{ address.startDateTxt }} - {{ address.endDateTxt }}</li><li class=\"gd-100p\" ng-if=\"address.hasAddressInformation\">Address information not available.</li><li class=\"gd-100p\" ng-if=\"!address.hasAddressInformation\"><ul><li class=\"gd-100p\">{{ address._street1 }}</li><li class=\"gd-100p\">{{ address._street2 }}</li><li class=\"gd-100p\">{{ address._city }} {{ address._state }} {{ address._zip }}</li></ul></li></ul></div></div></div>"),e.put("components/super-assignment/assignment.html","<div class=\"super-assignment\" ng-class=\"{'edit-mode': vm.editing, 'has-error': position.hasError}\" ss-validate=\"validator.validate()\" data-test-type=\"assignment\" data-test-position-id=\"{{position.id}}\" data-test-assignment-id=\"{{position.assignment.id}}\" ss-pending=\"position.isUpdating\"><div class=\"position\"><div class=\"header\"><div ng-bind=\"vm.tagText\" class=\"ss-tag\" data-test=\"tag\" ng-class=\"{'ss-tag-positive': vm.isCurrent, 'ss-tag-primary': vm.isFuture}\"></div><h4 class=\"title\" ng-bind=\"vm.isNew ? 'Assignment Information' : position.name\" data-test=\"name\"></h4><div class=\"date-range\" ng-if=\"!vm.editing\" ng-bind=\"vm.dateRange\" data-test=\"date-range\"></div><div class=\"date-range\" ng-if=\"vm.editing\" ss-validate=\"validator.required(vm.startDate, 'start date')\" data-test=\"date-range\"><super-input-datepicker edit-mode=\"vm.editing\" placeholder=\"Start Date\" model=\"vm.startDate\" class=\"assignment-start-date\" required=\"true\" options=\"vm.dateOptions\" required=\"true\" data-test=\"start-date\"></super-input-datepicker><super-input-datepicker edit-mode=\"vm.editing\" placeholder=\"End Date\" model=\"vm.endDate\" class=\"assignment-end-date\" options=\"vm.dateOptions\" data-test=\"end-date\"></super-input-datepicker></div><!-- Create menu --><div class=\"actions\" ng-if=\"vm.mode === 'new'\"><super-button ss-icon-after=\"angle-down\" data-test=\"assignment-actions-menu\"><item class=\"create\" ss-permitted=\"assignments.create\" ng-if=\"position.assignment.$permitted.actions.create\" ng-click=\"go.addDetails()\" data-test=\"assignment-add-details\">Add New Assignment Details</item><item class=\"cancel\" ng-if=\"vm.editing\" ng-click=\"go.cancel()\" data-test=\"assignment-cancel\">Cancel</item></super-button></div><!-- EDIT menu --><div class=\"actions\" ng-if=\"vm.mode !== 'view' && position.assignment.$permitted.actions.edit\"><super-button ss-icon-after=\"angle-down\" data-test=\"actions\"><item class=\"edit\" ng-if=\"!vm.editing\" ng-click=\"go.edit()\" ng-disabled=\"vm.mode === 'delete'\" data-test=\"edit\">Edit</item><item class=\"cancel\" ng-if=\"vm.editing\" ng-click=\"go.cancel()\" data-test=\"cancel\">Cancel</item><item class=\"create\" ss-permitted=\"assignments.create\" ng-if=\"vm.editing && position.assignment.$permitted.actions.create\" ng-disabled=\"position._jobType == null || position._jobType.id == null\" ng-click=\"go.addDetails()\" data-test=\"add-details\">Add New Assignment Details</item><item class=\"remove\" ss-permitted=\"assignments.delete\" ng-if=\"position.id != null && position.assignment.$permitted.actions.delete\" ng-click=\"remove()\" data-test=\"remove\">Delete</item></super-button></div></div><div class=\"assignment\"><div class=\"gd-row\"><ul class=\"record-list\"><li><super-single-filter-list ng-if=\"vm.positionTypes.length > 0\" edit-mode=\"vm.editing\" databind-name=\"name\" databind-value=\"value\" permissions=\"vm.permissions.positions\" class=\"position-name\" data-test=\"position-name\" label=\"Position Name\" model=\"position._name\" ss-validate=\"validator.required(position._name, 'position name')\" required=\"true\" items=\"vm.positionTypes\"></super-single-filter-list></li><li><super-single-filter-list required=\"true\" label=\"Job Type\" class=\"job-type\" data-test=\"job-type\" databind-name=\"_name\" databind-value=\"id\" permissions=\"vm.permissions.jobTypes\" ss-validate=\"validator.required(position._jobType.id, 'job type')\" required=\"true\" items=\"vm.jobTypes\" model=\"position._jobType.id\" edit-mode=\"vm.editing\" include-none-option=\"false\"></super-single-filter-list></li><li ng-if=\"featureFlags.showEmploymentGroups\"><super-input-text edit-mode=\"false\" permissions=\"vm.permissions.jobTypes\" class=\"employment-group\" label=\"Employment Group / CBU\" model=\"position.jobType.employmentGroup.name\" data-test=\"employment-group\"></super-input-text></li></ul></div><div class=\"gd-row\"><ul class=\"record-list\"><li><super-single-filter-list required=\"true\" label=\"Location\" class=\"location\" data-test=\"location\" databind-name=\"_name\" databind-value=\"id\" permissions=\"vm.permissions.locations\" ss-validate=\"validator.required(position._location.id, 'location')\" required=\"true\" items=\"vm.locations\" model=\"position._location.id\" edit-mode=\"vm.editing\" include-none-option=\"false\"></super-single-filter-list></li><li><super-single-filter-list required=\"true\" label=\"Department\" class=\"department\" data-test=\"department\" databind-name=\"_name\" databind-value=\"id\" permissions=\"vm.permissions.departments\" ss-validate=\"validator.required(position._department.id, 'department')\" required=\"true\" items=\"vm.departments\" model=\"position._department.id\" edit-mode=\"vm.editing\" include-none-option=\"false\"></super-single-filter-list></li><li><super-input-text required=\"false\" label=\"External ID\" class=\"externalId\" data-test=\"externalId\" model=\"position.assignment._externalId\" edit-mode=\"vm.editing\" ss-validate=\"validator.externalId(position.assignment._externalId)\" ss-validate-message=\"Value must not exceed 100 characters in length\"></super-input-text></li></ul></div></div></div><super-assignment-details ng-class=\"{'last': $last}\" details=\"details\" ng-repeat=\"details in position.assignment._details\" edit-mode=\"vm.editing\" permissions=\"position.assignment.$permitted.props\" job-type=\"position.assignment.jobType\" org=\"org\" remove=\"go.removeDetails($index)\"></super-assignment-details></div>"),e.put("components/super-assignment-details/assignment-details.html","<div class=\"super-assignment-details\" data-test=\"assignment-details\" data-test-id=\"{{details.id}}\"><div class=\"header gd-row\"><div class=\"collapse\" ss-icon=\"plus-square\" ng-if=\"vm.collapsed && !vm.isNew\" ng-click=\"vm.collapsed = false\" data-test=\"collapse\"></div><div class=\"collapse\" ss-icon=\"minus-square\" ng-if=\"!vm.collapsed && !vm.isNew\" ng-click=\"vm.collapsed = true\" data-test=\"collapse\"></div><div ng-bind=\"vm.tagText\" class=\"ss-tag\" ng-class=\"{'ss-tag-positive': vm.isCurrent, 'ss-tag-primary': vm.isFuture}\" data-test=\"tag\"></div><h4 class=\"title\">Assignment Details</h4><div class=\"actions\" ng-if=\"vm.editMode\"><super-button ss-icon-after=\"angle-down\" data-test=\"actions\"><item class=\"remove\" ng-click=\"remove()\" data-test=\"remove\">Delete</item></super-button></div><div class=\"date-range\" ng-if=\"!vm.editMode\" ng-bind=\"vm.dateRange\" data-test=\"date-range\"></div><div class=\"date-range\" ng-if=\"vm.editMode\" ss-validate=\"validator.dates()\"><super-input-datepicker class=\"assignment-details-start-date\" edit-mode=\"vm.editMode\" placeholder=\"Start Date\" options=\"details.startDateOptions\" model=\"vm.startDate\" required=\"true\" data-test=\"start-date\"></super-input-datepicker><super-input-datepicker class=\"assignment-details-end-date\" edit-mode=\"vm.editMode\" placeholder=\"End Date\" options=\"details.endDateOptions\" model=\"vm.endDate\" data-test=\"end-date\"></super-input-datepicker></div></div><div class=\"details\" ng-show=\"!vm.collapsed\"><div class=\"gd-row\"><ul class=\"record-list\" ng-repeat=\"col in vm.jobTypeDetailsCols\"><li class=\"revertable-field\" ng-repeat=\"field in col\" ng-class=\"{'empty-field': !vm.editMode && details[field.prop] == null}\"><super-input-text class=\"{{field.prop}}\" ng-if=\"!vm.editMode\" edit-mode=\"vm.editMode\" label=\"{{ field.displayText }}\" type=\"number\" step=\"0.001\" model=\"details[field.prop] != null ? details[field.prop] : vm.jobTypeDetails[field.prop]\" data-test=\"{{field.dataTest}}\"></super-input-text><super-input-text class=\"{{field.prop}}\" ng-if=\"vm.editMode\" edit-mode=\"vm.editMode\" label=\"{{ field.displayText }}\" type=\"number\" step=\"0.001\" model=\"details[field.prop]\" placeholder=\"{{ vm.jobTypeDetails[field.prop] }}\" data-test=\"{{field.dataTest}}\"></super-input-text><button type=\"button\" ss-icon-after=\"rotate-left\" title=\"Revert\" class=\"revert-val\" ng-click=\"go.revert(field.prop)\" ng-if=\"vm.editMode && details[field.prop] != null && jobTypeDetails != null\" data-test=\"{{field.dataTest}}-revert\">(<span ng-bind=\"vm.jobTypeDetails[field.prop]\"></span>)</button></li></ul></div><!-- Pay schedules available --><div class=\"gd-row\" ng-if=\"jobType != null\"><ul class=\"record-list\"><li><super-input-text class=\"pay-schedule\" edit-mode=\"false\" label=\"Pay Schedule\" model=\"details.paySchedule._name\" data-test=\"pay-schedule-name\">N/A</super-input-text></li><li><super-select-list class=\"pay-lane\" edit-mode=\"vm.editMode\" ng-if=\"vm.payScheduleIsValid\" label=\"Pay Lane\" model=\"details._payLane\" ss-validate=\"validator.required(details._payLane, 'pay lane')\" data-test=\"pay-lane\"><super-select-list-item value=\"$index\" label=\"lane.name\" ng-repeat=\"lane in details.paySchedule._payLanes\"></super-select-list-item></super-select-list><dl data-test=\"pay-lane\" class=\"data-field pay-lane\" ng-if=\"!vm.payScheduleIsValid\"><dt>Pay Lane</dt><dd>N/A</dd></dl></li><li><super-select-list class=\"pay-step\" edit-mode=\"vm.editMode\" ng-if=\"vm.payScheduleIsValid\" label=\"Pay Step\" model=\"details._payStep\" ss-validate=\"validator.step()\" data-test=\"pay-step\"><super-select-list-item value=\"$index\" label=\"step.name\" ng-repeat=\"step in vm.paySteps\"></super-select-list-item></super-select-list><dl data-test=\"pay-step\" class=\"data-field pay-step\" ng-if=\"!vm.payScheduleIsValid\"><dt>Pay Step</dt><dd>N/A</dd></dl></li></ul></div><div class=\"gd-row\" ng-if=\"jobType != null\"><ul class=\"record-list\"><li><super-select-list class=\"pay-type\" edit-mode=\"vm.editMode\" default-option-label=\"None\" ng-if=\"!vm.payScheduleIsValid\" label=\"Pay Type\" model=\"details._payRateFrequency\" data-test=\"pay-type\"><super-select-list-item label=\"'None'\" value=\"null\"></super-select-list-item><super-select-list-item ng-repeat=\"option in vm.payRateOptions\" label=\"option.name\" value=\"option.value\"></super-select-list-item></super-select-list><dl class=\"data-field pay-type\" ng-if=\"vm.payScheduleIsValid\" data-test=\"pay-type\"><dt>Pay Type</dt><dd ng-bind=\"vm.payRateFrequencyString\"></dd></dl></li><li><super-input-text class=\"pay-period\" label=\"Pay/Period\" edit-mode=\"false\" model=\"vm.payPerPeriod | currency\" data-test=\"pay-period\">N/A</super-input-text></li><li class=\"revertable-field\" ng-class=\"{'empty-field': !vm.editMode && details._payPeriodsPerYear == null}\"><super-input-text class=\"periods-year\" ng-if=\"!vm.editMode\" edit-mode=\"vm.editMode\" type=\"number\" step=\"0.001\" label=\"Periods/Year\" model=\"details._payPeriodsPerYear != null ? details._payPeriodsPerYear : vm.jobTypeDetails._payPeriodsPerYear\" data-test=\"periods-year\"></super-input-text><super-input-text class=\"periods-year\" ng-if=\"vm.editMode\" edit-mode=\"vm.editMode\" type=\"number\" step=\"0.001\" label=\"Periods/Year\" model=\"details._payPeriodsPerYear\" placeholder=\"{{ vm.jobTypeDetails._payPeriodsPerYear }}\" data-test=\"periods-year\"></super-input-text><button type=\"button\" ss-icon-after=\"rotate-left\" title=\"Revert\" class=\"revert-val\" ng-click=\"go.revert('_payPeriodsPerYear')\" ng-if=\"vm.editMode && details._payPeriodsPerYear != null\" data-test=\"periods-year-revert\">(<span ng-bind=\"vm.jobTypeDetails._payPeriodsPerYear\"></span>)</button></li><li class=\"annual-salary-number revertable-field\" ng-if=\"vm.payRateFrequencyString != null\" ng-class=\"{'empty-field': !vm.editMode && details._payRate == null}\"><super-input-text class=\"salary\" type=\"number\" step=\"0.001\" ng-if=\"!vm.editMode\" edit-mode=\"vm.editMode\" label=\"{{ vm.payRateFrequencyString }}\" model=\"vm.annualSalary | currency\" data-test=\"annual-salary\"></super-input-text><span ng-if=\"vm.editMode\">$</span><super-input-text class=\"salary\" type=\"number\" step=\"0.001\" ng-if=\"vm.editMode\" edit-mode=\"vm.editMode\" label=\"{{ vm.payRateFrequencyString }}\" model=\"details._payRate\" placeholder=\"{{ vm.annualSalary }}\" data-test=\"annual-salary\"></super-input-text><button type=\"button\" ss-icon-after=\"rotate-left\" title=\"Revert\" class=\"revert-val\" ng-click=\"go.revert('_payRate')\" ng-if=\"vm.editMode && details._payRate != null\" data-test=\"annual-salary-revert\">(<span ng-bind=\"vm.annualSalary | currency\"></span>)</button></li></ul><div class=\"hourly-help-text\" ng-if=\"(!vm.payScheduleIsValid && !vm.jobTypeDetailValuesAreValid)\" data-test=\"hourly-help-text\">Please input the Pay Type, Hours/Day, Work Days/Year and Periods/Year to calculate the Hourly Salary.</div></div><!-- No pay schedule available so everything is N/A --><div class=\"gd-row\" ng-if=\"jobType == null\"><ul class=\"record-list\"><li><dl class=\"data-field pay-schedule\"><dt>Pay Schedule</dt><dd>N/A</dd></dl></li><li><dl data-test=\"pay-lane\" class=\"data-field pay-lane\"><dt>Pay Lane</dt><dd>N/A</dd></dl></li><li><dl data-test=\"pay-step\" class=\"data-field pay-step\"><dt>Pay Step</dt><dd>N/A</dd></dl></li></ul></div><div class=\"gd-row\" ng-if=\"jobType == null\"><ul class=\"record-list\"><li><dl class=\"data-field pay-period\"><dt>Pay/Period</dt><dd>N/A</dd></dl></li><li><dl class=\"data-field periods-year\"><dt>Periods/Year</dt><dd>N/A</dd></dl></li><li><dl class=\"data-field salary\"><dt>Salary</dt><dd>N/A</dd></dl></li></ul></div></div></div>"),e.put("components/super-assignment-list/assignment-list.html","<div class=\"super-assignment-list\" ss-pending=\"vm.loading\" data-test=\"assignments\"><!-- PRIMARY assignments --><div class=\"record\" ss-validate=\"validator.validate()\" data-test=\"primary-assignments\"><h3>Primary Assignment</h3><super-button smp ng-if=\"vm.editMode\" ss-permitted=\"assignments.create\" ng-click=\"go.addPrimary()\" label=\"Add New Primary Assignment\" ss-icon=\"plus-circle\" ng-disabled=\"vm.editingId != null\" data-test=\"add-primary-assignment\"></super-button><div class=\"no-assignments\" ng-if=\"!vm.newPrimaryPosition && !vm.primaryPosition && !vm.futurePrimaryPositions.length && !vm.pastPositions.length\" data-test=\"no-primary-assignment\">No Primary Assignment</div><!-- NEW PRIMARY position --><super-assignment ng-if=\"vm.newPrimaryPosition\" position=\"vm.newPrimaryPosition\" mode=\"go.getMode(vm.newPrimaryPosition)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(vm.newPrimaryPosition)\" cancel=\"go.cancelPosition(vm.newPrimaryPosition)\" data-test=\"new-primary-assignment\"></super-assignment><!-- FUTURE PRIMARY positions --><super-assignment ng-if=\"vm.futurePrimaryPositions.length\" position=\"position\" ng-repeat=\"position in vm.futurePrimaryPositions\" mode=\"go.getMode(position)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(position, vm.futurePrimaryPositions)\" cancel=\"go.cancelPosition(position)\" data-test=\"future-primary-assignment\"></super-assignment><!-- PRIMARY position --><super-assignment ng-if=\"vm.primaryPosition\" position=\"vm.primaryPosition\" mode=\"go.getMode(vm.primaryPosition)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(vm.primaryPosition)\" cancel=\"go.cancelPosition(vm.primaryPosition)\" data-test=\"current-primary-assignment\"></super-assignment><!-- PAST positions --><div ng-if=\"vm.pastPositions.length\"><button type=\"button\" class=\"smp show-hide-details {{ vm.pastPositionsExpanded ? 'fa-angle-down-after' : 'fa-angle-up-after' }} ss-toggle-closed\" ss-toggle=\"toggle-content\" ss-toggle-start-expanded=\"{{vm.pastPositionsExpanded}}\" ng-click=\"vm.pastPositionsExpanded = !vm.pastPositionsExpanded\" data-test=\"past-primary-assignments-toggle\">{{ vm.pastPositionsExpanded ? 'Hide' : 'View' }} Past Assignments</button><div class=\"toggle-content\" data-test=\"past-primary-assignments\"><h3>Past Assignment(s)</h3><super-assignment position=\"position\" ng-repeat=\"position in vm.pastPositions\" mode=\"go.getMode(position)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(position, vm.pastPositions)\" cancel=\"go.cancelPosition(position)\" data-test=\"past-primary-assignment\"></super-assignment></div></div></div><!-- ADDITIONAL assignments --><div class=\"record\" data-test=\"secondary-assignments\"><h3>Additional Assignment</h3><super-button smp ng-if=\"vm.editMode\" ss-permitted=\"assignments.create\" ng-click=\"go.addSecondary()\" label=\"Add New Additional Assignment\" ss-icon=\"plus-circle\" ng-disabled=\"vm.editingId != null\" data-test=\"add-secondary-assignment\"></super-button><div class=\"no-assignments\" ng-if=\"!vm.newPosition && !vm.futureOtherPositions.length && !vm.otherPositions.length && !vm.pastOtherPositions.length\" data-test=\"no-secondary-assignment\">No Additional Assignment</div><!-- NEW ADDITIONAL position --><super-assignment ng-if=\"vm.newPosition != null\" position=\"vm.newPosition\" mode=\"go.getMode(vm.newPosition)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(vm.newPosition)\" cancel=\"go.cancelPosition(vm.newPosition)\" data-test=\"new-secondary-assignment\"></super-assignment><!-- FUTURE OTHER postions --><super-assignment ng-if=\"vm.futureOtherPositions\" position=\"position\" ng-repeat=\"position in vm.futureOtherPositions\" mode=\"go.getMode(position)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(position, vm.futureOtherPositions)\" cancel=\"go.cancelPosition(position)\" data-test=\"future-secondary-assignment\"></super-assignment><!-- OTHER positions --><super-assignment ng-if=\"vm.otherPositions\" position=\"position\" ng-repeat=\"position in vm.otherPositions\" mode=\"go.getMode(position)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(position, vm.otherPositions)\" cancel=\"go.cancelPosition(position)\" data-test=\"current-secondary-assignment\"></super-assignment><!-- PAST OTHER positions --><div ng-if=\"vm.pastOtherPositions.length\"><button type=\"button\" class=\"smp show-hide-details {{ vm.pastOtherPositionsExpanded ? 'fa-angle-down-after' : 'fa-angle-up-after' }} ss-toggle-closed\" ss-toggle=\"toggle-content\" ss-toggle-start-expanded=\"{{vm.pastOtherPositionsExpanded}}\" ng-click=\"vm.pastOtherPositionsExpanded = !vm.pastOtherPositionsExpanded\" data-test=\"past-secondary-assignment-toggle\">{{ vm.pastOtherPositionsExpanded ? 'Hide' : 'View' }} Past Assignments</button><div class=\"toggle-content\" data-test=\"past-secondary-assignments\"><h3>Past Assignment(s)</h3><super-assignment position=\"position\" ng-repeat=\"position in vm.pastOtherPositions\" mode=\"go.getMode(position)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(position, vm.pastOtherPositions)\" cancel=\"go.cancelPosition(position)\" data-test=\"past-secondary-assignment\"></super-assignment></div></div></div></div>"),e.put("components/super-credential/credential.html","<div class=\"super-credential\"><div class=\"edit-container\" ng-if=\"vm.credentialBeingEdited !== null\" ss-pending=\"vm.isProcessing\"><super-credential-add-edit credential=\"vm.credentialBeingEdited\" save-credential=\"go.saveCredential\" cancel-credential=\"go.cancelCredential\" org=\"vm.org\" logged-in-user-key=\"loggedInUserKey\" is-cloning=\"vm.isCloning\"></super-credential-add-edit></div><article class=\"non-edit-container\" ng-class=\"'empcred-{{credential.id}}'\" ng-if=\"vm.credentialBeingEdited === null\" ss-pending=\"vm.isProcessing\"><header><p ng-show=\"vm.deletedIssuer\" class=\"information\" ss-icon=\"info-circle\" role=\"alert\" aria-live=\"polite\">The issuer for this credential has been deleted. To make active or renew, delete this one and add a new credential.</p><p ng-show=\"vm.deletedCredentialType\" class=\"information\" ss-icon=\"info-circle\" role=\"alert\" aria-live=\"polite\">This credential can no longer be issued. To make active or renew, delete this one and add a new credential</p><h4 class=\"credential-name\" ng-bind=\"credential._credential.name\"></h4><ul class=\"credential-meta ss-pipe-children\"><li class=\"meta-item credential-issuer\" ng-if=\"credential._credential.issuer.name\" ng-bind=\"credential._credential.issuer.name\"></li><li class=\"meta-item credential-number\" ng-if=\"credential._credentialNumber\" ng-bind=\"credential._credentialNumber\"></li></ul></header><div><p class=\"subjects\" ng-if=\"credential._subjects.length\" ng-bind=\"go.getSubjects()\"></p><div class=\"dates active\" ng-if=\"go.hasActiveDates()\"><span class=\"issued\" ng-if=\"credential._stateStartedDay\"><span ng-if=\"go.isRenewed()\">Renewed:</span> <span ng-if=\"!go.isRenewed()\">Issued:</span> {{go.showDate(credential._stateStartedDay)}} </span><span class=\"expired\" ng-class=\"{'expires-soon': go.expiresSoon() || go.isExpired() }\" ng-if=\"credential._expirationDay && !go.isForeverFuture()\"><span aria-hidden=\"true\" ng-if=\"go.expiresSoon()\"><i ss-icon=\"warning\"></i>&nbsp;</span> {{go.getExpirationLabel()}}: {{go.showDate(credential._expirationDay)}} </span><span class=\"verifier\" ng-if=\"credential._verifier && credential._verifier.verifiedDay\"><i class=\"shield\" aria-hidden=\"true\" ss-icon=\"shield\"></i> &nbsp;Verified: {{go.showDate(credential._verifier.verifiedDay)}} by {{credential._verifier.name}}</span></div><div class=\"dates in-progress\" ng-if=\"go.hasInProgressDates()\"><span class=\"label\">In Progress</span> <span class=\"started\" ng-if=\"credential._stateStartedDay\">Started: {{go.showDate(credential._stateStartedDay)}}</span> <span class=\"tentative-completion\" ng-if=\"credential._expirationDay\">Tentative Completion: {{go.showDate(credential._expirationDay)}}</span></div><ul class=\"files\" ng-if=\"credential._files.length\" ss-permitted=\"employeeCredentials.viewEmployeeCredentialFiles\"><li ng-repeat=\"file in credential._files\"><i class=\"file-icon\" ss-icon=\"{{ file.isDownloading ? 'spinner' :  go.getIcon(file) }}\"></i><super-button aria-label=\"Download {{ file.name }}\" class=\"add-credential\" link=\"\" label=\"{{ file.name }}\" ng-click=\"go.downloadFile(file)\" is-disabled=\"file.isDownloading\"></super-button></li></ul></div><div class=\"actions-button\"><super-button ng-hide=\"vm.deletedIssuer || vm.deletedCredentialType\" ss-permitted=\"employeeCredentials.create\" class=\"hide-when-archive\" ng-click=\"go.onRenew()\" label=\"Renew\" is-disabled=\"currentlyEditing !== null || (vm.deletedIssuer || vm.deletedCredentialType)\" ng-if=\"!credential._isGrantedForLife && credential._issuedReason !== vm.credentialConstants.CREDENTIAL_INPROGRESS\"></super-button><super-button ng-hide=\"vm.deletedIssuer || vm.deletedCredentialType\" ss-permitted=\"employeeCredentials.create\" class=\"hide-when-archive\" title=\"Change from In-Progress to Active\" ng-click=\"go.onMakeActive()\" label=\"Make Active\" is-disabled=\"currentlyEditing !== null || (vm.deletedIssuer || vm.deletedCredentialType)\" ng-if=\"!credential._isGrantedForLife && credential._issuedReason === vm.credentialConstants.CREDENTIAL_INPROGRESS\"></super-button><super-button class=\"other-empcred-options\" ss-icon-after=\"angle-down\" is-disabled=\"currentlyEditing !== null\" ng-if=\"go.showActions()\"><item class=\"edit-btn hide-when-archive\" ss-permitted=\"employeeCredentials.edit\" ng-click=\"go.onEdit()\"><h6>Edit</h6></item><item class=\"delete-btn\" ng-click=\"go.onDelete()\" ss-permitted=\"employeeCredentials.softDelete\"><h6>Delete</h6></item></super-button></div></article></div>"),e.put("components/super-credential-add-edit/credential-add-edit.html","<div class=\"super-credential-add-edit\"><form ss-validate-form ng-submit=\"go.saveCredential()\" autocomplete=\"off\"><div class=\"gd-row\"><div ng-if=\"vm.deletedIssuerLockdown\" class=\"message\" ss-icon-before=\"info-circle\">Editing of this credential is limited since the issuer is deleted.</div><div ng-if=\"vm.deletedCredentialLockdown\" class=\"message\" ss-icon-before=\"info-circle\">Editing of this credential is limited since the credential is deleted.</div><br><fieldset class=\"gd-70p\" aria-label=\"Select credential group\" ng-class=\"{ 'block-section': isCloning }\" ng-disabled=\"vm.isEdit\"><div class=\"gd-40p right-border\"><super-input-radio ng-disabled=\"vm.isEdit\" label=\"State & National\" name=\"credential-type\" value=\"0\" model=\"vm.isCustomCredential\"></super-input-radio><div aria-label=\"Credentials added by Frontline Education\" class=\"sub-label\">Added by Frontline Education</div></div><div class=\"gd-60p\"><super-input-radio ng-disabled=\"vm.isEdit\" label=\"Custom\" name=\"credential-type\" value=\"1\" model=\"vm.isCustomCredential\"></super-input-radio><div aria-label=\"Credential added by your district\" class=\"sub-label\">Added by {{ org._name }}</div></div></fieldset><div class=\"gd-30p right\"><super-button ng-click=\"go.cancelAddingCredential()\" label=\"Cancel\" class=\"cancel\"></super-button><super-button smp pri aria-label=\"Save Credential\" type=\"submit\" is-disabled=\"vm.credentialTypeId === null || vm.issuer === null || vm.credentialId === null || credential.data._stateStartedDay === '' || vm.isUploading\" label=\"Save\"></super-button></div></div><div class=\"gd-row no-border\"><div class=\"gd-50p\" ng-class=\"{ 'block-section': isCloning }\"><super-single-filter-list class=\"auto-credential-types\" label=\"Credential Type\" items=\"credential.credentialTypes\" model=\"vm.credentialTypeId\" databind-name=\"_name\" databind-value=\"id\" include-none-option=\"false\" edit-mode=\"!vm.loadingCredentialTypes && !vm.changeLockdown\"></super-single-filter-list><span ss-icon=\"spinner\" class=\"fadeSpinner\" ng-show=\"vm.loadingCredentialTypes\"></span></div></div><div class=\"gd-row border-top fade ng-cloak\" ng-show=\"vm.credentialTypeId !== null\"><div class=\"gd-50p\" ng-class=\"{'right-border': vm.credentialTypeId !== vm.credentialConstants.DRIVER_LICENSE, 'block-section': isCloning}\"><super-single-filter-list required=\"true\" class=\"auto-issuers\" label=\"Issued By\" items=\"vm.issuersToLoad\" model=\"vm.issuer\" databind-name=\"_name\" databind-value=\"id\" include-none-option=\"false\" edit-mode=\"!vm.loadingIssuers && !vm.changeLockdown\"></super-single-filter-list><span ss-icon=\"spinner\" class=\"fadeSpinner\" ng-show=\"vm.loadingIssuers\"></span></div><div class=\"gd-50p\" ng-if=\"vm.credentialTypeId !== vm.credentialConstants.DRIVER_LICENSE\" ng-class=\"{ 'block-section': vm.issuer === null || isCloning }\"><super-single-filter-list required=\"true\" class=\"auto-credentials\" label=\"{{ credential.getCredentialLabelsByCredentialType(vm.credentialTypeId) }}\" items=\"credential.credentials\" model=\"vm.credentialId\" databind-name=\"_name\" databind-value=\"id\" include-none-option=\"false\" edit-mode=\"credential.credentials.length > 0 && !vm.loadingCredentials && !vm.changeLockdown\"></super-single-filter-list><div ng-if=\"vm.issuer != null && !credential.credentials.length && !vm.loadingCredentials && vm.issuer !== -1\" class=\"message\" ss-icon-before=\"info-circle\">There are no available items for this Issuer.</div><span ss-icon=\"spinner\" class=\"fadeSpinner\" ng-show=\"!credential.credentials.length && vm.loadingCredentials\"></span></div></div><div class=\"gd-row fade ng-cloak\" ng-show=\"vm.credentialTypeId !== null\"><div class=\"gd-50p right-border\" ng-if=\"vm.credentialTypeId !== vm.credentialConstants.DRIVER_LICENSE\" ng-class=\"{ 'block-section': vm.issuer === null }\"><super-multi-filter-list class=\"auto-subjects\" label=\"{{ credential.getSubjectAreaLabelByCredentialType(vm.credentialTypeId) }}\" display=\"tags\" selected=\"vm.selectedSubjects\" is-disabled=\"!credential.subjects.length || vm.loadingSubjects || vm.changeLockdown\"><super-multi-filter-list-item ng-repeat=\"subject in credential.subjects\" option=\"subject\"></super-multi-filter-list-item></super-multi-filter-list><div ng-if=\"vm.issuer != null && !credential.subjects.length && !vm.loadingSubjects && vm.issuer !== -1\" class=\"message\" ss-icon-before=\"info-circle\">Thereare no available items for this Issuer.</div><span ss-icon=\"spinner\" class=\"fadeSpinner\" ng-show=\"!credential.subjects.length && vm.loadingSubjects\"></span></div><div class=\"gd-50p\" ng-class=\"{ 'block-section': vm.issuer === null }\"><super-input-text ss-validate=\"go.validateCredentialNumber(vm.credentialNumber)\" class=\"auto-certification-number\" model=\"vm.credentialNumber\" required=\"vm.credentialTypeId === vm.credentialConstants.DRIVER_LICENSE\" label=\"{{ credential.getCredentialIdentifierByCredentialType(vm.credentialTypeId) }}\"></super-input-text></div></div><div class=\"gd-row fade ng-cloak\" ng-show=\"vm.credentialTypeId !== null\"><super-credential-status ng-class=\"{ 'block-section': vm.issuer === null }\" credential=\"credential\" credential-type-id=\"vm.credentialTypeId\" credential-id=\"vm.credentialId\" issuer=\"vm.issuer\" logged-in-user-key=\"loggedInUserKey\" is-cloning=\"isCloning\"></super-credential-status></div><div class=\"gd-row file-attachments\" ng-if=\"vm.credentialTypeId !== null\" ss-permitted=\"employeeCredentials.viewEmployeeCredentialFiles\"><div class=\"gd-20p\">Attachments</div><div class=\"gd-80p\"><super-credential-files files=\"vm.files\" is-uploading=\"vm.isUploading\"></super-credential-files></div></div></form></div>"),e.put("components/super-credential-files/credential-files.html","<div class=\"super-credential-files\"><div><ul class=\"uploaded-files\" ng-if=\"files.length\"><li class=\"file-item\" ng-repeat=\"file in files track by $index\" ng-class=\"{'markDeleted': file.isDeleted }\"><i class=\"file-icon\" ss-icon=\"{{ file.isDownloading ? 'spinner' :  go.getIcon(file) }}\"></i> <span class=\"file-name-group\"><super-button aria-label=\"Download {{ file.name }}\" class=\"add-credential\" label=\"{{ file.name }}\" link=\"\" ng-click=\"go.download(file)\" is-disabled=\"file.isDownloading\"></super-button><span class=\"file-meta\"><span class=\"extension\">{{ go.getExtension(file) }}</span> added <span ng-bind=\"file.createdUtc | date: 'MM/dd/yyyy'\"></span></span></span><super-button ss-icon-after=\"angle-down\" ss-permitted=\"employeeCredentials.deleteEmployeeCredentialFiles\"><item ng-click=\"go.deleteFile(file)\" aria-label=\"Remove {{ file.name }} from form\" title=\"Remove {{ file.name }}\"><h6>Delete</h6></item></super-button></li></ul></div><label for=\"file-upload\" class=\"fileContainer\" ss-permitted=\"employeeCredentials.uploadEmployeeCredentialFiles\"><div type=\"button\" class=\"super-button std uploadContainer\" ng-disabled=\"$scope.isUploading\">{{ $scope.isUploading ? 'Uploading...' : 'Upload File Attachment' }}<fluid-file-upload tmpl:prop=\"Default Value\" class-name=\"'file-upload-button'\" name=\"'file'\" accept=\"vm.accept\" aria-label=\"'Select file'\" on:change=\"go.sendFile($event)\"></fluid-file-upload></div></label></div>"),e.put("components/super-credential-status/credential-status.html","<div class=\"super-credential-status\"><fieldset aria-label=\"Select credential status\"><div class=\"flex-container statuses\" ng-class=\"{ 'block-section': isCloning }\"><div class=\"flex-item\" ng-repeat=\"status in vm.allCredentialStatuses\"><super-input-radio label=\"{{ status.label }}\" name=\"credentialStatus\" value=\"{{ status.value }}\" model=\"vm.credentialStatus\"></super-input-radio></div></div></fieldset><div class=\"flex-container\"><div class=\"flex-item renewal marginBottom\" ng-class=\"{ 'block-section': vm.isInProgress || isCloning }\"><super-input-checkbox aria-label=\"Renew the credential\" label=\"Renewal\" model=\"vm.isRenewal\"></super-input-checkbox></div><div class=\"flex-item issued date-picker left-border\"><super-input-datepicker ss-validate=\"validator.required(vm.stateStartedDay, credential.getIssueDateLabelsByStatus(vm.credentialStatus))\" label=\"{{ credential.getIssueDateLabelsByStatus(vm.credentialStatus, vm.isRenewal) }}\" required=\"true\" options=\"vm.stateStartedDtOptions\" model=\"vm.stateStartedDay\"></super-input-datepicker></div><div class=\"flex-item expiration\"><div class=\"left-border validation-group\" ss-validate=\"go.validateOr(vm.expirationDay, vm.isGrantedForLife)\"><div ng-class=\"{ 'block-section': vm.isGrantedForLife }\"><super-input-datepicker ss-validate=\"go.validateExpiration()\" class=\"date-picker\" required=\"credentialTypeId === vm.credentialConstants.DRIVER_LICENSE\" label=\"{{ credential.getExpirationDateLabelsByStatus(vm.credentialStatus) }}\" options=\"vm.expirationDtOptions\" is-disabled=\"vm.isGrantedForLife\" model=\"vm.expirationDay\"></super-input-datepicker></div><div class=\"lifetime\" ng-if=\"credentialTypeId !== vm.credentialConstants.DRIVER_LICENSE\" ng-class=\"{ 'block-section': vm.isInProgress || vm.expirationDay }\"><super-input-checkbox aria-label=\"This credential will never expire\" label=\"Lifetime\" model=\"vm.isGrantedForLife\"></super-input-checkbox></div></div></div><div class=\"flex-item verified marginBottom\" ng-class=\"{ 'block-section': vm.isInProgress }\"><super-input-checkbox aria-label=\"Verified by Admin\" label=\"Verified by Admin\" model=\"vm.isVerified\" is-disabled=\"!$root.isPermitted.employeeCredentials.verify\"></super-input-checkbox></div></div></div>"),e.put("components/super-credentials-cntr/credentials-cntr.html","<div class=\"super-credentials-cntr\"><h3>Certificates, Licenses and Clearances</h3><super-button aria-label=\"Add Credentials\" label=\"Add\" ss-icon=\"plus-circle\" class=\"add-credential\" link=\"\" ng-click=\"go.addCredential()\" is-disabled=\"vm.newCredential !== null || vm.currentlyEditing !== null\" ss-permitted=\"employeeCredentials.create\"></super-button><super-credential-add-edit ss-pending=\"vm.savingCredential\" ng-if=\"vm.newCredential !== null\" credential=\"vm.newCredential\" save-credential=\"go.saveCredential\" cancel-credential=\"go.cancelCredential\" org=\"vm.org\" logged-in-user-key=\"vm.loggedInUserKey\"></super-credential-add-edit><div><super-credentials-list ng-if=\"(vm.credentials.length > 0  && !vm.loadingCredentialList)\" credentials-list=\"vm.credentials\" org=\"vm.org\" logged-in-user-key=\"vm.loggedInUserKey\" currently-editing=\"vm.currentlyEditing\"></super-credentials-list><p class=\"no-credentials\" ng-if=\"(vm.credentials.length == 0 && !vm.loadingCredentialList && vm.currentlyEditing == null)\">No credentials added</p><div class=\"credential-loader\" ng-class=\"{'spinning': vm.loadingCredentialList, 'not-spinning': !vm.loadingCredentialList}\" ng-show=\"vm.loadingCredentialList\" ss-pending=\"vm.loadingCredentialList\"></div></div></div>"),e.put("components/super-credentials-list/credentials-list.html","<div class=\"super-credentials-list\"><div class=\"recent-credentials\" ng-show=\"vm.recent && vm.recent.length\"><super-credential ng-repeat=\"credential in vm.recent\" credential=\"credential\" org=\"org\" currently-editing=\"ctrl.currentlyEditing\" save-credential=\"go.saveCredential\" delete-credential=\"go.deleteCredential\"></super-credential></div><div ng-if=\"vm.archive.length\"><span><h3 class=\"header\">Archived ({{ vm.archive.length }})</h3></span><button type=\"button\" class=\"smp show-hide-details {{ (vm.archiveExpanded) ? 'fa-angle-up-after' : 'fa-angle-down-after' }} ss-toggle-closed\" ng-click=\"go.toggle()\"><span>{{ (vm.archiveExpanded) ? 'Hide' : 'View' }}</span></button></div><div class=\"archived-credentials\" ng-show=\"vm.archiveExpanded\"><div><super-credential ng-repeat=\"credential in vm.archive\" credential=\"credential\" org=\"org\" currently-editing=\"ctrl.currentlyEditing\" save-credential=\"go.saveCredential\" delete-credential=\"go.deleteCredential\"></super-credential></div></div></div>"),e.put("components/super-document-editor/document-editor.html","<div class=\"super-document-editor\"><!-----------------------------\nView\n------------------------------><!-- FILE --><div class=\"flex-wrapper document-view\" ng-if=\"model.isFile && !vm.isEdit\"><div class=\"flex-item content\"><i class=\"file-icon\" role=\"presentation\" ss-icon-before=\"{{ vm.fileIcon }}\"></i> <a class=\"document\" href=\"#\" ng-click=\"go.downloadFile(model._fileId)\" ng-bind=\"model._name\" title=\"View {{ model._name }}\"></a><ul class=\"ss-pipe-children file-meta\"><li class=\"file-ext\">.{{vm.extension}} file</li><li class=\"file-date\">{{vm.fileDateUtc}}</li></ul></div><div class=\"document-actions\" ng-if=\"employeePermissions.props[categoryPermission].edit\"><button type=\"button\" ss-icon=\"pencil\" class=\"smp edit\" ng-click=\"vm.isEdit = true\" ng-disabled=\"\"></button></div></div><!-- WEB FORM --><div class=\"flex-wrapper document-view\" ng-if=\"!model.isFile && !vm.isEdit\"><div class=\"flex-item content\"><i class=\"file-icon\" role=\"presentation\" ss-icon-before=\"{{ vm.fileIcon }}\"></i> <a class=\"document\" href=\"#\" ng-bind=\"model._name\" ng-click=\"go.viewOnline(model._formInstanceId)\" title=\"View {{ model._name }}\"></a><ul class=\"ss-pipe-children file-meta\"><li class=\"file-ext\">Web Form</li><li class=\"file-date\">{{vm.fileDateUtc}}</li><li class=\"file-attachments\" ng-if=\"vm.filesOnInstance.length\"><span ss-icon=\"spinner\" ng-if=\"vm.loadingFiles\"></span><super-popover link=\"{{ vm.filesOnInstance.length }}\" ss-icon=\"paperclip\" ng-if=\"!vm.loadingFiles\" title=\"file attachments\"><p>UPLOADED FILES (<small>These files were uploaded by a user as part of a workflow step.</small>)</p><ul class=\"popover-step-list\" ng-repeat=\"file in vm.filesOnInstance\"><li ss-icon-before=\"{{ file.icon }}\" ng-bind=\"file.filename\" ng-click=\"go.downloadFile(file.id)\" title=\"click to download {{file.filename}}\"></li></ul><p><button ng-if=\"vm.filesOnInstance.length > 1\" ng-click=\"go.downloadFiles(vm.filesOnInstance)\">Download all {{ vm.filesOnInstance.length }} files</button></p></super-popover></li><li ng-if=\"featureFlags['fc_enhanced_denied_form_workflow'] && model._deniedInfo\"><span ng-if=\"!vm.validDeniedInfo\" class=\"denied\" ss-icon=\"thumbsdown-stripes\">Form Denied</span><super-popover ng-if=\"vm.validDeniedInfo\" class=\"denied\" link=\"Form Denied\" aria-label=\"Click here for denied info.\" ss-icon=\"thumbsdown-stripes\">Denied by {{model._deniedInfo.denier.name}}<br>Comments: {{model._deniedInfo.comments}}</super-popover></li></ul></div><div class=\"document-actions\" ng-if=\"employeePermissions.props[categoryPermission].edit\"><button type=\"button\" ss-icon=\"pencil\" class=\"smp edit\" ng-click=\"vm.isEdit = true\" ng-disabled=\"\"></button></div></div><!-----------------------------\nEdit\n------------------------------><form ng-if=\"vm.isEdit\" class=\"flex-wrapper document-edit\" ss-pending=\"vm.saving\" ng-submit=\"go.save()\" ss-validate-form><fieldset class=\"flex-item content\"><div class=\"flex-wrapper\"><i class=\"file-icon\" role=\"presentation\" ss-icon-before=\"{{ vm.fileIcon }}\"></i><div class=\"flex-item file-name\"><a class=\"document\" href=\"#\" ng-if=\"!model.isFile\" ng-bind=\"model._name\" ng-click=\"go.viewOnline(model._formInstanceId)\" title=\"View {{ model._name }}\"></a><super-input-text ng-if=\"model.isFile\" required=\"true\" ss-validate=\"validator.required(model._name, 'file name')\" model=\"model._name\" name=\"fileName\"></super-input-text></div><div class=\"flex-item file-category\"><super-select-list model=\"vm.webFormCategory\"><super-select-list-item type=\"heading\" label=\"'Personnel Documents'\"></super-select-list-item><super-select-list-item value=\"'0-' + cat.value\" label=\"cat.name\" ng-repeat=\"cat in vm.categoryEnums.personnel\" ng-if=\"employeePermissions.props[cat.properties.permission].view\"></super-select-list-item><super-select-list-item type=\"heading\" label=\"'Medical Documents'\"></super-select-list-item><super-select-list-item value=\"'1-' + cat.value\" label=\"cat.name\" ng-repeat=\"cat in vm.categoryEnums.medical\" ng-if=\"employeePermissions.props[cat.properties.permission].view\"></super-select-list-item></super-select-list></div></div></fieldset><fieldset class=\"document-actions\"><button type=\"submit\" class=\"save\" ss-icon=\"check\" title=\"Save\"></button> <button type=\"button\" class=\"cancel\" ss-icon=\"times\" ng-click=\"go.cancelEdit()\" title=\"Cancel\"></button> <button type=\"button\" class=\"delete\" ss-icon=\"trash-o\" ng-click=\"onRemove({$item: model})\" title=\"Delete\"></button></fieldset></form></div>"),e.put("components/super-emergency-contact/emergency-contact.html","<div class=\"super-emergency-contact\" ss-pending=\"vm.loading\"><form id=\"emergency-contacts\" ss-validate-form ng-submit=\"go.save()\" autocomplete=\"off\" ng-if=\"vm.permitted.emergencyContacts.view\"><div class=\"control-panel\" ng-if=\"vm.permitted.emergencyContacts.edit\"><super-button label=\"Edit Emergency\" ng-click=\"go.edit()\" ng-if=\"!vm.editMode\"></super-button><super-button label=\"Cancel\" ng-click=\"go.cancel()\" ng-if=\"vm.editMode\" is-disabled=\"vm.saving\"></super-button><super-button pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" ng-if=\"vm.editMode\"></super-button></div><div class=\"record\" data-qa=\"primary-contact\" ss-validate=\"go.validateOr(vm.primary)\"><h3>Primary Emergency Contact</h3><div class=\"row\"><ul class=\"record-list\"><li><super-input-text permissions=\"vm.permitted.emergencyContacts\" model=\"vm.primary._contactName\" edit-mode=\"vm.editMode\" label=\"Name\" name=\"contactName\"></super-input-text></li><li><super-select-list label=\"Relationship\" model=\"vm.primary._relationshipType\" permissions=\"vm.permitted.emergencyContacts\" edit-mode=\"vm.editMode\" default-option-value=\"-1\" include-default-option=\"true\" enum-type=\"relationshipTypes\"><super-select-list-item ng-repeat=\"option in vm.options\" value=\"option.value\" label=\"option.name\" ng-if=\"go.hideLabel(option.value)\"></super-select-list-item></super-select-list></li><li class=\"remove\"><super-button smp label=\"Clear\" ss-icon=\"times\" ss-pending=\"vm.removing\" ng-if=\"vm.editMode\" ng-click=\"go.clearContact(vm.primary)\"></super-button></li></ul></div><div class=\"row\"><ul class=\"record-list\"><li><super-input-text name=\"primaryPhonePersonal\" model=\"vm.primary._primaryPhone\" edit-mode=\"vm.editMode\" label=\"Phone Number - Personal\" mask=\"phone\" ss-validate=\"vm.validator.phone(vm.primary._primaryPhone, 'Phone Number')\" permissions=\"vm.permitted.emergencyContacts\"></super-input-text></li><li><super-input-text name=\"primaryPhoneWork\" model=\"vm.primary._alternatePhone\" edit-mode=\"vm.editMode\" label=\"Phone Number - Work\" mask=\"phone\" ss-validate=\"vm.validator.phone(vm.primary._alternatePhone, 'Phone Number')\" permissions=\"vm.permitted.emergencyContacts\"></super-input-text></li></ul></div></div><div class=\"record\" data-qa=\"secondary-contact\" ss-validate=\"go.validateOr(vm.secondary)\"><h3>Secondary Emergency Contact</h3><div class=\"row\"><ul class=\"record-list\"><li><super-input-text model=\"vm.secondary._contactName\" edit-mode=\"vm.editMode\" label=\"Name\" name=\"contactName\" permissions=\"vm.permitted.emergencyContacts\"></super-input-text></li><li><super-select-list label=\"Relationship\" model=\"vm.secondary._relationshipType\" permissions=\"vm.permitted.emergencyContacts\" edit-mode=\"vm.editMode\" default-option-value=\"-1\" include-default-option=\"true\" enum-type=\"relationshipTypes\"><super-select-list-item ng-repeat=\"option in vm.options\" value=\"option.value\" label=\"option.name\" permissions=\"vm.permitted.emergencyContacts\" ng-if=\"go.hideLabel(option.value)\"></super-select-list-item></super-select-list></li><li class=\"remove\"><super-button smp label=\"Clear\" ss-icon=\"times\" ss-pending=\"vm.removing\" ng-if=\"vm.editMode\" ng-click=\"go.clearContact(vm.secondary)\"></super-button></li></ul></div><div class=\"row\"><ul class=\"record-list\"><li><super-input-text name=\"secondaryPhonePersonal\" model=\"vm.secondary._primaryPhone\" edit-mode=\"vm.editMode\" label=\"Phone Number - Personal\" mask=\"phone\" ss-validate=\"vm.validator.phone(vm.secondary._primaryPhone, 'Phone Number')\" permissions=\"vm.permitted.emergencyContacts\"></super-input-text></li><li><super-input-text name=\"secondaryPhoneWork\" model=\"vm.secondary._alternatePhone\" edit-mode=\"vm.editMode\" label=\"Phone Number - Work\" mask=\"phone\" ss-validate=\"vm.validator.phone(vm.secondary._alternatePhone, 'Phone Number')\" permissions=\"vm.permitted.emergencyContacts\"></super-input-text></li></ul></div></div></form></div>"),e.put("components/super-employment-info/employment-info.html","<div class=\"super-employment-info\" ss-pending=\"vm.loading && !employeeVm.refreshing\"><div ng-class=\"{'edit-mode': vm.editMode}\" ng-if=\"vm.employee != null\"><form ng-submit=\"go.save()\" ss-validate-form><div class=\"control-panel\" ng-if=\"vm.anyFieldIsEditable\"><super-button ng-if=\"!vm.editMode\" label=\"Edit Employment\" ng-click=\"go.edit()\" data-test=\"edit\"></super-button><super-button ng-if=\"vm.editMode\" label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel\"></super-button><super-button ng-if=\"vm.editMode\" class=\"save-button\" type=\"submit\" pri label=\"Save\" data-test=\"save\"></super-button></div><div class=\"record\"><h3>Employment</h3><div class=\"gd-row\"><ul class=\"record-list\" ng-if=\"vm.permitted.hireDate.view || vm.permitted.seniorityDate.view || vm.permitted.tenureDate.view || vm.permitted.retirementSystem.view\"><li ng-if=\"vm.permitted.hireDate.view\"><super-input-text ng-if=\"!vm.editMode\" permissions=\"vm.permitted.hireDate\" label=\"Hire Date\"><span ng-bind=\"vm.hireDateTxt\" data-test=\"hire-date\"></span> <span ng-if=\"vm.hireDateTxt.length\" data-test=\"hire-date-from-now\">{{vm.hireDateTxt | fromNow:'days':'Y[y] / M[m] / D[d]'}}</span></super-input-text><super-input-datepicker ng-if=\"vm.editMode\" class=\"hire-date\" permissions=\"vm.permitted.hireDate\" model=\"vm.hireDateTxt\" label=\"Hire Date\" edit-mode=\"vm.editMode\" data-test=\"hire-date\"></super-input-datepicker><span ng-if=\"vm.editMode && vm.hireDateTxt.length\" data-test=\"hire-date-from-now\">{{vm.hireDateTxt | fromNow:'days':'Y[y] / M[m] / D[d]'}}</span></li><li ng-if=\"vm.permitted.seniorityDate.view\"><super-input-datepicker permissions=\"vm.permitted.seniorityDate\" model=\"vm.seniorityDateTxt\" label=\"Seniority Date\" edit-mode=\"vm.editMode\" data-test=\"seniority-date\"></super-input-datepicker></li><li ng-if=\"vm.permitted.tenureDate.view\"><super-input-datepicker permissions=\"vm.permitted.tenureDate\" model=\"vm.tenureDateTxt\" label=\"Tenure Date\" edit-mode=\"vm.editMode\" data-test=\"tenure-date\"></super-input-datepicker></li><li ng-if=\"vm.permitted.retirementSystem.view\"><super-single-filter-list label=\"Retirement System\" items=\"vm.retirementSystems\" model=\"vm.employee._retirementSystem.id\" edit-mode=\"vm.editMode && vm.permitted.retirementSystem.edit\" databind-name=\"name\" databind-value=\"value\" include-none-option=\"false\" data-test=\"retirement-system\"></super-single-filter-list></li></ul></div><div class=\"gd-row\" ng-if=\"featureFlags.hasStateEducatorIdonEmployment && vm.permitted.stateEducatorId.view\"><ul class=\"record-list\"><li class=\"educator-id\" ss-hide-when-empty><super-input-text permissions=\"vm.permitted.stateEducatorId\" edit-mode=\"vm.editMode\" model=\"vm.employee._stateEducatorId\" label=\"State Educator ID\" name=\"educator-id\" id=\"external-id\" aria-label=\"educator id\" ss-validate=\"validator.educatorId(vm.employee._stateEducatorId)\" data-test=\"state-educator-id\"></super-input-text></li></ul></div></div><div class=\"record\" ng-if=\"vm.permitted.supervisor.view\"><super-supervisors employee=\"vm.employee\" edit-mode=\"vm.editMode\" org=\"vm.org\"></super-supervisors></div><div class=\"record\" ng-if=\"vm.permitted.statusHistory.view\"><super-status-group employee=\"vm.employee\" edit-mode=\"vm.editMode\" org=\"vm.org\"></super-status-group></div><div class=\"record\" ng-if=\"!vm.loading && vm.permitted.assignments.view\"><super-assignment-list employee=\"vm.employee\" edit-mode=\"vm.editMode\" org=\"vm.org\" positions=\"vm.positions\" on-load=\"go.assignmentsAreLoaded($loaded)\"></super-assignment-list></div></form></div></div>"),e.put("components/super-input-ssn/input-ssn.html","<div class=\"super-input-ssn\" ng-class=\"{'showing-value': vm.showValue, 'has-value': hasValue}\"><!-- We have a value and are showing it in edit mode --><super-input-text mask=\"ssn\" ng-show=\"hasValue && vm.showValue\" edit-mode=\"vm.editMode\" model=\"cmpt.model\" permissions=\"vm.permissions\" name=\"{{name}}\" input-id=\"{{inputId}}\" placeholder=\"{{placeholder}}\" label=\"{{label}}\" label-weight=\"{{labelWeight}}\" required=\"required\" is-disabled=\"isDisabled\"></super-input-text><!-- We have a value and are not showing it. Show stars --><super-input-text ng-show=\"hasValue && !vm.showValue\" edit-mode=\"false\" model=\"vm.redactedValue\" permissions=\"vm.permissions\" name=\"{{name}}\" input-id=\"{{inputId}}\" placeholder=\"{{placeholder}}\" label=\"{{label}}\" label-weight=\"{{labelWeight}}\" required=\"required\" is-disabled=\"isDisabled\"></super-input-text><!-- We do not have a value. Use super-input-text as is --><super-input-text mask=\"ssn\" ng-if=\"!hasValue\" edit-mode=\"vm.editMode\" model=\"cmpt.model\" permissions=\"vm.permissions\" name=\"{{name}}\" input-id=\"{{inputId}}\" placeholder=\"{{placeholder}}\" label=\"{{label}}\" label-weight=\"{{labelWeight}}\" required=\"required\" is-disabled=\"isDisabled\"></super-input-text><super-button smp label=\"View\" ss-icon=\"eye\" ng-click=\"go.get()\" ng-if=\"!vm.loading && hasValue && !vm.showValue\"></super-button><super-button smp label=\"View\" ss-icon=\"spinner\" is-disabled=\"true\" ng-if=\"vm.loading\"></super-button></div>"),e.put("components/super-medical-documents/medical-documents.html","<div class=\"super-medical-documents\"><super-employee-documents employee-id=\"vm.employeeId\" category-id=\"1\"></super-employee-documents></div>"),e.put("components/super-personal-info/personal-info.html","<div class=\"super-personal-info\"><super-personal-info-new employee-id=\"employeeId\" on-before-save=\"onBeforeSave()\" on-after-save=\"onAfterSave()\" on-before-cancel=\"onBeforeCancel()\" on-after-cancel=\"onAfterCancel()\"></super-personal-info-new></div>"),e.put("components/super-personal-info-new/personal-info-new.html","<div class=\"super-personal-info-new\" ss-pending=\"vm.loading\"><form ng-if=\"vm.emp\" ss-validate-form ng-submit=\"go.save()\" autocomplete=\"off\" ng-class=\"{'is-editing': vm.editMode.personal || vm.editMode.addresses || vm.editMode.emails || vm.editMode.phones}\"><div ng-if=\"vm.emp.hasPlatformSyncIssue\" class=\"error-banner\" role=\"alert\" aria-live=\"polite\">{{vm.emp.platformSyncMessage}}<super-button smp ng-if=\"go.canEdit('personal')\" ng-click=\"go.syncOrgPerson()\" ss-pending=\"vm.saving\" label=\"Select sync to resolve.\"></super-button></div><div class=\"heading\" ng-if=\"vm.editMode.all\"><super-button label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel-all\"></super-button><super-button pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" data-test=\"save-all\"></super-button></div><section class=\"personal\" aria-labelledby=\"personal-heading\" tabindex=\"0\" data-test=\"section-personal\"><div class=\"control-panel\" ng-if=\"go.canEdit('personal')\"><super-button ng-if=\"!vm.editMode.personal\" ng-disabled=\"go.isEditDisabled('personal')\" label=\"Edit\" ng-click=\"go.edit('personal')\" title=\"Edit your personal details\" data-test=\"edit-personal\"></super-button><super-button ng-if=\"vm.editMode.personal && !vm.editMode.all\" label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel-personal\"></super-button><super-button ng-if=\"vm.editMode.personal && !vm.editMode.all\" pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" data-test=\"save-personal\"></super-button></div><div class=\"record personal-record\"><h3 id=\"personal-heading\">Personal</h3><div class=\"gd-row\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-20p\" ss-hide-when-empty><super-select-list permissions=\"vm.permitted.title\" label=\"Title\" model=\"vm.emp._title\" enum-type=\"salutation\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"title\"><super-select-list-item ng-repeat=\"option in vm.options.title\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li><li class=\"gd-20p\" ss-hide-when-empty><super-input-text label=\"First\" name=\"first\" input-id=\"first-name\" aria-label=\"first name\" model=\"vm.emp._firstName\" permissions=\"vm.permitted.firstName\" edit-mode=\"vm.editMode.personal\" ss-validate=\"validator.required(vm.emp._firstName, 'first name')\" data-test=\"first-name\"></super-input-text></li><li class=\"gd-20p\" ss-hide-when-empty><super-input-text label=\"Middle\" name=\"middle\" input-id=\"middle\" aria-label=\"middle name\" model=\"vm.emp._middleName\" edit-mode=\"vm.editMode.personal\" permissions=\"vm.permitted.middleName\" data-test=\"middle-name\"></super-input-text></li><li class=\"gd-20p\" ss-hide-when-empty><super-input-text label=\"Last\" name=\"last\" input-id=\"last\" aria-label=\"last name\" permissions=\"vm.permitted.lastName\" model=\"vm.emp._lastName\" edit-mode=\"vm.editMode.personal\" ss-validate=\"validator.required(vm.emp._lastName, 'last name')\" data-test=\"last-name\"></super-input-text></li><li class=\"gd-20p\" ss-hide-when-empty><super-select-list input-id=\"suffix\" permissions=\"vm.permitted.suffix\" label=\"Suffix\" model=\"vm.emp._suffix\" enum-type=\"suffix\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"suffix\"><super-select-list-item ng-repeat=\"option in vm.options.suffix\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li></ul></div><div class=\"gd-row\" ng-if=\"!vm.editMode.personal\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li><super-input-text label=\"Other/Maiden Name (if applicable)\" input-id=\"alias-name\" name=\"alias-name\" aria-label=\"alias name\" model=\"vm.emp.aliasName\" edit-mode=\"vm.editMode.personal\" permissions=\"vm.permitted.aliasLastName\" data-test=\"alias-name\"></super-input-text></li></ul></div><div class=\"gd-row\" ng-if=\"vm.editMode.personal\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-35p\" ss-hide-when-empty><super-input-text input-id=\"alias-first-name\" permissions=\"vm.permitted.aliasFirstName\" model=\"vm.emp._aliasFirstName\" label=\"Other/Maiden Name First\" edit-mode=\"vm.editMode.personal\" aria-label=\"Other/Maiden name first\" name=\"aliasFirstName\" data-test=\"alias-first-name\"></super-input-text></li><li class=\"gd-30p\" ss-hide-when-empty><super-input-text input-id=\"alias-first-middle\" permissions=\"vm.permitted.aliasMiddleName\" model=\"vm.emp._aliasMiddleName\" label=\"Other/Maiden Name Middle\" edit-mode=\"vm.editMode.personal\" aria-label=\"Other/Maiden name middle\" name=\"aliasMiddleName\" data-test=\"alias-middle-name\"></super-input-text></li><li class=\"gd-35p\" ss-hide-when-empty><super-input-text input-id=\"alias-first-last\" permissions=\"vm.permitted.aliasLastName\" model=\"vm.emp._aliasLastName\" label=\"Other/Maiden Name Last\" edit-mode=\"vm.editMode.personal\" aria-label=\"Other/Maiden name last\" name=\"aliasLastName\" data-test=\"alias-last-name\"></super-input-text></li></ul></div><div class=\"gd-row\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-25p birth-date\" ss-hide-when-empty><ul role=\"none\" class=\"gd-row\" ss-hide-when-empty><li class=\"gd-75p\" ss-hide-when-empty><super-input-datepicker input-id=\"birthday\" permissions=\"vm.permitted.birthDateUtc\" model=\"vm.birthDateTxt\" label=\"Birth Date\" edit-mode=\"vm.editMode.personal\" aria-label=\"birth date\" name=\"birthDate\" data-test=\"birth-date\"></super-input-datepicker></li><li class=\"gd-25p\" ss-hide-when-empty><super-input-text ng-if=\"!vm.editMode.personal && vm.birthDateTxt != null\" permissions=\"vm.permitted.age\" model=\"vm.emp._age\" label=\"Age\" aria-label=\"Age\" edit-mode=\"vm.editMode.personal\" name=\"age\" input-id=\"age\" data-test=\"age\"></super-input-text></li></ul></li><li class=\"gd-50p\" ss-hide-when-empty><div class=\"qa-validate-ssn-externalid\" ss-validate=\"go.validateOr([vm.emp._sSN, vm.emp._externalId])\" ss-hide-when-empty><ul role=\"none\" class=\"gd-row\"><li class=\"gd-50p\" ss-hide-when-empty><super-input-ssn model=\"vm.emp._sSN\" employee-id=\"{{vm.emp.id}}\" has-value=\"vm.emp._hasSsn\" edit-mode=\"vm.editMode.personal\" label=\"Social Security #\" name=\"ssn\" input-id=\"ssn\" ss-validate=\"go.validateSSN()\" permissions=\"vm.permitted.ssn\" aria-label=\"Social security number\" data-test=\"ssn\"></super-input-ssn></li><li class=\"gd-50p\" ss-hide-when-empty><super-input-text permissions=\"vm.permitted.externalId\" model=\"vm.emp._externalId\" required=\"$scope.featureFlags['isHRMSEnabled']\" label=\"{{go.getExternalIdLabel()}}\" name=\"external-id\" data-test=\"external-id\" edit-mode=\"vm.editMode.personal\" input-id=\"external-id\" aria-label=\"{{go.getExternalIdLabel()}}\" ss-validate=\"validator.externalId(vm.emp._externalId, 'External Id')\"></super-input-text></li></ul></div></li><li class=\"gd-25p educator-id\" ss-hide-when-empty ng-if=\"featureFlags.hasStateEducatorIdonPersonal\"><super-input-text permissions=\"vm.permitted.stateEducatorId\" model=\"vm.emp._stateEducatorId\" label=\"State Educator ID\" name=\"state-educator-id\" data-test=\"state-educator-id\" input-id=\"state-educator-id\" edit-mode=\"vm.editMode.personal\" aria-label=\"state educator id\" ss-validate=\"validator.educatorId(vm.emp._stateEducatorId)\"></super-input-text></li></ul></div><div class=\"gd-row\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-20p\" ss-hide-when-empty><super-select-list permissions=\"vm.permitted.maritalStatus\" label=\"Marital Status\" model=\"vm.emp._maritalStatus\" enum-type=\"maritalStatus\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"marital-status\"><super-select-list-item ng-repeat=\"option in vm.options.maritalStatus\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li><li class=\"gd-20p\" ss-hide-when-empty><super-select-list permissions=\"vm.permitted.gender\" label=\"Gender\" model=\"vm.emp._gender\" enum-type=\"gender\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"gender\"><super-select-list-item ng-repeat=\"option in vm.options.gender\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li><li class=\"gd-25p\" ss-hide-when-empty><super-select-list permissions=\"vm.permitted.ethnicity\" label=\"Ethnicity\" model=\"vm.emp._ethnicity\" enum-type=\"ethnicity\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"ethnicity\"><super-select-list-item ng-repeat=\"option in vm.options.ethnicity\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li><li class=\"gd-35p\" ss-hide-when-empty><super-select-list permissions=\"vm.permitted.race\" label=\"Race\" model=\"vm.emp._race\" enum-type=\"race\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"race\"><super-select-list-item ng-repeat=\"option in vm.options.race\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li></ul></div></div></section><section class=\"addresses\" aria-labelledby=\"address-heading\" tabindex=\"0\" ng-if=\"vm.permitted.addresses.view\" data-test=\"section-addresses\"><div class=\"control-panel\" ng-if=\"go.canEdit('addresses')\"><super-button ng-if=\"!vm.editMode.addresses\" ng-disabled=\"go.isEditDisabled('addresses')\" label=\"Edit\" ng-click=\"go.edit('addresses')\" title=\"Edit your address\" data-test=\"edit-addresses\"></super-button><super-button ng-if=\"vm.editMode.addresses && !vm.editMode.all\" label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel-addresses\"></super-button><super-button ng-if=\"vm.editMode.addresses && !vm.editMode.all\" pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" data-test=\"save-addresses\"></super-button></div><div class=\"record address-record\"><super-address-list addresses=\"vm.emp._addresses\" edit-mode=\"vm.editMode.addresses\" org=\"vm.org\" permissions=\"vm.permitted.addresses\"></super-address-list></div></section><section class=\"emails\" aria-labelledby=\"emails-heading\" tabindex=\"0\" ng-if=\"vm.permitted.emails.view\" data-test=\"save-emails\"><div class=\"control-panel\" ng-if=\"go.canEdit('emails')\"><super-button ng-if=\"!vm.editMode.emails\" ng-disabled=\"go.isEditDisabled('emails')\" label=\"Edit\" ng-click=\"go.edit('emails')\" title=\"Edit your emails\" data-test=\"edit-emails\"></super-button><super-button ng-if=\"vm.editMode.emails && !vm.editMode.all\" label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel-emails\"></super-button><super-button ng-if=\"vm.editMode.emails && !vm.editMode.all\" pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" data-test=\"save-emails\"></super-button></div><div class=\"record contact-record\"><h3>Emails</h3><div class=\"gd-row\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-50p\" ss-hide-when-empty><super-input-text input-id=\"work-email\" permissions=\"vm.permitted.emails\" model=\"vm.emp.workEmail._emailAddress\" label=\"Work Email\" data-test=\"email-work\" edit-mode=\"vm.editMode.emails\" aria-label=\"work email\" ss-validate=\"validator.email(vm.emp.workEmail._emailAddress, 'Work Email')\"></super-input-text></li><li class=\"gd-50p\" ss-hide-when-empty><super-input-text input-id=\"personal-email\" permissions=\"vm.permitted.emails\" model=\"vm.emp.personalEmail._emailAddress\" label=\"Personal Email\" data-test=\"email-personal\" edit-mode=\"vm.editMode.emails\" aria-label=\"personal email\" ss-validate=\"validator.email(vm.emp.personalEmail._emailAddress, 'Personal Email')\"></super-input-text></li></ul></div></div></section><section class=\"phones\" aria-labelledby=\"phones-heading\" tabindex=\"0\" ng-if=\"vm.permitted.phoneNumbers.view\" data-test=\"save-phones\"><div class=\"control-panel\" ng-if=\"go.canEdit('phones')\"><super-button ng-if=\"!vm.editMode.phones\" ng-disabled=\"go.isEditDisabled('phones')\" label=\"Edit\" ng-click=\"go.edit('phones')\" title=\"Edit your phones\" data-test=\"edit-phones\"></super-button><super-button ng-if=\"vm.editMode.phones && !vm.editMode.all\" label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel-phones\"></super-button><super-button ng-if=\"vm.editMode.phones && !vm.editMode.all\" pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" data-test=\"save-phones\"></super-button></div><div class=\"record\"><super-phone-list phones=\"vm.emp._phoneNumbers\" edit-mode=\"vm.editMode.phones\" permissions=\"vm.permitted.phoneNumbers\"></super-phone-list></div></section></form></div>"),e.put("components/super-personnel-documents/personnel-documents.html","<div class=\"super-personnel-documents\"><super-employee-documents employee-id=\"vm.employeeId\" category-id=\"0\"></super-employee-documents></div>"),e.put("components/super-phone/phone.html","<div class=\"super-phone\" data-test=\"phone\"><super-grid-cell><super-select-list model=\"phone._usageType\" enum-type=\"usageType\" ss-validate=\"validator.required(phone._usageType, 'Usage Type')\" edit-mode=\"phone.isEditing\" include-default-option=\"true\" default-option-value=\"-1\"><super-select-list-item ng-repeat=\"option in vm.usageTypes | filter: go.filterPhoneTypes\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></super-grid-cell><super-grid-cell><super-input-text data-cy=\"edit-number\" placeholder=\"Phone Number\" model=\"phone._number\" ss-validate=\"validator.phoneNumber(phone._number, 'Phone Number')\" edit-mode=\"phone.isEditing\" mask=\"phone\"></super-input-text></super-grid-cell><super-grid-cell><super-input-text data-cy=\"edit-ext\" placeholder=\"Extension\" model=\"phone._extension\" edit-mode=\"phone.isEditing\"></super-input-text></super-grid-cell><super-grid-cell ng-if=\"vm.featureFlags.fc_oct_2020_phone_email_type_restriction\"><span ss-icon-before=\"check\" ng-if=\"phone._canReceiveTexts && !phone.isEditing\"></span><super-input-checkbox data-cy=\"edit-can-receive-texts\" placeholder=\"Can Receive Texts\" model=\"phone._canReceiveTexts\" edit-mode=\"phone.isEditing\" ng-if=\"phone.isEditing\"></super-input-checkbox></super-grid-cell><super-grid-cell><span ss-icon-before=\"check\" ng-if=\"phone._isPrimary && !phone.isEditing\"></span><super-input-checkbox data-cy=\"edit-primary\" placeholder=\"Primary\" model=\"phone._isPrimary\" edit-mode=\"phone.isEditing\" ng-if=\"phone.isEditing\"></super-input-checkbox></super-grid-cell><super-grid-cell ng-if=\"!vm.featureFlags.fc_oct_2020_phone_email_type_restriction\"><super-select-list model=\"phone._phoneType\" enum-type=\"phoneTypes\" edit-mode=\"phone.isEditing\" include-default-option=\"true\" default-option-value=\"-1\"><span ss-icon-before=\"check\" ng-if=\"phone._isPrimary && !phone.isEditing\"></span><super-select-list-item ng-repeat=\"option in vm.phoneTypes\" value=\"option.value\" label=\"option.name\"></super-select-list-item><super-input-checkbox data-cy=\"edit-primary\" placeholder=\"Primary\" model=\"phone._isPrimary\" edit-mode=\"phone.isEditing\" ng-if=\"phone.isEditing\"></super-input-checkbox></super-select-list></super-grid-cell><super-grid-cell class=\"actions\"><button type=\"button\" class=\"edit\" ng-click=\"go.edit()\" data-cy=\"edit\" ng-if=\"editMode && !phone.isEditing\">Edit</button> <button type=\"button\" class=\"cancel\" ss-icon=\"times\" title=\"Cancel\" ng-click=\"go.cancel()\" data-cy=\"cancel\" ng-if=\"phone.isEditing\"></button> <button type=\"button\" class=\"delete\" ss-icon=\"trash-o\" title=\"Delete\" ng-click=\"go.remove()\" data-cy=\"delete\" ng-if=\"phone.id && phone.isEditing\"></button></super-grid-cell></div>"),e.put("components/super-phone-list/phone-list.html","<div class=\"super-phone-list\" data-test=\"phone-list\"><div><h3 id=\"phones-heading\">Phones</h3><super-button smp ng-if=\"vm.editMode\" label=\"Add New Phone\" ng-click=\"go.add()\" ss-icon=\"plus-circle\" data-test=\"phone-add\"></super-button></div><super-grid ss-pending=\"vm.loading\"><grid-header><super-grid-column>Usage Type</super-grid-column><super-grid-column width=\"35%\">Phone Number</super-grid-column><super-grid-column width=\"80px\">Extension</super-grid-column><super-grid-column ng-if=\"vm.featureFlags.fc_oct_2020_phone_email_type_restriction\">Can Receive Texts</super-grid-column><super-grid-column width=\"80px\">Primary</super-grid-column><super-grid-column ng-if=\"!vm.featureFlags.fc_oct_2020_phone_email_type_restriction\">Phone Type</super-grid-column><super-grid-column width=\"80px\">Actions</super-grid-column></grid-header><grid-rows><super-grid-row ng-repeat=\"phone in phones\"><super-phone phone=\"phone\" on-remove=\"go.onRemove($index)\" on-check=\"go.onCheck($index)\" edit-mode=\"vm.editMode\"></super-phone></super-grid-row><super-grid-row ng-if=\"!phones.length\"><super-grid-cell><super-input-text model=\"'No phones were found.'\" edit-mode=\"false\"></super-input-text></super-grid-cell></super-grid-row></grid-rows></super-grid></div>"),e.put("components/super-status-group/status-group.html","<div class=\"super-status-group employee-status-group\" ss-validate=\"go.validate()\" data-test=\"statues\"><h4 ng-if=\"vm.currentStatus || vm.pastStatuses.length || vm.futureStatuses.length || editMode\" data-test=\"current-displayed-status\">Status <span ng-if=\"hasCurrentStatus && vm.currentStatus && vm.currentStatus.name\">- <span ng-bind=\"vm.currentStatus.name\"></span></span></h4><super-button smp label=\"Add Status Change\" ng-click=\"go.addStatus()\" ss-icon=\"plus-circle\" ng-if=\"vm.editMode\" class=\"add-status\" data-test=\"add-status\"></super-button><div class=\"gd-row new-status-group\" ng-if=\"vm.newStatuses.length\"><super-status-item org=\"org\" class=\"status-new\" data-test=\"new-status\" label=\"New Status\" edit-mode=\"vm.editMode\" ng-repeat=\"status in vm.newStatuses\" on-remove=\"go.removeStatus(status, vm.newStatuses)\" status=\"status\" editable=\"true\" type=\"new\"></super-status-item></div><div class=\"gd-row future-status-group\" ng-if=\"vm.futureStatuses.length\"><super-status-item org=\"org\" class=\"status-future\" data-test=\"future-status\" label=\"Future Status\" edit-mode=\"vm.editMode\" ng-repeat=\"status in vm.futureStatuses\" on-remove=\"go.removeStatus(status, vm.futureStatuses)\" status=\"status\" type=\"future\"></super-status-item></div><div class=\"gd-row current-status-group\" ng-if=\"vm.hasCurrentStatus\"><super-status-item org=\"org\" class=\"status-current\" data-test=\"current-status\" label=\"Current Status\" edit-mode=\"vm.editMode\" status=\"vm.currentStatus\" on-remove=\"go.removeStatus(vm.currentStatus, vm.newStatuses)\" type=\"current\"></super-status-item></div><div class=\"gd-row current-status-group\" ng-if=\"!vm.hasCurrentStatus && !vm.editMode\"><super-status-item org=\"org\" class=\"status-no-current\" data-test=\"no-status\" label=\"Current Status\" edit-mode=\"vm.editMode\" status=\"vm.currentStatus\" type=\"none\"></super-status-item></div><div class=\"gd-row past-status-group\" ng-if=\"vm.pastStatuses.length\"><div class=\"past-status-toggle\" ss-toggle-target ng-if=\"!vm.editMode\"><super-status-item org=\"org\" class=\"status-past\" data-test=\"past-status\" label=\"Past Status\" edit-mode=\"vm.editMode\" ng-repeat=\"status in vm.pastStatuses\" on-remove=\"go.removeStatus(status, vm.pastStatuses)\" status=\"status\" type=\"past\"></super-status-item></div><button ng-if=\"!vm.editMode\" class=\"smp past-status-toggle-control\" ss-toggle=\"past-status-toggle\" data-test=\"past-status-toggle\"><span>Past Status</span></button><super-status-item org=\"org\" ng-if=\"vm.editMode\" class=\"status-past\" data-test=\"past-status\" label=\"Past Status\" edit-mode=\"vm.editMode\" ng-repeat=\"status in vm.pastStatuses\" on-remove=\"go.removeStatus(status, vm.pastStatuses)\" status=\"status\" type=\"past\"></super-status-item></div></div>"),e.put("components/super-status-item/status-item.html","<div class=\"super-status-item {{vm.classes}}\" data-test-id=\"{{ status.id }}\" data-test-type=\"status\"><label class=\"status-label\" ng-bind=\"label\" ng-if=\"type === 'none'\" data-test=\"status-label\"></label><div ng-if=\"!vm.editable\"><div class=\"view-status\"><div ng-if=\"type !== 'none' && type !== 'new'\"><div ng-bind=\"vm.tagText\" class=\"ss-tag\" data-test=\"status-tag\" ng-class=\"{'ss-tag-positive': type === 'current', 'ss-tag-primary': type === 'future'}\"></div></div><span class=\"status-name none\" ng-if=\"status._statusId === enumEmployeeStatus.noStatus\" data-test=\"status-name\">None</span> <span class=\"status-name\" ng-if=\"status._statusId !== enumEmployeeStatus.noStatus\" data-test=\"status-name\">{{status._statusId | enumByValue:'employeeStatus'}}</span> <span ng-if=\"type === 'none' && vm.startDateTxt\">as of</span> <span ng-if=\"type === 'current'\">from</span> <span ng-if=\"type === 'future'\">starting on</span> <span data-test=\"status-start-date\">{{ vm.startDateTxt | date: 'MM/dd/yyyy'}}</span> <span ng-if=\"type !== 'none' && vm.endDateTxt && vm.endDateTxt.length\" data-test=\"status-end-date\">&ndash; {{ vm.endDateTxt | date: 'MM/dd/yyyy'}}</span><super-button ng-if=\"editMode\" smp class=\"edit\" label=\"Edit / Make Correction\" ng-click=\"go.open()\" data-test=\"status-edit\"></super-button><super-button ng-if=\"editMode && go.showRemove()\" smp class=\"remove\" label=\"Delete\" ng-click=\"go.remove()\" ss-icon=\"times\" data-test=\"status-remove\"></super-button></div><div class=\"view-reason\" ng-if=\"vm.currentChangeReason\" data-test=\"status-reason\"><span>Reason:&nbsp;</span><span ng-bind=\"vm.currentChangeReason\"></span></div></div><div ng-if=\"vm.editable\"><super-select-list class=\"status\" model=\"status._statusId\" ss-validate=\"validator.required(status._statusId, 'status type')\" data-test=\"status-type\"><super-select-list-item value=\"stat.value\" label=\"stat.name\" ng-repeat=\"stat in enumEmployeeStatus.getEnums()\" ng-if=\"stat.value !== enumEmployeeStatus.noStatus\"></super-select-list-item></super-select-list><span class=\"edit-from\">from</span> <span class=\"edit-from-date\"><super-input-datepicker model=\"vm.startDateTxt\" ss-validate=\"go.validateStart()\" data-test=\"status-start-date\"></super-input-datepicker></span><span class=\"edit-to\">to</span> <span class=\"edit-to-date\"><super-input-datepicker model=\"vm.endDateTxt\" ss-validate=\"go.validateEnd()\" data-test=\"status-end-date\"></super-input-datepicker></span><super-select-list class=\"reason\" ng-if=\"status._statusId >= 0 && status._statusId !== 1\" model=\"status._statusChangeReasonId\" data-test=\"status-reason\"><super-select-list-item value=\"r.value\" label=\"r.name\" ng-repeat=\"r in vm.changeReasons\"></super-select-list-item></super-select-list><super-button smp class=\"cancel\" label=\"Cancel\" ng-click=\"go.cancel()\" ss-icon=\"times\" data-test=\"status-cancel\"></super-button></div></div>"),e.put("components/super-supervisor/supervisor.html","<div class=\"super-supervisor\" data-test-id=\"{{supervisor.id}}\" data-test-type=\"supervisor\"><ul class=\"supervisor-record record-list\"><li class=\"name\" data-test=\"supervisor-name\"><div ng-if=\"!vm.isNewSupervisor || !editMode\">{{ supervisor._firstName }} {{ supervisor._lastName }}</div><super-employee-search ng-if=\"vm.isNewSupervisor && editMode\" model=\"vm.supervisorHolder\" limit=\"1\" use-pill=\"false\" remove-by-id=\"{{employee.id}}\" ss-validate=\"go.validateNewSupervisor(vm.supervisorHolder)\"></super-employee-search></li><li class=\"separator\">{{ (vm.isNewSupervisor || vm.endDateTxt === null) ? 'as of' : 'from' }}</li><li><div class=\"date-container\" ss-validate=\"go.validateDates(supervisor._from, supervisor._to)\"><span ng-if=\"((!supervisor.hasForeverPast && !vm.isNewSupervisor) || viewOnly)\" data-test=\"supervisor-start-date\">{{ vm.startDateTxt | date: 'MM/dd/yyyy'}}</span><super-input-datepicker ng-if=\"((supervisor.hasForeverPast || vm.isNewSupervisor) && !viewOnly)\" permissions=\"vm.permitted.supervisors\" model=\"vm.startDateTxt\" placeholder=\"Start Date\" ss-validate=\"validator.required(vm.startDateTxt, 'Start Date')\" options=\"vm.dtPickerOpt\" edit-mode=\"editMode\" data-test=\"supervisor-start-date\"></super-input-datepicker><span class=\"separator\" ng-show=\"(editMode || vm.endDateTxt !== null)\">{{ (vm.isNewSupervisor) ? ' ' : 'till' }}</span> <span ng-if=\"viewOnly\" data-test=\"supervisor-start-date\">{{ vm.endDateTxt | date: 'MM/dd/yyyy'}}</span><super-input-datepicker ng-if=\"!viewOnly && (editMode || vm.endDateTxt !== null)\" permissions=\"vm.permitted.supervisors\" model=\"vm.endDateTxt\" placeholder=\"End Date\" edit-mode=\"editMode\" data-test=\"supervisor-end-date\"></super-input-datepicker></div></li></ul><div class=\"action\"><super-button smp label=\"Remove\" class=\"remove-supervisor\" data-test=\"supervisor-remove\" ng-click=\"go.removeSupervisor(supervisor)\" ss-icon=\"times\" ng-if=\"!viewOnly && editMode && !supervisor.isFuture\"></super-button><super-button smp label=\"Remove\" class=\"remove-supervisor\" data-test=\"supervisor-remove\" is-disabled=\"true\" ss-icon=\"times\" ng-if=\"!viewOnly && editMode && supervisor.isFuture\" title=\"Please contact customer support to remove future dated supervisors\"></super-button></div></div>"),e.put("components/super-supervisors/supervisors.html","<div class=\"super-supervisors\" data-test=\"supervisors\"><div ng-if=\"vm.canView\"><h3 class=\"header-supervisor\">Supervisor</h3><super-button smp class=\"add-supervisor\" label=\"Add New Supervisor\" ng-if=\"vm.editMode && vm.canEdit\" ng-click=\"go.addNewSupervisor()\" ss-icon=\"plus-circle\" is-disabled=\"vm.newSupervisor !== null && vm.currentSupervisor !== null\" data-test=\"add-supervisor\"></super-button><super-supervisor class=\"new-supervisor\" ng-if=\"vm.newSupervisor !== null\" title=\"New Supervisor\" supervisor=\"vm.newSupervisor\" employee=\"employee\" edit-mode=\"vm.editMode && vm.canEdit\" org=\"vm.org\" data-test=\"new-supervisor\"></super-supervisor><div class=\"no-supervisor\" ng-if=\"vm.currentSupervisor == null\" data-test=\"no-current-supervisor\">Currently no supervisor assigned.</div><div class=\"future-supervisors\" ng-if=\"vm.futureSupervisors.length\" data-test=\"future-supervisors\"><h4>Future Supervisor(s)</h4><div ng-repeat=\"supervisor in vm.futureSupervisors\"><super-supervisor class=\"future-supervisor\" supervisor=\"supervisor\" employee=\"employee\" edit-mode=\"vm.editMode && vm.canEdit\" org=\"vm.org\" data-test=\"future-supervisor\"></super-supervisor></div></div><div ng-if=\"vm.currentSupervisor != null\"><h4>Current Supervisor</h4><super-supervisor class=\"current-supervisor\" title=\"Current Supervisor\" supervisor=\"vm.currentSupervisor\" employee=\"employee\" edit-mode=\"vm.editMode && vm.canEdit\" org=\"vm.org\" data-test=\"current-supervisor\"></super-supervisor></div><div ng-if=\"vm.pastSupervisors.length\"><button type=\"button\" class=\"smp show-hide-details {{ (vm.expanded) ? 'fa-angle-down-after' : 'fa-angle-up-after' }} ss-toggle-closed\" ss-toggle=\"past-supervisors\" ng-click=\"go.toggle()\" ss-toggle-start-expanded=\"{{vm.expanded}}\" data-test=\"past-supervisors-toggle\"><span>{{ (vm.expanded) ? 'Hide' : 'View' }} Supervisor history</span></button><div class=\"past-supervisors\" data-test=\"past-supervisors\"><h4>Past Supervisor(s)</h4><div ng-repeat=\"supervisor in vm.pastSupervisors\"><super-supervisor view-only supervisor=\"supervisor\" employee=\"employee\" edit-mode=\"vm.editMode && vm.canEdit\" org=\"vm.org\" data-test=\"past-supervisor\"></super-supervisor></div></div></div></div></div>"),e.put("components/super-two-column-list/two-column-list.html","<div class=\"super-two-column-list gd-row\"><div class=\"gd-25p\"><h4><label class=\"label\" ng-bind=\"vm.label\"></label></h4><h4><label class=\"label\" ng-if=\"!vm.hasLabel\">&nbsp;</label></h4></div><div class=\"gd-75p\" ng-transclude></div></div>")}])})();var s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var s,a=0;a<t.length;a++)s=t[a],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e},r=function(){function e(e,t){var s=[],i=!0,a=!1,n=void 0;try{for(var r,d=e[Symbol.iterator]();!(i=(r=d.next()).done)&&(s.push(r.value),!(t&&s.length===t));i=!0);}catch(e){a=!0,n=e}finally{try{!i&&d["return"]&&d["return"]()}finally{if(a)throw n}}return s}return function(t,s){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)},o=function e(t,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};s(this,e),this.restrict="E",this.replace=!0,this.scope=t,this.templateUrl="components/super-"+i+"/"+i+".html",Object.assign(this,a)},l={addresses:"=",editMode:"=?",org:"=",permissions:"="},p={};angular.module("super-suit-components").directive("superAddressList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","moment","ssAsync","ssEnum","ssDateHlp","ssDateByOrgHlp","ssEmployeeModelHlp","ssValidationHlp",function(e,t,s,i,a,n,r,d){function o(){if(0<e.addresses.length){var t=e.addresses.filter(function(e){return e._addressType===i.addressType.home});return m.future=t.find(function(t){return n.isInFuture({obj:t,fromProp:"_from",toProp:"_to",org:e.org})}),m.current=t.find(function(t){return n.isCurrent({obj:t,fromProp:"_from",toProp:"_to",org:e.org})}),m.past=t.filter(function(t){return n.isInPast({obj:t,fromProp:"_from",toProp:"_to",org:e.org})}).sort(function(e,t){return new Date(t._from)-new Date(e._from)}),l(m.future),l(m.current),m.past.forEach(l),null!==m.current&&(m.futureDtPickerOpt.minDate=r.nextDay(m.current._from,e.org).toDate(),m.hasNoValidAddresses=!1),void(0<m.past.length&&(m.currentDtPickerOpt.minDate=r.nextDay(m.past[0]._from,e.org).toDate()))}m.current={_from:a.foreverPastString,_to:a.foreverFutureString,_addressType:i.addressType.home,_isPrimary:!0,_street1:null,_street2:null,_city:null,_state:null,_zip:null,isCurrent:!0,isFuture:!1,isPast:!1},e.$watchGroup(["vm.current._street1","vm.current._street2","vm.current._city","vm.current._state","vm.current._zip"],function(t,s){if(t!==s)if(t.some(function(e){return null!=e&&""!==e})){var i=e.addresses.find(function(e){return e.isCurrent});null==i&&e.addresses.push(m.current)}else{var a=e.addresses.find(function(e){return e.isCurrent});e.addresses.splice(a,1)}})}function l(t){if(null!=t){var s=n.utcIsoToRelativeMoment(t._from,e.org),i=n.utcIsoToRelativeMoment(t._to,e.org);return t.startDateTxt=a.isForeverPast(t._from)?"":s.format("MM/DD/YYYY"),t.endDateTxt=a.isForeverFuture(t._to)?"":i.format("MM/DD/YYYY"),t.hasAddressInformation=!(t._street1||t._city||t._state||t._zip),t}}var p={current:null,future:null},m=e.vm={current:null,past:[],future:null,hasNoValidAddresses:!0,futureDtPickerOpt:{},currentDtPickerOpt:{},expanded:!1,states:i.states.getEnums()};e.validator={zip:d.zip()},e.$watch("editMode",function(){return s(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:m.editMode=!0===e.editMode,e.permissions.edit||(m.editMode=!1),"function"==typeof p.current&&(p.current(),p.current=null),"function"==typeof p.future&&(p.future(),p.future=null),o(),m.editMode&&(p.current=e.$watch("vm.current.startDateTxt",function(s,i){s===i||(s instanceof Date?(m.current._from=n.startOfDayRelativeTo(t(s),e.org),m.futureDtPickerOpt.minDate=r.nextDay(m.current._from,e.org).toDate()):m.current._from=a.foreverPast())}),e.$watch("vm.future.startDateTxt",function(s,i){s===i||s instanceof Date&&m.future&&(m.future._from=n.startOfDayRelativeTo(t(s),e.org))}));case 6:case"end":return s.stop();}},s,this)}))()});e.go={add:function(){m.future=l(r.newAddress(e.addresses,e.org)),e.addresses.push(m.future)},removeFuture:function(){var t=e.addresses.indexOf(m.future);e.addresses.splice(t,1),m.future=null,m.current&&(m.current.endDateTxt="")},toggle:function(){m.expanded=!m.expanded},isAddDisabled:function(){return null!=m.future||m.hasNoValidAddresses}}}]}]),t}(o);return new e(l,"address-list",p)});var m={mode:"=",org:"=",permissions:"=",position:"=",cancel:"&?",remove:"&?"},u={};angular.module("super-suit-components").directive("superAssignment",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","moment","ssAsync","ssDateByOrgHlp","ssDateHlp","ssValidationHlp","ssDepartmentSvc","ssLocationSvc","ssListSvc","ssJobTypeSvc","ssJobTypesApi","ssModalSvc","ssMultiInitiativeFeatureDetectorCCSvc","ssSaveInterrupterSvc","ssToastHlp",function(e,t,s,i,a,n,r,d,o,l,p,m,u,c,v){function g(t){D.mode=t,D.editing=!1,"new"===D.mode&&(D.editing=!0),y(),b.name=o.mapName(b._name,D.positionTypes),D.dateOptions=b.dateOptions||{},null==b.assignment._details&&(b.assignment._details=[]),1<b.assignment._details.length&&b.assignment._details.sort(function(e,t){return new Date(t._fromDateUtc)-new Date(e._fromDateUtc)}),f(),e.featureFlags.fc_enable_employee_module_save_interrupter&&(c.register(b),c.register(b.assignment))}function y(){if(D.isNew=null==b.id,D.isFuture=!1,D.isCurrent=!1,D.isPast=!1,D.isNew)D.tagText="New";else{D.isFuture=i.isInFuture({obj:b,fromProp:"_startDate",toProp:"_endDate",org:e.org}),D.isCurrent=i.isCurrent({obj:b,fromProp:"_startDate",toProp:"_endDate",org:e.org}),D.isPast=i.isInPast({obj:b,fromProp:"_startDate",toProp:"_endDate",org:e.org}),D.tagText=D.isCurrent?"In Effect":D.isFuture?"Upcoming":"Past";var t=i.utcIsoToRelativeMoment(b._startDate,e.org).format("MM/DD/YYYY"),s=a.isForeverFuture(b._endDate)?null:i.utcIsoToRelativeMoment(b._endDate,e.org).format("MM/DD/YYYY");null==s?D.isCurrent?D.dateRange=t+" - Current":D.isFuture&&(D.dateRange="Effective "+t):D.dateRange=t+" - "+s}}function f(){b.assignment._details.forEach(h)}function h(s){null==s.startDateOptions&&(s.startDateOptions={}),null==s.endDateOptions&&(s.endDateOptions={}),s.startDateOptions.minDate=a.isForeverPast(b._startDate)?null:t(i.startOfDayRelativeTo(t(b._startDate),e.org)).toDate(),s.startDateOptions.maxDate=a.isForeverFuture(b._endDate)?null:t(i.endOfDayRelativeTo(t(b._endDate),e.org)).toDate(),s.endDateOptions.minDate=a.isForeverPast(b._startDate)?null:t(i.startOfDayRelativeTo(t(b._startDate),e.org)).toDate(),s.endDateOptions.maxDate=a.isForeverFuture(b._endDate)?null:t(i.endOfDayRelativeTo(t(b._endDate),e.org)).toDate()}function _(){b.hasError=!1,b.assignment._details.forEach(function(e){return e.hasError=!1}),e.$emit("ss-validate-reset")}var b=e.position,D=e.vm={departments:r.getAll().sort(function(e,t){return e._name.localeCompare(t._name)}),locations:d.getAll().sort(function(e,t){return e._name.localeCompare(t._name)}),jobTypes:l.getAll().sort(function(e,t){return e._name.localeCompare(t._name)}),positionTypes:[],employmentGroups:[],tagText:"",dateRange:"",permissions:e.permissions,isNew:!1,isFuture:!1,isCurrent:!1,isPast:!1};e.featureFlags={fc_enable_employee_module_save_interrupter:!1,fc_job_type_cache:!1,showEmploymentGroups:!1},e.validator={required:function(e,t){return!D.editing||n.required()(e,t)},validate:function(){if(!D.editing)return!0;if(null==b.assignment._details||!b.assignment._details.length)return!0;var e=b.assignment._details.slice(0);e.sort(function(e,t){return new Date(t._fromDateUtc)-new Date(e._fromDateUtc)}),b.hasError=!1,e.forEach(function(e){return e.hasError=!1});var s=e[e.length-1],a=e[0];if(t(s._fromDateUtc).isBefore(t(b._startDate)))return b.hasError=!0,s.hasError=!0,"The first assignment details must not start before the assignment begins.";if(9999!==t(a._toDateUtc).year()&&9999!==t(b._endDate).year()&&t(a._toDateUtc).isAfter(t(b._endDate)))return b.hasError=!0,a.hasError=!0,"The last assignment details must not end after the assignment completes.";if(t(b._startDate).isAfter(t(b._endDate)))return b.hasError=!0,"The start date of this assignment cannot come after the end date.";if(1===e.length)return!0;for(var n=1;n<e.length;n++){var r=e[n],d=e[n-1];if(t(r._toDateUtc).isAfter(t(d._fromDateUtc)))return b.hasError=!0,d.hasError=!0,r.hasError=!0,"This assignment cannot have overlapping details."}return!0},externalId:n.string({maxLength:100})};e.go={addDetails:function(){if(null==b._jobType||null==b._jobType.id||!D.startDate)return void v.error("Please enter values for required assignment fields before adding assignment details.",new String(""));var e={_payLane:null,_payStep:null,_fromDateUtc:b._startDate,_toDateUtc:b._endDate,dateOptions:{}};h(e),b.assignment._details.push(e),_()},cancel:function(){D.editing=!1,_(),e.cancel()},edit:function(){"delete"===D.mode||(D.startDate=null==b._startDate||a.isForeverPast(b._startDate)?null:i.utcIsoToRelativeMoment(b._startDate,e.org).format("MM/DD/YYYY"),D.endDate=null==b._endDate||a.isForeverFuture(b._endDate)?null:i.utcIsoToRelativeMoment(b._endDate,e.org).format("MM/DD/YYYY"),D.editing=!0,e.$emit("assignment-edit",b.id))},removeDetails:function(e){m.showDestructive({title:"Are you sure?",content:"Are you sure you want to delete this assignment details?",primaryText:"Delete Assignment Details",secondaryText:"Cancel"}).then(function(){b.assignment._details.splice(e,1),_()})}};s(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.resolveAll(e.featureFlags);case 3:return t.next=5,o.getByExternalId("jobtype.employmentgroups");case 5:return D.employmentGroups=t.sent,t.next=8,o.getByExternalId("position.types");case 8:D.positionTypes=t.sent,e.$watch("mode",g),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),v.error(t.t0);case 15:case"end":return t.stop();}},t,this,[[0,12]])}))(),e.$watch("vm.startDate",function(s,n){s===n||(b._startDate=null==s?a.foreverPast():i.startOfDayRelativeTo(t(s),e.org),b.assignment._startDateUtc=b._startDate,f())}),e.$watch("vm.endDate",function(s,n){s===n||(b._endDate=null===s?a.foreverFuture():i.endOfDayRelativeTo(t(s),e.org),b.assignment._endDateUtc=b._endDate,f())}),e.$watch("position._jobType.id",function(t){null==t||(e.featureFlags.fc_job_type_cache?b.assignment.jobType=D.jobTypes.find(function(e){return e.id===t}):p.get({id:t,include:"jobTypeDetails,paySchedules"}).then(function(e){b.assignment.jobType=e}).catch(function(){}))})}]}]),t}(o);return new e(m,"assignment",u)});var c={details:"=",editMode:"=",jobType:"=",org:"=",permissions:"=",remove:"&?"},v={};angular.module("super-suit-components").directive("superAssignmentDetails",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","$element","ssJobTypeHlp","ssEmployeeAssignmentHlp","ssDateByOrgHlp","ssDateHlp","ssEnum","ssValidationHlp","enumPayRateFrequency","ssFlagCCSvc","ssSaveInterrupterSvc",function(e,t,s,i,a,n,r,d,o,l,p){function m(){if(f.isNew=null==y.id,f.isFuture=!1,f.isCurrent=!1,f.isPast=!1,f.isNew)f.tagText="New",f.collapsed=!1;else{f.isFuture=a.isInFuture({obj:y,fromProp:"_fromDateUtc",toProp:"_toDateUtc",org:e.org}),f.isCurrent=a.isCurrent({obj:y,fromProp:"_fromDateUtc",toProp:"_toDateUtc",org:e.org}),f.isPast=a.isInPast({obj:y,fromProp:"_fromDateUtc",toProp:"_toDateUtc",org:e.org}),f.tagText=f.isCurrent?"In Effect":f.isFuture?"Upcoming":"Past";var t=a.utcIsoToRelativeMoment(y._fromDateUtc,e.org).format("MM/DD/YYYY"),s=n.isForeverFuture(y._toDateUtc)?null:a.utcIsoToRelativeMoment(y._toDateUtc,e.org).format("MM/DD/YYYY");null==s?f.isCurrent?f.dateRange=t+" - Current":f.isFuture&&(f.dateRange="Effective "+t):f.dateRange=t+" - "+s}}function u(){if(null!=e.jobType){var t=s.getPaySchedule({startDate:y._fromDateUtc,endDate:y._toDateUtc,jobType:e.jobType,org:e.org}),i=t._payLanes.map(function(e,t){e.index=t;var s=e.paySteps.map(function(e,t){return e.index=t,e});return e.paySteps=s,e});t._payLanes=i,y.paySchedule=t,f.jobTypeDetails=s.getJobTypeDetail({startDate:y._fromDateUtc,endDate:y._toDateUtc,jobType:e.jobType,org:e.org}),c(y._payLane,y._payLane),v()}}function c(e,t){if(null==e)return y._payLane=null,y._payStep=null,void(f.paySteps=[]);var i=void 0,a=s.isValidPS(y.paySchedule);e>=y.paySchedule._payLanes.length||!a?(i=y.paySchedule._payLanes[0],y._payLane=0,y._payStep=0):(i=y.paySchedule._payLanes[e],(e!==t||null!=y._payStep&&y._payStep>=y.paySchedule._stepNames.length)&&(y._payStep=null)),f.paySteps=i.paySteps}function v(){if(null!=e.jobType){var t=y.paySchedule,a=i.jobTypeValuesForAssignment({paySchedule:t,jobTypeDetails:f.jobTypeDetails,assignmentDetails:y});if(f.payScheduleIsValid=s.isValidPS(t),f.jobTypeDetailValuesAreValid=a._jobTypeValuesForAssignmentAreValid,f.payScheduleIsValid||f.jobTypeDetailValuesAreValid){var n=i.getPayRate({paySchedule:t,currentDetails:y}),r=null==y._payRate?n:y._payRate,d=a._payRateFrequency,o=i.calculateAnnualSalary({payRateFrequency:d,payRate:r,hoursPerDay:a._hoursPerDay,workDaysPerYear:a._workDaysPerYear});f.payPerPeriod=i.calculatePayPerPeriod({calculatedSalary:o,payPeriodsPerYear:a._payPeriodsPerYear}),f.annualSalary=f.editMode?n:g({calculatedSalary:o,validPayRate:r,payRateFrequency:d}),f.payRateFrequencyString=i.getPayRateFrequencyString(d,f.payRateOptions)}else f.editMode?f.annualSalary=f.payPerPeriod=0:(f.annualSalary=y._payRate,f.payPerPeriod=0),f.payRateFrequencyString=i.getPayRateFrequencyString(y._payRateFrequency,f.payRateOptions)}}function g(e){var t=e.calculatedSalary,s=e.validPayRate,i=e.payRateFrequency;return i===o.hourly?s:t}var y=e.details,f=e.vm={payRateOptions:r.salaryType.getEnums(),collapsed:!0,jobTypeDetailsCols:i.jobTypeDetailFields(),startDate:null!=y.id||y._fromDateUtc?a.utcIsoToRelativeMoment(y._fromDateUtc,e.org).format("MM/DD/YYYY"):null,endDate:n.isForeverFuture(y._toDateUtc)?null:a.utcIsoToRelativeMoment(y._toDateUtc,e.org).format("MM/DD/YYYY"),isNew:!1,isFuture:!1,isPast:!1,isCurrent:!1};e.validator={required:function(e,t){return!f.editMode||d.required()(e,t)},dates:function(){return!f.editMode||(y.hasError=!1,!0===e.validator.required(f.startDate,"start date")?!moment(y._fromDateUtc).isAfter(moment(y._toDateUtc))||(y.hasError=!0,"The start date of this details cannot come after the end date."):(y.hasError=!0,e.validator.required(f.startDate,"start date")))},step:function(){return null==y._payLane||d.required()(y._payStep,"pay step")}};e.go={revert:function(t){y[t]=null,e.$emit("ss-validate-reset")}};e.$watch("editMode",function(){f.editMode=!0===e.editMode,e.permissions.details.edit||(f.editMode=!1),f.editMode?t.addClass("edit-mode"):t.removeClass("edit-mode"),l.ready.then(function(){return l.checkState("fc_enable_employee_module_save_interrupter")}).then(function(e){e&&(p.register(y),y.$$resetChangesDetected())}),m(),u()}),e.$watch("details.hasError",function(e){e?t.addClass("has-error"):t.removeClass("has-error")}),e.$watch("vm.startDate",function(t,s){t!==s&&t instanceof Date&&(y._fromDateUtc=a.startOfDayRelativeTo(moment(t),e.org),u())}),e.$watch("vm.endDate",function(t,s){t===s||(y._toDateUtc=null===t?n.foreverFuture():a.endOfDayRelativeTo(moment(t),e.org),u())}),e.$watch("jobType",function(e,t){e===t||u()}),e.$watch("details._payLane",function(e,t){e===t||c(e,t)}),e.$watch("details._payStep",function(e,t){e===t||v()}),e.$watch("details._payRateFrequency",function(e,t){e===t||(y._payRate=null,v())})}]}]),t}(o);return new e(c,"assignment-details",v)});var g={editMode:"=",employee:"=",org:"=",positions:"=",onLoad:"&"},y={};angular.module("super-suit-components").directive("superAssignmentList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","ssAsync","ssAssignmentApi","ssDateByOrgHlp","ssDateHlp","ssModalSvc","ssToastHlp",function(e,t,s,i,a,n,r){function o(e){return t(regeneratorRuntime.mark(function t(){var i,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e._assignments[0],t.next=3,s.getAssignment({id:e.id,assignmentId:i.id,include:"details"});case 3:n=t.sent,i.$permitted=n.$permitted,i._details=n._details,e.assignment=i;case 7:case"end":return t.stop();}},t,this)}))()}function l(){g.primaryPosition=c.find(function(e){return e.assignment._isPrimary&&i.isCurrent({obj:e,fromProp:"_startDate",toProp:"_endDate",org:v})}),g.futurePrimaryPositions=c.filter(function(e){return e.assignment._isPrimary&&i.isInFuture({obj:e,fromProp:"_startDate",toProp:"_endDate",org:v})}),g.pastPositions=c.filter(function(e){return e.assignment._isPrimary&&i.isInPast({obj:e,fromProp:"_startDate",toProp:"_endDate",org:v})}),g.otherPositions=c.filter(function(e){return!e.assignment._isPrimary&&i.isCurrent({obj:e,fromProp:"_startDate",toProp:"_endDate",org:v})}),g.futureOtherPositions=c.filter(function(e){return!e.assignment._isPrimary&&i.isInFuture({obj:e,fromProp:"_startDate",toProp:"_endDate",org:v})}),g.pastOtherPositions=c.filter(function(e){return!e.assignment._isPrimary&&i.isInPast({obj:e,fromProp:"_startDate",toProp:"_endDate",org:v})})}function d(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,s=a.foreverPast();t&&(s=i.startOfDayRelativeTo(moment({years:t.get("year"),months:t.get("month"),date:t.get("date")}),v));var n=a.foreverFuture(),r={_employee:{id:u.id},_isPrimary:e,_startDateUtc:s,_endDateUtc:n,_details:[],$isDirty:function(){return!0},$permitted:{actions:{create:!0,delete:!0},props:{details:{view:!0,edit:!0,redacted:!1,raw:3}}}};return{_name:"",_location:{},_jobType:{},_department:{},_startDate:s,_endDate:n,_assignments:[r],assignment:r,$isDirty:function(){return!0}}}function p(e){var t=i.utcIsoToRelativeMoment(e,v);return t.clone().add(1,"days").startOf("day")}function m(){c.forEach(function(e){return e.hasError=!1}),e.$emit("ss-validate-reset")}var u=e.employee,c=e.positions,v=e.org,g=e.vm={loading:!0,editingId:null,permissions:u.$permitted.props,pastPositionsExpanded:!1,pastOtherPositionsExpanded:!1};e.validator={validate:function(){if(g.loading||!g.editMode)return!0;var e=c.filter(function(e){return e.assignment._isPrimary});if(e.forEach(function(e){return e.hasError=!1}),2>e.length)return!0;e.sort(function(e,t){return new Date(t._startDate)-new Date(e._startDate)}),e.sort(function(e,t){return new Date(t.assignment._createdUtc)-new Date(e.assignment._createdUtc)}),e.sort(function(e,t){return new Date(t.assignment._startDateUtc)-new Date(e.assignment._startDateUtc)});for(var t=1;t<e.length;t++){var s=e[t],a=e[t-1];if(moment(s._endDate).isAfter(moment(a._startDate)))return s.hasError=!0,a.hasError=!0,"This employee cannot have overlapping primary assignments."}return!0}};e.go={addPrimary:function(){var e=c.filter(function(e){return e.assignment._isPrimary}),t=e[0],s=null;t&&(s=a.isForeverFuture(t._endDate)?p(t._startDate):p(t._endDate),a.isForeverFuture(s)&&(s=null)),g.newPrimaryPosition=d(!0,s),g.editingId="new",c.push(g.newPrimaryPosition),m()},addSecondary:function(){g.newPosition=d(),g.editingId="new",c.push(g.newPosition)},cancelPosition:function(e){if(e.isUpdating=!0,null==e.id){var s=c.findIndex(function(t){return t.id===e.id&&t.assignment._isPrimary===e.assignment._isPrimary});return 0<=s&&c.splice(s,1),e.assignment._isPrimary?g.newPrimaryPosition=null:g.newPosition=null,void(g.editingId=null)}t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$revert();case 3:return e.assignment._details=[],t.next=6,o(e);case 6:g.editingId=null,m(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),r.error("there was a problem retrieving assignment details");case 13:return t.prev=13,e.isUpdating=!1,t.finish(13);case 16:case"end":return t.stop();}},t,this,[[0,10,13,16]])}))()},getMode:function(e){return g.editMode?"delete"===g.editingId?"delete":"new"===g.editingId?null==e.id?"new":"view":null==g.editingId||null==e||g.editingId===e.id?"edit":"view":"view"},removePosition:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;n.showDestructive({title:"Are you sure?",content:"Are you sure you want to delete this assignment?",primaryText:"Delete Assignment",secondaryText:"Cancel"}).then(function(){var s;null==t?null!=e.id&&e.assignment._isPrimary&&(g.primaryPosition=null):(s=t.findIndex(function(t){return t.id===e.id}),0<=s&&t.splice(s,1)),s=c.findIndex(function(t){return t.id===e.id&&t.assignment._isPrimary===e.assignment._isPrimary}),0<=s&&c.splice(s,1),g.editingId="delete",m()})}};e.$on("assignment-edit",function(e,t){g.editingId=t,e.stopPropagation()}),e.$watch("editMode",function(e){return g.newPosition=null,g.newPrimaryPosition=null,g.editMode=e,g.permissions.assignments.edit||(g.editMode=!1),g.loading=!0,t(regeneratorRuntime.mark(function e(){var t,s,a,n,r,p,m,u,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=0;case 2:if(!(t<c.length)){e.next=10;break}if(s=c[t],null==s._assignments[0]){e.next=7;break}return e.next=7,o(s);case 7:t++,e.next=2;break;case 10:if(1<c.length&&(c.sort(function(e,t){return new Date(t._startDate)-new Date(e._startDate)}),c.sort(function(e,t){return new Date(t.assignment._createdUtc)-new Date(e.assignment._createdUtc)}),c.sort(function(e,t){return new Date(t.assignment._startDateUtc)-new Date(e.assignment._startDateUtc)}),a=c.filter(function(e){return e.assignment._isPrimary}),1<a.length))for(n=a.length-1,r=0;r<a.length;r++)p=void 0,m=void 0,u=void 0,y=a[r],y.dateOptions={},r<n&&(m=a[r+1],u=new Date(i.startOfDayRelativeTo(moment(m._endDate).startOf("day"),v)),u=moment(u).add(1,"days").toDate(),y.dateOptions.minDate=u),0<r&&(p=a[r-1],u=new Date(i.startOfDayRelativeTo(moment(p._startDate).startOf("day"),v)),u=moment(u).subtract(1,"days").toDate(),y.dateOptions.maxDate=u);l(),e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](0);case 16:return e.prev=16,g.loading=!1,e.finish(16);case 19:case"end":return e.stop();}},e,this,[[0,14,16,19]])}))()})}]}]),t}(o);return new e(g,"assignment-list",y)});var f={credential:"=",org:"=",currentlyEditing:"=",deleteCredential:"=",saveCredential:"="},h={};angular.module("super-suit-components").directive("superCredential",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","$window","moment","ssFilenameHlp","ssAsync","$stateParams","ssToastHlp","ssDateHlp","ssModalSvc","ssCredentialBusinessEngineSvc","ssCredentialDataAccessSvc","ssCredentialViewModelFactorySvc",function(e,t,s,i,a,n,r,d,o,l,p,m){function u(t){f.isProcessing=!0,a(regeneratorRuntime.mark(function s(){var i,a;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,p.getEmployeeCredentialById(v._employee,v);case 3:i=s.sent,i&&(e.currentlyEditing=e.credential,a=t(),f.credentialBeingEdited=a),s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](0),r.error(s.t0,"Error",!1);case 10:return s.prev=10,f.isProcessing=!1,s.finish(10);case 13:case"end":return s.stop();}},s,this,[[0,7,10,13]])}))()}var c=e.org,v=e.credential,g=l.getCredentialStatus(v,s()),y=l.credentialConstants,f=e.vm={isProcessing:!1,isCloning:!1,credentialConstants:y,org:c,credentialBeingEdited:null,deletedIssuer:!1,deletedCredentialType:!1},h=e.go={onEdit:function(){u(function(){return m.create(v)})},onRenew:function(){u(function(){return m.renew(v)}),f.isCloning=!0},onMakeActive:function(){u(function(){return m.makeActive(v)}),f.isCloning=!0},onDelete:function(){o.showDestructive({title:"Delete Credential",content:"Are you sure you want to delete this credential?",primaryText:"Continue",secondaryText:"Cancel"}).then(function(){f.isProcessing=!0,a(regeneratorRuntime.mark(function t(){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.$remove();case 3:s=t.sent,s&&e.deleteCredential(v),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),r.error(t.t0,"Error",!1);case 10:return t.prev=10,f.isProcessing=!1,t.finish(10);case 13:case"end":return t.stop();}},t,this,[[0,7,10,13]])}))()})},saveCredential:function(t,s){f.isProcessing=!0,a(regeneratorRuntime.mark(function i(){var a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.saveCredential(v,v._employee,t,s);case 3:a=i.sent,a&&(f.credentialBeingEdited=null),i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](0),r.error(i.t0,"Error",!1);case 10:return i.prev=10,f.isProcessing=!1,i.finish(10);case 13:case"end":return i.stop();}},i,this,[[0,7,10,13]])}))()},cancelCredential:function(){f.credentialBeingEdited=e.currentlyEditing=null,f.isCloning=!1},downloadFile:function(e){e.isDownloading=!0,p.downloadFile(e.fileId,n.employeeId).then(function(e){null!=e&&t.open(e._string,"_blank")}).finally(function(){return e.isDownloading=!1})},expiresSoon:function(){return l.isExpiring(v,s())},isExpired:function(){return l.isExpired(v,s())},getExpirationLabel:function(){return l.isExpired(v,s())?"Expired":l.isExpiring(v,s())?"Expires Soon":"Expires"},getSubjects:function(){return v._subjects.map(function(e){return e.name}).join(", ")},isForeverFuture:function(){return d.isForeverFuture(v._expirationDay)},isRenewed:function(){return v._issuedReason===y.CREDENTIAL_RENEWED},showDate:function(e){return s(e).format("MM/DD/YYYY")},getIcon:function(e){return i.getIcon(i.getExtension(e.name))},hasActiveDates:function(){return(g.value===y.ACTIVE||g.value===y.NOT_ACTIVE)&&(v._stateStartedDay||v._expirationDay||v._verifiedDay)},hasInProgressDates:function(){return g.value===y.IN_PROGRESS},showActions:function(){var t=e.$root.isPermitted.employeeCredentials;return t.edit||t.softDelete}};f.deletedCredentialType=!d.isForeverFuture(v._credential.deletedUtc),f.deletedIssuer=!d.isForeverFuture(v._credential.issuer.deletedUtc)}]}]),t}(o);return new e(f,"credential",h)});var _={credential:"=",saveCredential:"<",cancelCredential:"<",org:"=",loggedInUserKey:"<",isCloning:"<?"},b={};angular.module("super-suit-components").directive("superCredentialAddEdit",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","$rootScope","ssToastHlp","ssObjectHlp","ssValidationHlp","ssModalSvc","ssAsync","ssCredentialBusinessEngineSvc","ssCredentialDataAccessSvc","ssCredentialViewModelFactorySvc","ssDateHlp","ssSaveInterrupterSvc","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,s,i,a,n,r,o,l,p,m,u,c){function v(e){var s=[];return e=!0===e||1===e||"1"===e,T.forEach(function(i){!0===e&&3===parseInt(i.id)&&s.push(i),!1===e&&3>parseInt(i.id)&&s.push(i)}),s}function g(){[].concat(Array.prototype.slice.call(arguments)).forEach(function(e){return e()})}function y(){A.credentialId=null;var e=o.updatedCredentialState(x,{_credentialId:null}),t=p.updatedCredentialViewModelState(D,{credentials:[],subjects:[]});Object.assign(D,t),Object.assign(x,e)}function f(){return e.featureFlags.fc_enable_employee_module_save_interrupter&&E?void u.register(D):void(h()?(e.$broadcast("cred-parent-dirty-changed",{parentIsDirty:!0}),u.register(D)):e.$broadcast("cred-parent-dirty-changed",{parentIsDirty:!1}))}function h(){return!!(E||S.credential.credentialTypeId!==parseInt(A.credentialTypeId)||S.credential.id!==A.credentialId||JSON.stringify(S._subjectIds)!==JSON.stringify(x._subjectIds)||S._credentialNumber!==x._credentialNumber||S.files.length!==A.files.length||A.newFileAdded)}function _(){A.selectedSubjects=[],A.credentialNumber=null;var e=o.updatedCredentialState(x,{_credentialNumber:null,_subjectIds:[]});Object.assign(x,e)}e.featureFlags={fc_enable_employee_module_save_interrupter:!1};var b=e.org,D=e.credential,x=e.credential.data,w=x.files?[].concat(d(x.files)):[],S=i.deepFreeze(i.deepCopy(x)),P=e.loggedInUserKey,E=null==x._credentialId,C=o.credentialConstants,I=e.validator={limit:a.string({maxLength:100}),dlLimit:a.string({required:!0,minLength:1,maxLength:100})},T=[],M=null,F=i.deepCopy(t.utils.findInParentScope("stateIssuers",e)),k=i.deepCopy(t.utils.findInParentScope("customIssuers",e)),A=e.vm={isEdit:!E,credentialTypeId:x.credentialTypeId,credentialConstants:C,credentialId:x._credentialId,isCustomCredential:3===parseInt(x.credentialTypeId,10),issuer:x.issuer?x.issuer.id:null,issuersToLoad:[],selectedSubjects:[],credentialNumber:x._credentialNumber,loadingCredentialTypes:!1,loadingIssuers:!1,loadingCredentials:!1,loadingSubjects:!1,isUploading:!1,files:w,changeLockdown:!1,deletedIssuerLockdown:!1,deletedCredentialLockdown:!1,newFileAdded:!1,isDirty:!1};A.deletedIssuerLockdown=!!x.issuer&&!m.isForeverFuture(x.issuer.deletedUtc),A.deletedCredentialLockdown=!!x.credential&&!m.isForeverFuture(x.credential.deletedUtc),A.changeLockdown=A.deletedCredentialLockdown||A.deletedIssuerLockdown||e.isCloning,r(regeneratorRuntime.mark(function t(){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.resolveAll(e.featureFlags);case 2:if(E){t.next=11;break}if(i=null,i=3===parseInt(A.credentialTypeId,10)?k.find(function(e){return e.id===x.issuer.id}):F.find(function(e){return e.id===x.issuer.id}),null!=i){t.next=10;break}return t.next=8,l.getIssuerById(A.issuer);case 8:i=M=t.sent,A.issuersToLoad=[i];case 10:A.issuer=i.id;case 11:return t.prev=11,A.loadingCredentialTypes=!0,t.next=15,l.getCredentialTypes();case 15:T=t.sent,D.credentialTypes=v(3===parseInt(A.credentialTypeId,10)),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](11),s.error(t.t0.message,"Error",!1);case 22:return t.prev=22,A.loadingCredentialTypes=!1,t.finish(22);case 25:e.$watch("credential.data",function(){f()}),e.$on("cred-file-changed",function(){A.newFileAdded=!0,f()}),e.$watch("vm.credentialNumber",function(e,t){if(e!==t){var s=e&&e.length?e:null,i=o.updatedCredentialState(x,{_credentialNumber:s});Object.assign(x,i),f()}}),e.$watch("vm.isCustomCredential",function(e,t){e===t||(A.credentialTypeId=null,D.credentialTypes=v("1"===e),A.isCredentialTypeSelected=!0)}),e.$watch("vm.credentialTypeId",function(t,s){if(null!=t){if(t!==s&&(A.issuer=-1,g(y,_)),A.deletedIssuerLockdown||(A.issuersToLoad=3===parseInt(A.credentialTypeId,10)?k:F[t]),A.issuersToLoad.length||(A.issuer=-1),!(b._address&&A.issuersToLoad.length))A.issuersToLoad.length&&(A.issuer=A.issuersToLoad[0].id);else if(E){var i=A.issuersToLoad.find(function(t){return t._stateId===e.org._address.state});null==i&&(i=A.issuersToLoad[0]),null!=i&&(A.issuer=i.id)}else if(-1!==A.issuer){var a=A.issuersToLoad.find(function(e){return e.id===A.issuer});A.deletedIssuerLockdown=!1,null==a&&(A.deletedIssuerLockdown=!0,A.issuersToLoad.push(M))}x.credentialTypeId=t}}),e.$watch("vm.issuer",function(t,i){null==t||-1===t||(t!==i&&E&&g(y,_),r(regeneratorRuntime.mark(function i(){var a,n,r,d,m;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,A.loadingSubjects=A.loadingCredentials=!0,i.next=4,l.getCredentialsByIssuer(t);case 4:if(a=i.sent,n=[],A.credentialTypeId!==C.DRIVER_LICENSE){i.next=13;break}r=A.credentialId=a.length?a[0].id:-1,d=o.updatedCredentialState(x,{_credentialId:r}),Object.assign(x,d),f(),i.next=16;break;case 13:return i.next=15,l.getSubjectsByIssuer(t);case 15:n=i.sent;case 16:!E&&A.deletedCredentialLockdown&&a.push({_name:e.credential.data.credential.name,id:e.credential.data.credential.id}),m=p.updatedCredentialViewModelState(D,{credentials:a,subjects:n}),Object.assign(D,m),f(),e.$applyAsync(function(){return A.selectedSubjects=n.filter(function(e){return x._subjectIds.includes(e.id)})}),i.next=26;break;case 23:i.prev=23,i.t0=i["catch"](0),s.error(i.t0.message,"Error",!1);case 26:return i.prev=26,A.loadingSubjects=A.loadingCredentials=!1,i.finish(26);case 29:case"end":return i.stop();}},i,this,[[0,23,26,29]])}))())}),e.$watch("vm.credentialId",function(e,t){if(null!==e){E||e===t||g(_);var s=o.updatedCredentialState(x,{_credentialId:e});Object.assign(x,s),f()}}),e.$watchCollection("vm.selectedSubjects",function(e,t){if(e!==t){var s=o.updatedCredentialState(x,{_subjectIds:e.map(function(e){return e.id})});Object.assign(x,s),f()}});case 33:case"end":return t.stop();}},t,this,[[11,19,22,25]])}))();e.go={saveCredential:function(){if(E||null==x.verifier||o.isVerifierValid(x,P)||Object.is(JSON.stringify(S),JSON.stringify(x))||t.isPermitted.employeeCredentials.verify)!0!==t.isPermitted.employeeCredentials.verify&&delete x._verifiedDay,e.saveCredential(x,A.files),A.deletedIssuerLockdown=!1;else{n.showStandard({title:"Credential was verified",content:"This credential was previously marked as verified, but is no longer due to your recent edit.",primaryText:"Continue",secondaryText:"Cancel"}).then(function(){var s=o.updatedCredentialState(x,{_verifiedDay:null});Object.assign(x,s),f(),!0!==t.isPermitted.employeeCredentials.verify&&delete x._verifiedDay,e.saveCredential(x,A.files),A.deletedIssuerLockdown=!1})}u.clear(D)},cancelAddingCredential:function(){u.clear(D),e.cancelCredential()},validateCredentialNumber:function(e){return A.credentialTypeId===A.credentialConstants.DRIVER_LICENSE?I.dlLimit(e):I.limit(e)}}}]}]),t}(o);return new e(_,"credential-add-edit",b)});var D={files:"=",isUploading:"="},x={};angular.module("super-suit-components").directive("superCredentialFiles",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","$window","$stateParams","ssAsync","ssFilenameHlp","ssToastHlp","ssCredentialDataAccessSvc",function(e,t,s,i,a,n,r){function d(e){var t=[];return(""===e.name||null===e.name||void 0===e.name)&&t.push("The selected file does not have a name."),52428800<=e.size&&t.push("The selected file cannot be larger than 50MB."),t}function o(e){return{id:null,fileId:e.id,name:e.name||e.filename,isDeleted:!1,createdUtc:new Date}}var l=e.vm={accept:[".csv","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel,application/pdf,application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].join(", ")},p=e.go={getExtension:function(e){return a.getExtension(e.name)},getIcon:function(e){return a.getIcon(p.getExtension(e))},download:function(e){e.isDownloading=!0,r.downloadFile(e.fileId,s.employeeId).then(function(e){null!=e&&t.open(e._string,"_blank")}).finally(function(){return e.isDownloading=!1})},deleteFile:function(t){e.$emit("cred-file-changed"),t.isDeleted=!0},sendFile:function(t){var a=t.target.files[0],l=d(a);return l.length?void n.error(l,"Error",!1):void(e.isUploading=!0,i(regeneratorRuntime.mark(function t(){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.uploadFile(s.employeeId,a);case 3:i=t.sent,e.files.push(o(i)),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),n.error(t.t0,"Error",!1);case 10:return t.prev=10,e.$emit("cred-file-changed"),e.isUploading=!1,t.finish(10);case 14:case"end":return t.stop();}},t,this,[[0,7,10,14]])}))())}}}]}]),t}(o);return new e(D,"credential-files",x)});var w={credential:"=",credentialTypeId:"=",credentialId:"=",issuer:"=",parentDirty:"=",loggedInUserKey:"<",isCloning:"<?"},S={};angular.module("super-suit-components").directive("superCredentialStatus",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","ssCredentialBusinessEngineSvc","ssDateHlp","ssValidationHlp","ssObjectHlp","ssSaveInterrupterSvc","ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,s,i,a,n,r,d){function o(e){var t=!0;null==e.verifier&&(t=!1),null===e._verifiedDay&&(t=!1);var s=a.glean(c,function(e){return e.verifier.name},null);return null===s&&(t=!1),t}function l(){[].concat(Array.prototype.slice.call(arguments)).forEach(function(e){return e()})}function p(){Object.assign(D,{stateStartedDay:"",expirationDay:"",isVerified:!1,isGrantedForLife:!1,isRenewal:!1});var e=t.updatedCredentialState(c,{_stateStartedDay:"",_expirationDay:"",_isGrantedForLife:!1,_issuedReason:f.CREDENTIAL_NEW});Object.assign(c,e)}function m(t){e.featureFlags.fc_enable_employee_module_save_interrupter&&(c._expirationDay!==g._expirationDay||c._isGrantedForLife!==g._isGrantedForLife||c._stateStartedDay!==g._stateStartedDay||c._verifiedDay!==g._verifiedDay||t?n.register(u):n.clear())}var u=e.credential,c=u.data,v=e.credentialTypeId,g=a.deepFreeze(a.deepCopy(c)),y=null!==c._id,f=t.credentialConstants,h=t.allCredentialStatuses,_={stateStartedDay:y?moment(c._stateStartedDay).toISOString():"",expirationDay:c._isGrantedForLife||!y?"":moment(c._expirationDay).toISOString()},b=y&&t.getCredentialStatus(c,moment()).value||f.ACTIVE;e.featureFlags={fc_enable_employee_module_save_interrupter:!1},e.validator={required:i.required()};var D=e.vm=Object.assign({credentialConstants:f,allCredentialStatuses:v===f.DRIVER_LICENSE?h.filter(function(e){return e.value!==f.IN_PROGRESS}):h,credentialStatus:h.find(function(e){return e.value===b}).value,isRenewal:c._issuedReason===f.CREDENTIAL_RENEWED,isGrantedForLife:c._isGrantedForLife,isVerified:o(c),isInProgress:b===f.CREDENTIAL_INPROGRESS,parentDirty:!1,stateStartedDtOptions:y?u.getDateOptionsForIssueDate(_.expirationDay):{},expirationDtOptions:y?u.getDateOptionsForExpirationDate(_.stateStartedDay):{}},_);r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.resolveAll(e.featureFlags);case 2:case"end":return t.stop();}},t,this)}))(),e.$on("cred-parent-dirty-changed",function(e,t){m(t.parentIsDirty)}),e.$watch("vm.isRenewal",function(e,s){if(e!==s){var i=t.issuedReasonByCredentialStatus(D.credentialStatus,e),a=t.updatedCredentialState(u.data,{_issuedReason:i});Object.assign(u.data,a)}}),e.$watch("vm.isVerified",function(e,s){if(e!==s){var i=e?moment().format("YYYY-MM-DD"):null,a={};D.isVerified=e,null==e&&(D.isVerified=!1),a=t.updatedCredentialState(c,{_verifiedDay:i}),Object.assign(c,a),m()}}),e.$watch("vm.isGrantedForLife",function(e,i){if(e!==i){D.expirationDay="";var a="";e&&(a=moment(s.foreverFuture()).format("YYYY-MM-DD"));var n=t.updatedCredentialState(c,{_expirationDay:a,_isGrantedForLife:e});Object.assign(c,n),m()}}),e.$watch("vm.stateStartedDay",function(e,s){if(e!==s&&(D.expirationDtOptions=u.getDateOptionsForExpirationDate(e),!!(e instanceof Date))){var i=moment(e).format("YYYY-MM-DD"),a=t.updatedCredentialState(c,{_stateStartedDay:i});Object.assign(c,a),m()}}),e.$watch("vm.expirationDay",function(e,s){if(e!==s&&(D.stateStartedDtOptions=u.getDateOptionsForIssueDate(e),!!(e instanceof Date))){var i=moment(e).format("YYYY-MM-DD"),a=t.updatedCredentialState(c,{_expirationDay:i});Object.assign(c,a),m()}}),e.$watch("vm.credentialStatus",function(s,i){if(null!=u&&s!==i){e.$emit("ss-validate-reset"),l(p),D.isInProgress=s===f.IN_PROGRESS;var a=t.updatedCredentialState(c,{_issuedReason:t.issuedReasonByCredentialStatus(s,D.isRenewal)});Object.assign(c,a),m()}}),e.$watch("credentialTypeId",function(t,s){t===s||(l(p),D.allCredentialStatuses=t===f.DRIVER_LICENSE?h.filter(function(e){return e.value!==f.IN_PROGRESS}):h,e.$emit("ss-validate-reset"),m())}),e.$watch("credentialId",function(e,t){e===t||(D.credentialStatus=h.find(function(e){return e.value===f.ACTIVE}).value,l(p))}),e.$watch("issuer",function(e,t){if(e!==t)return null==e&&l(p),null==t&&null!=e||-1===e?(D.credentialStatus=h.find(function(e){return e.value===f.ACTIVE}).value,void p()):void(e.id===t.id||(D.credentialStatus=h.find(function(e){return e.value===f.ACTIVE}).value,l(p),m()))});e.go={validateOr:function(t,s){if(D.isInProgress)return!0;return!!(t||s)||(e.credentialTypeId===f.DRIVER_LICENSE?"Please fill expiration date":"Please fill expiration date or select lifetime.")},validateExpiration:function(){return!0!==(D.isInProgress&&!D.expirationDay)||"Tentative completion date is required."}};D.isVerified=o(c)}]}]),t}(o);return new e(w,"credential-status",S)});var P={employeeId:"="},E={};angular.module("super-suit-components").directive("superCredentialsCntr",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","$q","ssAsync","ssToastHlp","ssActiveUserSvc","ssCredentialDataAccessSvc","ssCredentialFactorySvc","ssCredentialViewModelFactorySvc","ssCredentialBusinessEngineSvc","ssOrganizationSvc",function(e,t,s,i,a,n,r,d,o,l){function p(e){var t=e._subjects.map(function(e){return e.id}).sort().join("_"),s=u.credentials.some(function(s){return e._credential.id===s._credential.id&&t===s._subjects.map(function(e){return e.id}).sort().join("_")});s&&i.info("The old credential has been moved to the Archived group at the bottom of the page.","Archiving Credential",!1)}var m=o.credentialConstants,u=e.vm={currentlyEditing:null,savingCredential:!1,newCredential:null,loadingCredentialList:!0,credentials:[]};s(regeneratorRuntime.mark(function t(){var s,r,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.getIdentityByType("employee");case 3:return u.loggedInUserKey=t.sent,t.next=6,l.getActiveOrg();case 6:return u.org=t.sent,t.next=9,n.getIssuersByCredentialType(m.CERTIFICATE_LICENSE,m.STATE_NATIONAL);case 9:return s=t.sent,t.next=12,n.getIssuersByCredentialType(m.CLEARANCES,m.STATE_NATIONAL);case 12:return r=t.sent,t.next=15,n.getIssuersByCredentialType(m.DRIVER_LICENSE,m.STATE_NATIONAL);case 15:return d=t.sent,e.stateIssuers=[],e.stateIssuers[m.CERTIFICATE_LICENSE]=s,e.stateIssuers[m.CLEARANCES]=r,e.stateIssuers[m.DRIVER_LICENSE]=d,t.next=22,n.getIssuers(m.DISTRICT_CUSTOM);case 22:return e.customIssuers=t.sent,t.next=25,n.getCredentialsByEmployee(e.employeeId);case 25:u.credentials=t.sent,t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](0),i.error(t.t0,"Error",!1);case 31:return t.prev=31,u.loadingCredentialList=!1,t.finish(31);case 34:case"end":return t.stop();}},t,this,[[0,28,31,34]])}))();e.go={addCredential:function(){var e=r.create(),t=d.create(e);u.currentlyEditing=u.newCredential=t},saveCredential:function(a,r){u.savingCredential=!0,s(regeneratorRuntime.mark(function s(){var d,o,l;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,n.addEmployeeCredential({id:e.employeeId},a);case 3:if(d=s.sent,o=r.filter(function(e){return null===e.id&&!e.isDeleted}),!o.length){s.next=12;break}return l=o.map(function(t){return n.associateFile(e.employeeId,d.id,t)}),s.next=9,t.all(l);case 9:return s.next=11,n.getEmployeeCredentialById({id:e.employeeId},d);case 11:d=s.sent;case 12:d&&(p(d),u.credentials.push(d),u.currentlyEditing=u.newCredential=null),s.next=18;break;case 15:s.prev=15,s.t0=s["catch"](0),i.error(s.t0,"Error",!1);case 18:return s.prev=18,u.savingCredential=!1,s.finish(18);case 21:case"end":return s.stop();}},s,this,[[0,15,18,21]])}))()},cancelCredential:function(){u.newCredential=u.currentlyEditing=null}}}]}]),t}(o);return new e(P,"credentials-cntr",E)});var C={credentialsList:"=",org:"=",loggedInUserKey:"=",currentlyEditing:"="},I={};angular.module("super-suit-components").directive("superCredentialsList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","$q","ssAsync","ssToastHlp","ssCredentialDataAccessSvc","ssCredentialBusinessEngineSvc",function(e,t,s,i,a,n){function r(e,t){var s=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],a=t._subjects.map(function(e){return e.id}).sort().join("_"),n=!1;if(s){var r=e.filter(function(e){return e.id!==t.id});r.length&&(n=r.some(function(e){return e._credential.credentialTypeId===t._credential.credentialTypeId&&e._credential.id===t._credential.id&&e._credential.issuer.id===t._credential.issuer.id&&a===e._subjects.map(function(e){return e.id}).sort().join("_")}))}else n=e.some(function(e){return t.id===e.id&&a===e._subjects.map(function(e){return e.id}).sort().join("_")});n&&i.info("The old credential has been moved to the Archived group at the bottom of the page.","Archiving Credential",!1)}e.ctrl=e;var d=e.vm={archiveExpanded:!0};e.$watch("credentialsList.length",function(){var t=n.filterCredentialList(e.credentialsList),s=t.recent,i=t.archive;d.recent=s,d.archive=i});e.go={toggle:function(){d.archiveExpanded=!d.archiveExpanded},saveCredential:function(i,n,o,l){var p=t.defer();return s(regeneratorRuntime.mark(function s(){var m,u,c,v,g,y,f,h,_;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!o._id){s.next=19;break}if(m=l.filter(function(e){return e.isDeleted&&null!==e.id}),!m.length){s.next=7;break}return u=m.map(function(e){return a.deleteFile(n.id,o._id,e)}),s.next=7,t.all(u);case 7:if(c=l.filter(function(e){return null===e.id&&!e.isDeleted}),!c.length){s.next=12;break}return v=c.map(function(e){return a.associateFile(n.id,o._id,e)}),s.next=12,t.all(v);case 12:return s.next=14,a.patchEmployeeCredential(n,o);case 14:g=s.sent,g&&(r(d.recent,g,!0),y=e.credentialsList.indexOf(i),e.credentialsList[y]=g,e.currentlyEditing=null),p.resolve(g),s.next=32;break;case 19:return s.next=21,a.addEmployeeCredential(n,o);case 21:if(f=s.sent,h=l.filter(function(e){return null===e.id&&!e.isDeleted}),!h.length){s.next=30;break}return _=h.map(function(e){return a.associateFile(n.id,f.id,e)}),s.next=27,t.all(_);case 27:return s.next=29,a.getEmployeeCredentialById(n,f);case 29:f=s.sent;case 30:f&&(r(d.recent,f),e.credentialsList.push(f),e.currentlyEditing=null),p.resolve(f);case 32:s.next=37;break;case 34:s.prev=34,s.t0=s["catch"](0),p.reject(s.t0);case 37:case"end":return s.stop();}},s,this,[[0,34]])}))(),p.promise},deleteCredential:function(t){e.credentialsList=e.credentialsList.filter(function(e){return e!==t})}}}]}]),t}(o);return new e(C,"credentials-list",I)});var T={model:"=",employeePermissions:"=?",categoryPermission:"=?",onRemove:"&?"},M={};angular.module("super-suit-components").directive("superDocumentEditor",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","$stateParams","$state","$filter","$window","ssValidationHlp","ssAsync","ssFilenameHlp","ssEmployeeApi","ssToastHlp","ssFormInstancesApi","ssSaveInterrupterSvc","ssObjectHlp","ssMultiInitiativeFeatureDetectorCCSvc","ssEnum","ssActiveUserSvc","ssSleepHlp",function(e,t,s,i,a,n,r,o,l,p,m,u,c,v,g,y,f){function h(e){var t=[],s=e._steps.filter(function(e){return b.test(e._formFieldValues)&&e._stepAction!==g.stepAction.formCompleted}).map(function(e){return e._formFieldValues});return s.length&&s.forEach(function(e){var s=JSON.parse(e);Object.keys(s).filter(function(e){return Array.isArray(s[e])}).filter(function(e){return s[e].every(function(e){return!!e.filename})}).forEach(function(e){var i;t=(i=t).concat.apply(i,d(_(s[e])))})}),t}function _(e){return e.map(function(e){var t=o.getExtension(e.filename),s=o.getIcon(t);return{id:e.id,filename:e.filename,ext:t,icon:s}})}var b=/.*{"filename":.*/,D=e.vm={categoryEnums:{personnel:g.personnelCategory.enums,medical:g.medicalCategory.enums},webFormCategory:e.model._category+"-"+e.model._subCategory,model:e.model,subCategories:e.subcategories,fileDateUtc:function(e){return e._createdUtc||e._originalFileDateUtc?e._originalFileDateUtc?"originated "+i("date")(e._originalFileDateUtc,"MM/dd/yyyy"):"added "+i("date")(e._createdUtc,"MM/dd/yyyy"):""}(e.model),isEdit:!1,fileIcon:o.getIcon(o.getExtension(e.model._name))||"file",extension:o.getExtension(e.model._name),loadingFiles:!e.model.isFile,filesOnInstance:[],validDeniedInfo:c.glean(e.model,function(e){return e._deniedInfo.comments})||c.glean(e.model,function(e){return e._deniedInfo.denier.name})};e.featureFlags={fc_enable_employee_module_save_interrupter:!1,fc_enhanced_denied_form_workflow:!1},e.validator={required:n.required()},e.$watch("vm.webFormCategory",function(t,s){t&&t!==s&&(e.model._category=t.split("-")[0],e.model._subCategory=t.split("-")[1])}),r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.resolveAll(e.featureFlags);case 2:e.model.isFile||m.get({id:e.model._formInstanceId,include:"steps"}).then(function(e){return D.filesOnInstance=h(e)}).finally(function(){return D.loadingFiles=!1}),e.featureFlags.fc_enable_employee_module_save_interrupter&&u.register(e.model);case 4:case"end":return t.stop();}},t,this)}))();var x=e.go={save:function(){r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return D.saving=!0,0>e.model._name.indexOf("."+D.extension)&&(e.model._name+="."+D.extension.toLowerCase()),t.prev=2,t.next=5,e.model.$save();case 5:p.success("Document saved successfully."),t.next=14;break;case 8:t.prev=8,t.t0=t["catch"](2),p.error(t.t0,"Error saving document"),e.model.$revert(),D.saving=!1,D.isEdit=!1;case 14:return t.prev=14,f.sleep().then(function(){e.$emit("on-document-edit",e.model)}),t.finish(14);case 17:case"end":return t.stop();}},t,this,[[2,8,14,17]])}))()},cancelEdit:function(){e.model.$revert(),e.featureFlags.fc_enable_employee_module_save_interrupter&&u.clear(),D.isEdit=!1},downloadFiles:function(e){e.forEach(function(e){return x.downloadFile(e.id)})},downloadFile:function(e){l.getFileUrlById({id:t.employeeId,fileId:e}).then(function(e){a.open(e._string,"_blank")})},viewOnline:function(e){var i=s.current.name.substring(s.current.name.lastIndexOf(".")+1),n="/ec-forms/form-instance/"+e+"?returnUrl=/ec-employee/record/"+t.employeeId+"/"+i;a.open(n,"_self")}}}]}]),t}(o);return new e(T,"document-editor",M)});var F={employee:"=?",employeeId:"=?",onBeforeSave:"&?",onAfterSave:"&?",onBeforeCancel:"&?",onAfterCancel:"&?"},k={};angular.module("super-suit-components").directive("superEmergencyContact",function(){var e,t=function(t){function o(){return s(this,o),n(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return a(o,t),i(o,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","ssSaveInterrupterSvc","ssEventSvc","ssMultiInitiativeFeatureDetectorCCSvc","ssValidateHlp","ssEmployeeModelHlp","ssJsonApiHlp","ssMutatorDataHlp","ssValidationHlp","ssSleepHlp","enumRelationshipTypes",function(t,s,i,a,n,o,l,p,m,u,c,v,g){function y(e,t){var s=r(e,3),i=s[0],a=s[1],n=s[2],d=S.employee._emergencyContacts.findIndex(function(e){return"primary"===t?e._isPrimary:!e._isPrimary});return-1!==d&&S.employee._emergencyContacts.splice(d,1),null!=i&&-1!==i?void S.employee._emergencyContacts.push(S[t]):""!==a||""!==n?void S.employee._emergencyContacts.push(S[t]):void 0}function f(e){p.cleanEmployeeForSave(e),h(e),_(e)}function h(e){var t={_isPrimary:!1,_relationshipType:-1,_contactName:null,_primaryPhone:null,_alternatePhone:null},s={_contactName:"",_primaryPhone:"",_alternatePhone:""},i=[].concat(d(e._emergencyContacts));0===i.length?(i.push(angular.extend({},t)),i[0]._isPrimary=!0):1===i.length&&(i.push(angular.extend({},t)),i[1]._isPrimary=!i[0]._isPrimary),e.primaryEmergencyContact=i.find(function(e){return e._isPrimary}),e.secondaryEmergencyContact=i.find(function(e){return!e._isPrimary}),null!=e.primaryEmergencyContact&&m.setFieldDefaultValues(e.primaryEmergencyContact,s),null!=e.secondaryEmergencyContact&&m.setFieldDefaultValues(e.secondaryEmergencyContact,s)}function _(e){null!=e.primaryEmergencyContact&&(e.primaryEmergencyContact.primaryPhoneFormatted=u.formatPhone(e.primaryEmergencyContact._primaryPhone),e.primaryEmergencyContact.alternatePhoneFormatted=u.formatPhone(e.primaryEmergencyContact._alternatePhone)),null!=e.secondaryEmergencyContact&&(e.secondaryEmergencyContact.primaryPhoneFormatted=u.formatPhone(e.secondaryEmergencyContact._primaryPhone),e.secondaryEmergencyContact.alternatePhoneFormatted=u.formatPhone(e.secondaryEmergencyContact._alternatePhone))}function b(e){p.cleanEmployeeForSave(e)}function D(e,t){for(var s=!1,i=0;i<e.length;i++)s=null==e[i]?s||!1:s||0<e[i].length;return s?s:(null==t&&(t="One of the fields in this group is required."),t)}function x(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return"function"==typeof e?e:function(){}}var w={onBeforeSave:x(t.onBeforeSave),onAfterSave:x(t.onAfterSave),onBeforeCancel:x(t.onBeforeCancel),onAfterCancel:x(t.onAfterCancel)},S=t.vm={editMode:!1,options:g.getEnums(),employee:t.employee,primary:!1,secondary:!1,saving:!1,validator:{phone:c.phone(),required:c.required()},loading:!0};t.featureFlags={fc_enable_employee_module_save_interrupter:!1},s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.loading=!0,e.prev=1,e.next=4,o.resolveAll(t.featureFlags);case 4:if(null!=t.employee){e.next=16;break}return e.prev=5,e.next=8,i.get({id:t.employeeId,include:"emergencyContacts",fields:"id"},null,!1);case 8:S.employee=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](5),n.emit("error-404");case 14:e.next=17;break;case 16:S.employee=t.employee;case 17:S.permitted=S.employee.$permitted.props,f(S.employee),S.primary=S.employee.primaryEmergencyContact,S.secondary=S.employee.secondaryEmergencyContact,t.$watch("vm.primary._contactName",function(e,t){if(e!==t&&null!=e&&t&&!t.length&&e.length){var s=S.employee._emergencyContacts.findIndex(function(e){return e._isPrimary});-1!==s&&S.employee._emergencyContacts.splice(s,1),S.employee._emergencyContacts.push(S.primary)}}),t.$watch("vm.secondary._contactName",function(e,t){if(e!==t&&null!=e&&t&&!t.length&&e.length){var s=S.employee._emergencyContacts.findIndex(function(e){return!e._isPrimary});-1!==s&&S.employee._emergencyContacts.splice(s,1),S.employee._emergencyContacts.push(S.secondary)}}),t.$watchGroup(["vm.primary._relationshipType","vm.primary._primaryPhone","vm.primary._alternatePhone"],function(e,t){e===t||y(e,"primary")}),t.$watchGroup(["vm.secondary._relationshipType","vm.secondary._primaryPhone","vm.secondary._alternatePhone"],function(e,t){e===t||y(e,"secondary")}),t.featureFlags.fc_enable_employee_module_save_interrupter&&(t.$on("$destroy",function(){a.clear()}),a.clear(),S.employee.$$resetChangesDetected(),a.register(S.employee));case 26:return e.prev=26,S.loading=!1,e.finish(26);case 29:case"end":return e.stop();}},e,this,[[1,,26,29],[5,11]])}))();t.go={edit:function(){S.editMode=!0},cancel:function(){w.onBeforeCancel(),S.loading=!0,S.employee.$refresh().then(function(){h(S.employee),_(S.employee),S.primary=S.employee.primaryEmergencyContact,S.secondary=S.employee.secondaryEmergencyContact,a.clear(),S.editMode=!1,S.loading=!1,w.onAfterCancel()})},save:function(){S.editMode&&(w.onBeforeSave(),S.saving=!0,s(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,b(S.employee),s.next=4,S.employee.$save();case 4:return s.next=6,v.sleep();case 6:return s.next=8,S.employee.$refresh();case 8:h(S.employee),_(S.employee),S.primary=S.employee.primaryEmergencyContact,S.secondary=S.employee.secondaryEmergencyContact,a.clear(),a.register(S.employee),S.editMode=!1,w.onAfterSave(),l.resetValidation(e),t.$emit("ss-validate-reset"),n.emit("module.employee.saved",S.employee),s.next=24;break;case 21:s.prev=21,s.t0=s["catch"](0),f(S.employee);case 24:return s.prev=24,S.saving=!1,s.finish(24);case 27:case"end":return s.stop();}},s,this,[[0,21,24,27]])}))())},clearContact:function(e){var t=S.employee._emergencyContacts.findIndex(function(t){return t._isPrimary===e._isPrimary});-1<t&&(e._contactName="",e._primaryPhone="",e._alternatePhone="",e._relationshipType=-1)},validateOr:function(e){if(null==e)return!0;if(null!=S.employee){var t=S.employee._emergencyContacts.find(function(t){return t._isPrimary===e._isPrimary});return!(e._contactName||void 0!==t)||(e._contactName&&e._contactName.length?D([e._contactName,e._primaryPhone,e._alternatePhone,e._relationshipType]):"Contact information requires a name")}},hideLabel:function(e){return!!S.editMode||null!=e}}}]},{key:"link",value:function(){angular.element(document).ready(function(){e=angular.element(document.getElementsByClassName("record"))})}}]),o}(o);return new t(F,"emergency-contact",k)});var A={employeeId:"=",startInEditMode:"=?",onBeforeSave:"&?",onAfterSave:"&?",onBeforeCancel:"&?",onAfterCancel:"&?"},N={};angular.module("super-suit-components").directive("superEmploymentInfo",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","moment","ssAssignmentApi","ssObjectHlp","ssSleepHlp","ssAsync","ssListSvc","ssDateByOrgHlp","ssDateHlp","ssValidationHlp","ssOrganizationSvc","ssEmployeeApi","ssPositionsApi","ssEventSvc","ssMultiInitiativeFeatureDetectorCCSvc","ssSaveInterrupterSvc","ssToastHlp",function(e,t,s,i,a,n,d,o,l,p,m,u,c,v,g,y,f){function h(){return _().then(function(e){var t=r(e,2),s=t[0],i=t[1];E.permitted=s.$permitted.props,E.employee=b(s),E.positions=i})}function _(){var t="hireDate,retirementSystem,seniorityDate,stateEducatorId"+(e.featureFlags.showTenureDate?",tenureDate":""),i=void 0,a=void 0;return u.get({id:e.employeeId,fields:t,include:"statusHistory,supervisors"},null,!1).then(function(e){return i=e,e.$permitted.props.assignments.view?c.getForEmployee({id:e.id,include:"assignments"}):Promise.all(allRequests)}).then(function(e){if(a=e,a){var t=a.map(function(e){return s.getAssignment({id:e.id,assignmentId:e._assignments[0].id,include:"details"})});return Promise.all(t)}}).then(function(e){return e&&e.forEach(function(e){var t=a.find(function(t){return t.id===e._positionId});t&&(t.assignment=e)}),[i,a]})}function b(t){null==t._retirementSystem&&(t._retirementSystem={});var s=null;return null!=t._retirementSystem.id&&(s=E.retirementSystems.find(function(e){return e.value===t._retirementSystem.id})),null==t._retirementSystem.name&&null!=s&&(t._retirementSystem.name=s.name,t._retirementSystem.id=s.value),E.hireDateTxt=null==t._hireDate?"":o.utcIsoToRelativeMoment(t._hireDate,E.org).format("MM/DD/YYYY"),E.seniorityDateTxt=null==t._seniorityDate?"":o.utcIsoToRelativeMoment(t._seniorityDate,E.org).format("MM/DD/YYYY"),e.featureFlags.showTenureDate&&(E.tenureDateTxt=null==t._tenureDate?"":o.utcIsoToRelativeMoment(t._tenureDate,E.org).format("MM/DD/YYYY")),t}function D(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=t.reset;e.featureFlags.fc_enable_employee_module_save_interrupter&&(void 0!==s&&s?y.clear():(e.$on("$destroy",function(){y.clear()}),y.register(E.employee),y.register(E.employee._supervisors),y.register(E.employee._statusHistory),y.register(E.positions),E.employee.$$resetChangesDetected()))}function x(e){return!!E.employee.$permitted.actions.edit&&null!=e&&(!!e.hireDate.edit||!!e.seniorityDate.edit||!!e.tenureDate.edit||!!e.retirementSystem.edit||!!e.supervisor.edit||!!e.statusHistory.edit||!!(E.positions.length&&e.assignments.edit&&w()))}function w(){return E.positions.reduce(function(e,t){return t.assignment.$permitted.actions.edit||e},!1)}function S(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return"function"==typeof e?e:function(){}}e.validator={educatorId:p.string({maxLength:100})},e.featureFlags={hasStateEducatorIdonEmployment:!1,showTenureDate:!1,fc_enable_employee_module_save_interrupter:!1};var P={onBeforeSave:S(e.onBeforeSave),onAfterSave:S(e.onAfterSave),onBeforeCancel:S(e.onBeforeCancel),onAfterCancel:S(e.onAfterCancel)},E=e.vm={loading:!1,saving:!1,editMode:!0===e.startInEditMode,permitted:{},anyFieldIsEditable:!1};(function(){E.loading=!0,g.resolveAll(e.featureFlags).then(function(){return m.getActiveOrg()}).then(function(e){return E.org=e,d.getByExternalId("employee.retirementsystems")}).then(function(e){return E.retirementSystems=e,h()}).then(function(){e.$watch("vm.employee._retirementSystem.id",function(e,t){if(e!==t&&null!=e&&E.editMode){var s=E.retirementSystems.find(function(t){return t.value===e});null==s&&(s={name:"None",id:-1,value:-1}),E.employee._retirementSystem={id:s.value,name:s.name}}}),e.$watch("vm.hireDateTxt",function(e,s){e!==s&&E.editMode&&(E.employee._hireDate=null==e?null:o.startOfDayRelativeTo(t(e),E.org))}),e.$watch("vm.seniorityDateTxt",function(e,s){e!==s&&E.editMode&&(E.employee._seniorityDate=null==e?null:o.startOfDayRelativeTo(t(e),E.org))}),e.featureFlags.showTenureDate&&e.$watch("vm.tenureDateTxt",function(e,s){e!==s&&E.editMode&&(E.employee._tenureDate=null==e?null:o.startOfDayRelativeTo(t(e),E.org))}),E.anyFieldIsEditable=x(E.permitted),D()}).catch(function(e){f.error(e)}).finally(function(){E.loading=!1})})();e.go={edit:n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:E.loading=!0,h().then(function(){D()}).catch(function(e){f.error(e)}).finally(function(){E.editMode=!0,E.loading=!1});case 2:case"end":return e.stop();}},e,this)})),cancel:n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:P.onBeforeCancel(),E.loading=!0,h().then(function(){D({reset:!0})}).catch(function(e){f.error(e)}).finally(function(){E.loading=!1,E.editMode=!1,P.onAfterCancel()});case 3:case"end":return e.stop();}},e,this)})),save:n(regeneratorRuntime.mark(function e(){var t,n,r,d,p,m,u,c,g,y,f,_,b,x,w,S,C,I=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E.editMode){e.next=2;break}return e.abrupt("return");case 2:return P.onBeforeSave(),E.loading=!0,e.prev=4,e.next=7,E.employee.$save();case 7:if(E.employee.$$applyMutators(),!E.permitted.assignments.edit){e.next=72;break}E.positions.filter(function(e){return null==e._endDate}).forEach(function(e){return e._endDate=l.foreverFuture()}),t=E.positions.find(function(e){return null==e.id&&e.assignment._isPrimary}),null!=t&&(n=o.utcIsoToRelativeMoment(t._startDate,E.org).add(-1,"days"),E.positions.filter(function(e){return e.assignment._isPrimary&&null!=e.id&&l.isForeverFuture(e._endDate)}).forEach(function(e){return e._endDate=o.endOfDayRelativeTo(n,E.org)})),r=E.positions.filter(function(e){return null!=i.glean(e,function(e){return e.assignment._details})}).map(function(e){return e.assignment._details.filter(function(e){return null!=e.id})}),d=!0,p=!1,m=void 0,e.prev=16,u=r[Symbol.iterator]();case 18:if(d=(c=u.next()).done){e.next=49;break}g=c.value,y=!0,f=!1,_=void 0,e.prev=23,b=g[Symbol.iterator]();case 25:if(y=(x=b.next()).done){e.next=32;break}return w=x.value,e.next=29,w.$save();case 29:y=!0,e.next=25;break;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e["catch"](23),f=!0,_=e.t0;case 38:e.prev=38,e.prev=39,!y&&b.return&&b.return();case 41:if(e.prev=41,!f){e.next=44;break}throw _;case 44:return e.finish(41);case 45:return e.finish(38);case 46:d=!0,e.next=18;break;case 49:e.next=55;break;case 51:e.prev=51,e.t1=e["catch"](16),p=!0,m=e.t1;case 55:e.prev=55,e.prev=56,!d&&u.return&&u.return();case 58:if(e.prev=58,!p){e.next=61;break}throw m;case 61:return e.finish(58);case 62:return e.finish(55);case 63:return e.next=65,E.positions.$save();case 65:S=regeneratorRuntime.mark(function e(t){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=E.positions[t],e.next=3,s.getAssignment({id:i.id,assignmentId:i._assignments[0].id,include:"details"});case 3:return a=e.sent,a._details.length=0,i.assignment._details.forEach(function(e){return a._details.push(e)}),e.next=8,a._details.$save({opOrder:["remove","modify","add"]});case 8:case"end":return e.stop();}},e,I)}),C=0;case 67:if(!(C<E.positions.length)){e.next=72;break}return e.delegateYield(S(C),"t2",69);case 69:C++,e.next=67;break;case 72:return e.next=74,a.sleep();case 74:return P.onAfterSave(),v.emit("employment-details-saved",E.employee),e.next=78,h();case 78:D({reset:!0}),e.next=83;break;case 81:e.prev=81,e.t3=e["catch"](4);case 83:return e.prev=83,E.editMode=!1,E.loading=!1,e.finish(83);case 87:case"end":return e.stop();}},e,this,[[4,81,83,87],[16,51,55,63],[23,34,38,46],[39,,41,45],[56,,58,62]])})),assignmentsAreLoaded:function(e){E.loading=!e}}}]}]),t}(o);return new e(A,"employment-info",N)});var R={employeeId:"@",model:"=",hasValue:"=",label:"@",labelWeight:"@?",isDisabled:"=?",name:"@",inputId:"@",value:"=?",required:"=?",placeholder:"@",permissions:"=?",editMode:"="},O={};angular.module("super-suit-components").directive("superInputSsn",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","$element","$attrs","$timeout","ssAsync","ssEmployeeApi","ssEventSvc","enumPropertyAction",function(e,t,s,i,a,n,r,d){var o=e.vm={showValue:!1,redactedValue:"*********"},l=e.cmpt=e;e.$watch("model",function(e,t){e===t||null==e&&null!=t&&(o.showValue=!1)}),e.$watchGroup(["editMode","permissions"],function(e){var i=e[0],a=e[1],n=null==i;o.editMode=!n&&!0===i,null==a?void 0===s.permissions?(o.permissions={view:!0,edit:!0,redacted:!1,raw:3},n&&(o.editMode=!0)):(o.permissions={view:!0,edit:!1,redacted:!1,raw:1},n&&(o.editMode=!1)):(o.permissions=angular.extend({},a),4<o.permissions.raw&&(o.permissions.raw-=d.redacted),o.permissions.redacted=!1),o.permissions.edit||(o.editMode=!1),o.permissions.raw===d.notVisible&&t.remove()});e.go={get:function(){return o.loading=!0,a(regeneratorRuntime.mark(function t(){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getSsn(e.employeeId);case 2:s=t.sent,l.model=s,i(function(){return r.emit("employee-ssn-retrieved")},50),o.showValue=!0,o.loading=!1;case 7:case"end":return t.stop();}},t,this)}))()}}}]}]),t}(o);return new e(R,"input-ssn",O)});var $={employeeId:"="},L={};angular.module("super-suit-components").directive("superMedicalDocuments",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={employeeId:e.employeeId},s=e.go={}}]}]),t}(o);return new e($,"medical-documents",L)});var Y={employeeId:"=",onBeforeSave:"&?",onAfterSave:"&?",onBeforeCancel:"&?",onAfterCancel:"&?"},j={};angular.module("super-suit-components").directive("superPersonalInfo",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={},s=e.go={}}]}]),t}(o);return new e(Y,"personal-info",j)});var V={employeeId:"=",onBeforeSave:"&?",onAfterSave:"&?",onBeforeCancel:"&?",onAfterCancel:"&?"},U={};angular.module("super-suit-components").directive("superPersonalInfoNew",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","$element","$stateParams","$state","moment","ssEmployeeApi","ssAsync","ssEnum","ssSaveInterrupterSvc","ssEventSvc","ssEmployeeModelHlp","ssDateByOrgHlp","ssOrganizationSvc","ssSleepHlp","ssOptionalFieldGroupHlp","ssMultiInitiativeFeatureDetectorCCSvc","ssValidationHlp","ssPermissionsSvc",function(e,t,s,i,a,n,r,d,o,l,p,m,u,c,v,g,y,f){function h(){return n.get({id:e.employeeId,fields:"age,aliasFirstName,aliasLastName,aliasMiddleName,aliasTitle,birthDateUtc,ethnicity,externalId,firstName,gender,hasSsn,lastName,maritalStatus,middleName,race,sSN,stateEducatorId,suffix,title,orgPersonCreated,orgPersonUpdated,canonicalEmployeeEventsOutOfSync",include:"phoneNumbers,emails,addresses"},null,!1).then(function(e){E.emp=e,E.birthDateTxt=null==E.emp._birthDateUtc?null:m.utcIsoToRelativeMoment(E.emp._birthDateUtc,E.org).format("MM/DD/YYYY"),P=D(),E.permitted=E.emp.$permitted.props,p.setupEmployee(E.emp)}).catch(function(e){throw e})}function _(e,t){var s=E.emp._emails.find(function(s){return s._emailType===E.emailType[t]});if(""===e){var i=E.emp._emails.indexOf(s);return void E.emp._emails.splice(i,1)}null==s?E.emp._emails.push({_emailAddress:e,_emailType:E.emailType[t],_isPrimary:!1}):s._emailAddress=e}function b(t){if(e.featureFlags.isDataIntegrationsEnabled)return!0;var s=E.emp.$permitted.props;if("personal"===t){if(s.title.edit)return!0;if(s.firstName.edit)return!0;if(s.middleName.edit)return!0;if(s.lastName.edit)return!0;if(s.suffix.edit)return!0;if(s.stateEducatorId.edit)return!0;if(s.aliasFirstName.edit)return!0;if(s.aliasMiddleName.edit)return!0;if(s.aliasLastName.edit)return!0;if(s.birthDateUtc.edit)return!0;if(s.age.edit)return!0;if(s.ssn.edit)return!0;if(s.externalId.edit)return!0;if(s.maritalStatus.edit)return!0;if(s.gender.edit)return!0;if(s.ethnicity.edit)return!0;if(s.race.edit)return!0}else{if("addresses"===t)return s.addresses.edit;if("emails"===t)return s.emails.edit;if("phones"===t)return s.phoneNumbers.edit}return!1}function D(){var e=Object.keys(E.editMode),t=e.map(function(e){return b(e)});return t.some(function(t){return!0===t})}function x(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return"function"==typeof e?e:function(){}}function w(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=Object.keys(E.editMode);t.forEach(function(t){return E.editMode[t]=e})}e.featureFlags={isHRMSEnabled:!1,isDataIntegrationsEnabled:!1,hasStateEducatorIdonPersonal:!1,fc_enable_employee_module_save_interrupter:!1},e.validator={email:y.email(),required:y.required(),ssn:y.ssn(),educatorId:y.string({maxLength:100})};var S={onBeforeSave:x(e.onBeforeSave),onAfterSave:x(e.onAfterSave),onBeforeCancel:x(e.onBeforeCancel),onAfterCancel:x(e.onAfterCancel)},P=!1,E=e.vm={editMode:{personal:!1,addresses:!1,emails:!1,phones:!1,all:!1},saving:!1,options:{title:d.salutation.getEnums(),suffix:d.suffix.getEnums(),maritalStatus:d.maritalStatus.getEnums(),gender:d.gender.getEnums(),ethnicity:d.ethnicity.getEnums(),race:d.race.getEnums()},emailType:d.emailType,expanded:!1,loading:!1};r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return E.loading=!0,t.prev=1,t.next=4,g.resolveAll(e.featureFlags);case 4:return e.validator.externalId=function(t,s){if(!E.editMode.personal)return!0;var i=y.string({required:!e.featureFlags.isHRMSEnabled,maxLength:100});return i(t,s)},"-edit"===s.action&&f.isPermittedAction("employees","edit")?w(!0):w(),t.next=8,u.getActiveOrg();case 8:return E.org=t.sent,t.next=11,h();case 11:e.$watch("vm.birthDateTxt",function(e,t){e===t||(E.emp._birthDateUtc=null==e?null:m.startOfDayRelativeTo(a(e),E.org))}),e.$watch("vm.emp.workEmail._emailAddress",function(e,t){e===t||_(e,"work")}),e.$watch("vm.emp.personalEmail._emailAddress",function(e,t){e===t||_(e,"personal")}),l.on("employee-ssn-retrieved",function(){E.emp.$$forceChangedState("sSN",!1)},e),p.loadEmployee(E.emp),e.featureFlags.fc_enable_employee_module_save_interrupter&&(e.$on("$destroy",function(){o.clear()}),o.clear(),E.emp.$$resetChangesDetected(),o.register(E.emp)),E.loading=!1,t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](1),E.loading=!1;case 23:case"end":return t.stop();}},t,this,[[1,20]])}))();var C=e.go={getExternalIdLabel:function(){return e.featureFlags.isDataIntegrationsEnabled?"User Identifier":"External ID"},canEdit:b,edit:function(e){w(),P&&(E.editMode[e]=!0)},cancel:r(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S.onBeforeCancel(),s=t.find("form"),s.scope().$emit("ss-validate-reset"),e.next=6,h();case 6:w(),S.onAfterCancel(),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop();}},e,this,[[0,10]])})),save:r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return");case 2:if(E.editMode.personal||E.editMode.addresses||E.editMode.emails||E.editMode.phones){e.next=4;break}return e.abrupt("return");case 4:return S.onBeforeSave(),E.saving=!0,e.prev=6,p.preSave(E.emp),e.next=10,E.emp.$save();case 10:return e.next=12,c.sleep();case 12:w(),S.onAfterSave(),l.emit("personal-details-saved",E.emp),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](6),E.saving=!1;case 20:return e.prev=20,e.prev=21,e.next=24,h();case 24:"-edit"===s.action?i.go(".",{action:""}):E.saving=!1,e.next=29;break;case 27:e.prev=27,e.t1=e["catch"](21);case 29:return e.finish(20);case 30:case"end":return e.stop();}},e,this,[[6,17,20,30],[21,27]])})),syncOrgPerson:r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,E.saving=!0,t.next=4,n.upsertOrgPerson({employeeId:e.employeeId});case 4:return t.next=6,c.sleep();case 6:return t.next=8,h();case 8:w(),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:return t.prev=13,E.saving=!1,t.finish(13);case 16:case"end":return t.stop();}},t,this,[[0,11,13,16]])})),validateOr:function(e){return E.permitted.ssn.raw===d.propertyAction.notVisible&&E.permitted.externalId.raw===d.propertyAction.notVisible||v.validate(e,"Please enter a SSN or an "+C.getExternalIdLabel()+".")},validateSSN:function(){return E.permitted===d.propertyAction.redacted||e.validator.ssn(E.emp._sSN)},isEditDisabled:function(e){var t=Object.keys(E.editMode);t=t.filter(function(t){return t!==e});var i=!1;return t.forEach(function(e){return i=i||E.editMode[e]}),i}}}]}]),t}(o);return new e(V,"personal-info-new",U)});var H={employeeId:"="},q={};angular.module("super-suit-components").directive("superPersonnelDocuments",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={employeeId:e.employeeId},s=e.go={}}]}]),t}(o);return new e(H,"personnel-documents",q)});var B={label:"@",phone:"=",editMode:"=?",onRemove:"&",onCheck:"&"},G={};angular.module("super-suit-components").directive("superPhone",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","ssModalSvc","ssEnum","ssValidationHlp",function(e,t,s,i){var a=e.vm={phoneTypes:s.phoneTypes.getEnums(),usageTypes:s.usageType.getEnums(),featureFlags:e.$root.utils.findInParentScope("featureFlags",e)};e.validator={required:i.required(),phoneNumber:function(t,s){if(!0!==e.editMode||null==t||!t.length)return!0;var a=i.phone();return a(t,s)}},e.$watch("phone._isPrimary",function(t,s){t===s||!0===t&&e.onCheck()});e.go={cancel:function(){"function"==typeof e.phone.$revert&&e.phone.$revert(),null==e.phone.id&&e.onRemove(),e.phone.isEditing=!1},edit:function(){e.phone.isEditing=!0},remove:function(){t.showDestructive({title:"Are you sure?",content:"Are you sure you want to delete this phone number?",primaryText:"Delete Phone Number",secondaryText:"Cancel",alwaysOnTop:!0}).then(function(){e.onRemove()})},filterPhoneTypes:function(e){return!a.featureFlags.fc_oct_2020_phone_email_type_restriction||"Other"!==e.name}}}]}]),t}(o);return new e(B,"phone",G)});var z={phones:"=",editMode:"=?",permissions:"="},W={};angular.module("super-suit-components").directive("superPhoneList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,s){function i(){null!=e.phones&&e.phones.forEach(function(e){return e.isEditing=!1})}e.featureFlags={fc_oct_2020_phone_email_type_restriction:!1};var a=e.vm={featureFlags:e.featureFlags};e.$watch("editMode",function(){a.editMode=!0===e.editMode,e.permissions.edit||(a.editMode=!1),i()}),e.$watch("phones",i);e.go={add:function(){var t={_isPrimary:!1,_extension:null,_number:null,_usageType:null,isEditing:!0};a.featureFlags.fc_oct_2020_phone_email_type_restriction?t._canReceiveTexts=!1:t._phoneType=null,e.phones.push(t)},onRemove:function(t){e.phones.splice(t,1)},onCheck:function(t){e.phones.forEach(function(e,s){t===s||(e._isPrimary=!1)})}};t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.resolveAll(e.featureFlags);case 2:case"end":return t.stop();}},t,this)}))()}]}]),t}(o);return new e(z,"phone-list",W)});var K={employee:"=",editMode:"=",org:"="},J={};angular.module("super-suit-components").directive("superStatusGroup",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","ssDateHlp","ssDateByOrgHlp","enumEmployeeStatus",function(e,t,s,i){function a(e){var t=s.utcIsoToRelativeMoment(e,d.org);return t.clone().add(1,"days").startOf("day")}function n(e,s){var i=moment(e._from||t.foreverFuture()),a=moment(s._from||t.foreverFuture());return i.isBefore(a)?-1:i.isAfter(a)?1:0}function r(e){return e.sort(function(e,t){return new Date(t._to)-new Date(e._to)})[0]}var d=e.vm={newStatuses:[],pastStatuses:[],futureStatuses:[],currentStatus:{},hasCurrentStatus:!1,org:e.org};e.$watch("editMode",function(){d.editMode=!0===e.editMode,e.employee.$permitted.props.statusHistory.edit||(d.editMode=!1),d.newStatuses=[],null==e.employee._statusHistory&&(e.employee._statusHistory=[]);var t=e.employee._statusHistory;if(d.futureStatuses=t.filter(function(e){return s.isInFuture({obj:e,fromProp:"_from",toProp:"_to",org:d.org})}).sort(n),d.futureStatuses.reverse(),d.currentStatus=t.find(function(e){return s.isCurrent({obj:e,fromProp:"_from",toProp:"_to",org:d.org})}),d.pastStatuses=t.filter(function(e){return s.isInPast({obj:e,fromProp:"_from",toProp:"_to",org:d.org})}).sort(n),d.pastStatuses.reverse(),null!=d.currentStatus)d.hasCurrentStatus=!0;else if(d.hasCurrentStatus=!1,d.currentStatus={_statusId:i.noStatus},d.pastStatuses.length){var r=d.pastStatuses[0]._to;d.currentStatus._from=a(r).toISOString()}});e.go={addStatus:function(){var i=r(e.employee._statusHistory),n=null;n=i?t.isForeverFuture(i._to)?a(i._from):a(i._to):s.todaysStartRelativeTo(d.org);var o={_statusId:-1,_from:n.toISOString(),_to:t.foreverFuture()};d.newStatuses.push(o),e.employee._statusHistory.push(o)},removeStatus:function(t,s){var i=e.employee._statusHistory.findIndex(function(e){return e.id===t.id});0<=i&&e.employee._statusHistory.splice(i,1);var a=s.findIndex(function(e){return e.id===t.id});0<=a&&s.splice(a,1)},validate:function(){var s=e.employee._statusHistory;if(null==s||0===s.length)return!0;var a=s.sort(n),r=!1,d="Statuses cannot overlap.";return a.forEach(function(e,s){if(!r){if(s===a.length-1)return void(null==e._to&&(e._to=t.foreverFuture()));if(null==e._to)return d="Please provide an end date if creating a status prior to another.",void(r=!0);var i=moment(e._to),n=moment(a[s+1]._from);r=i.isAfter(n)}}),!r||d}}}]}]),t}(o);return new e(K,"status-group",J)});var Z={label:"@",status:"=",editMode:"=?",type:"@",onRemove:"&",editable:"=?",org:"="},Q={};angular.module("super-suit-components").directive("superStatusItem",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","ssAsync","enumEmployeeStatus","ssListSvc","ssValidationHlp","ssModalSvc","ssDateHlp","ssDateByOrgHlp","ssEventSvc",function(e,t,s,i,a,n,r,d,o){function l(){"current"===e.type?c.tagText="In Effect":"future"===e.type?c.tagText="Upcoming":"past"===e.type&&(c.tagText="Past")}e.validator={required:function(e,t){var s=a.numeric({min:0});return!0===s(e,t)||t+" is required"}},e.enumEmployeeStatus=s;var p=e.org,m=e.status,u={startDate:"Start Date is required.",overlap:"Start Date must be prior to End Date."},c=e.vm={changeReasons:[],editable:!0===e.editable,tagText:"",startDateTxt:null==m._from||r.isForeverPast(m._from)?null:d.utcIsoToRelativeMoment(m._from,p).format("MM/DD/YYYY"),endDateTxt:null==m._to||r.isForeverFuture(m._to)?null:d.utcIsoToRelativeMoment(m._to,p).format("MM/DD/YYYY")};e.$watch("editMode",l),o.on("employment-details-saved",function(){c.editable=!1,l()},e),e.$watch("vm.startDateTxt",function(e,t){e!==t&&e instanceof Date&&(m._from=d.startOfDayRelativeTo(moment(e),p))}),e.$watch("vm.endDateTxt",function(e,t){e===t||(null==e?m._to=r.foreverFuture():m._to=d.endOfDayRelativeTo(moment(e),p))}),t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getByExternalId("employee.statuschangereasons");case 2:c.changeReasons=t.sent,e.$watch("status._statusChangeReasonId",function(e){var t=c.changeReasons.find(function(t){return t.value===e});c.currentChangeReason=t&&t.name||""});case 4:case"end":return t.stop();}},t,this)}))();e.go={cancel:function(){"function"==typeof m.$revert&&(m.$revert(),l()),"new"===e.type&&e.onRemove(),c.editable=!1},open:function(){n.showStandard({title:"Are you sure?",content:"If this employee is undergoing a status change, do not edit this current status. Rather use \"Add Status Change\" option.",primaryText:"Continue Editing",secondaryText:"Cancel"}).then(function(){c.editable=!0})},remove:function(){n.showDestructive({title:"Are you sure?",content:"Are you sure you want to delete this status?",primaryText:"Delete Status",secondaryText:"Cancel"}).then(function(){e.onRemove()})},showRemove:function(){return"new"!==e.type&&"current"!==e.type},validateStart:function(){return null==m._from?u.startDate:!moment(m._from).isAfter(moment(m._to))||u.overlap},validateEnd:function(){return!moment(m._from).isAfter(moment(m._to))||u.overlap},validateAll:function(){return null==m._from?u.startDate:moment(m._from).isAfter(moment(m._to))?u.overlap:e.validator.required(m._statusId,"status type")}}}]}]),t}(o);return new e(Z,"status-item",Q)});var X={supervisor:"=",employee:"=",editMode:"=",org:"="},ee={};angular.module("super-suit-components").directive("superSupervisor",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","moment","ssDateHlp","ssValidationHlp","ssDateByOrgHlp",function(e,t,s,i,a){var n=e.org;e.validator=e.validator={required:i.required()};var r=e.vm={isNewSupervisor:e.supervisor.isNew||!1,permitted:e.employee.$permitted.props,supervisorHolder:[],dtPickerOpt:{minDate:e.supervisor.minAllowedDate?new Date(e.supervisor.minAllowedDate.format("MM/DD/YYYY")):null}};e.$watch("employee",function(){r.startDateTxt=a.utcIsoToRelativeMoment(e.supervisor._from,n).format("MM/DD/YYYY"),r.endDateTxt=s.isForeverFuture(e.supervisor._to)?null:a.utcIsoToRelativeMoment(e.supervisor._to,n).format("MM/DD/YYYY")}),e.$watch("supervisor",function(t){t&&(e.supervisor.fullName=t._firstName+" "+t._lastName)}),e.$watch("vm.supervisorHolder[0].id",function(t,s){t===s||(void 0===t&&(t=null),e.supervisor._employeeId=t)}),e.$watch("supervisor._employeeId",function(t){t&&(r.supervisorHolder=[{id:t,fullName:e.supervisor._firstName+" "+e.supervisor._lastName}])}),e.$watch("vm.startDateTxt",function(s,i){s!==i&&s instanceof Date&&(e.supervisor._from=a.startOfDayRelativeTo(t(s),n))}),e.$watch("vm.endDateTxt",function(i,r){i===r||(null===i?e.supervisor._to=s.foreverFuture():e.supervisor._to=a.endOfDayRelativeTo(t(i),n))});e.go={removeSupervisor:function(t){var s=e.employee._supervisors.findIndex(function(e){return e.id===t.id});0<=s&&(e.employee._supervisors.splice(s,1),e.supervisor=null)},validateNewSupervisor:function(t){if(null==t)return!0;if(!t.length)return"Supervisor is required";var s=t[0],i=e.employee._supervisors.filter(function(e){return!e.isNew}).find(function(e){return a.isCurrent({obj:e,fromProp:"_from",toProp:"_to",org:n})});return!i||s.id!==i._employeeId||"New supervisor cannot be the same as current supervisor."},validateDates:function(e,s){var i=t(e),a=t(s);return i.isValid()?!(null!=s&&a.isValid()&&a.isBefore(i,"days"))||"Start Date cannot be after End Date":"Start date is invalid"}}}]},{key:"link",value:function(e,t,s){e.viewOnly=null!=s.viewOnly}}]),t}(o);return new e(X,"supervisor",ee)});var te={employee:"=",editMode:"=",org:"="},se={};angular.module("super-suit-components").directive("superSupervisors",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope","ssDateHlp","ssDateByOrgHlp",function(e,t,s){function i(e){var t=e.sort(function(e,t){return new Date(t._to)-new Date(e._to)});return t[0]}function a(e){var t=s.utcIsoToRelativeMoment(e,r.org);return t.clone().add(1,"days").startOf("day")}function n(e){var i;return i=e?t.isForeverFuture(e._to)?a(e._from):a(e._to):s.todaysStartRelativeTo(r.org),{_from:i.toISOString(),_to:t.foreverFuture(),_employeeId:null,isNew:!0,hasForeverPast:!1,minAllowedDate:e?i:null}}var r=e.vm={canEdit:e.employee.$permitted.props.supervisor.edit,canView:e.employee.$permitted.props.supervisor.view,expanded:!1,newSupervisor:null,org:e.org};e.$watch("editMode",function(){r.editMode=!0===e.editMode,e.employee.$permitted.props.supervisor.edit||(r.editMode=!1),r.newSupervisor=null,e.employee._supervisors.filter(function(e){return e.isNew&&e.id}).forEach(function(e){return e.isNew=!1}),null==e.employee._supervisors&&(e.employee._supervisors=[]);var t=e.employee._supervisors.filter(function(e){return!e.isNew});r.futureSupervisors=t.filter(function(e){return s.isInFuture({obj:e,fromProp:"_from",toProp:"_to",org:r.org})}).sort(function(e,t){return new Date(t._from)-new Date(e._from)}),r.currentSupervisor=t.find(function(e){return s.isCurrent({obj:e,fromProp:"_from",toProp:"_to",org:r.org})}),r.pastSupervisors=t.filter(function(e){return s.isInPast({obj:e,fromProp:"_from",toProp:"_to",org:r.org})}).sort(function(e,t){return new Date(t._from)-new Date(e._from)})});e.go={addNewSupervisor:function(){var t=i(e.employee._supervisors),s=n(t);r.newSupervisor=s,e.employee._supervisors.push(s)},toggle:function(){r.expanded=!r.expanded}}}]}]),t}(o);return new e(te,"supervisors",se)});var ie={label:"@"},ae={transclude:!0};angular.module("super-suit-components").directive("superTwoColumnList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={label:e.label,hasLabel:!!e.label},s=e.go={}}]}]),t}(o);return new e(ie,"two-column-list",ae)}),e.$inject=["ssEnum","ssArrayHlp","ssJsonApiHlp","ssValidationHlp","ssDateHlp","ssDateByOrgHlp","ssMultiInitiativeFeatureDetectorCCSvc"],angular.module("super-suit-helpers").factory("ssEmployeeModelHlp",e),angular.module("super-suit-helpers").factory("ssOptionalFieldGroupHlp",function(){return{validate:function(e,t){for(var s=!1,i=0;i<e.length;i++)s=null==e[i]?s||!1:s||0<e[i].length;return s?s:(null==t&&(t="One of the fields in this group is required."),t)}}}),t.$inject=["$q","$timeout"],angular.module("super-suit-helpers").factory("ssSleepHlp",t)})();

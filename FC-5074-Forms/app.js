!function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[a]={exports:{}};t[a][0].call(p.exports,function(e){return i(t[a][1][e]||e)},p,p.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){"use strict";e("./partials.compiled"),e("./module"),e("./includes");var r=(0,eval)("this");r.registerUiModule&&r.registerUiModule("ec-forms")},{"./includes":64,"./module":65,"./partials.compiled":66}],2:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={label:"@"},p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","$q","$window","$stateParams","filenameHlp","ssAsync","ssFormTemplatesApi","ssToastHlp","FileUploader","ssAuthSvc","ssModalSvc",function(e,t,n,i,o,a,s,l,c,p,u){function d(t){e.statusElem.text(""),w.processing=!0,w.processingStatus="deleting attachment...",a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$remove();case 3:return n.next=5,P.$refresh();case 5:return n.next=7,g();case 7:e.statusElem.text("the file has been successfully deleted"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),w.processing=!1,w.processingStatus="";case 14:return n.prev=14,y.clearQueue(),n.finish(14);case 17:case"end":return n.stop()}},n,this,[[0,10,14,17]])}))()}function m(e){return e.filter(function(e){return!P._printPreviewDefinition||e._fileId!==P._printPreviewDefinition.templateFileId})}function f(){y=e.uploader=new c(_)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.initLoad,c=void 0!==n&&n;return a(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c&&(w.processing=!0,w.processingStatus="loading attachments..."),e.next=3,s.get({id:i.formId,fields:"printPreviewDefinition",include:"files"});case 3:return P=e.sent,n=P._files.map(function(e){return s.getFile({id:e._fileId})}),e.abrupt("return",t.all(n).then(function(e){P._files.forEach(function(t){var n=e.find(function(e){return e.id===t._fileId});t.filename=n._filename;var r=o.getExtension(t.filename);t.icon=o.getIcon(r)}),w.files=[].concat(r(P._files)),w.files=m(w.files)}).catch(function(e){l.error(v,h)}).finally(function(){w.processing=!1,w.processingStatus=""}));case 6:case"end":return e.stop()}},e,this)}))()}var y,b,h="File Upload Failed",v="There was an error getting the attachments for this form template",_={withCredentials:!1,headers:{Authorization:"Bearer "+p.token.access},filters:[{name:"validExt",fn:function(e){return!(!o.getExtension(e.name)||!o.getValidExtensions().includes(o.getExtension(e.name)))||(l.error("The file you have selected does not have a valid extension. Please add one or choose another file",h),!1)}},{name:"fileSize",fn:function(e){return!(null!=e.size&&e.size>=0&&e.size>=52428800)||(l.error("The file upload size cannot exceed 50MB. Please upload a smaller file.",h),!1)}},{name:"fileDupe",fn:function(e){return!w.files.find(function(t){return t.filename===e.name})||(l.error("You have already uploaded a file by that name.",h),!1)}}]},w=e.vm={files:[],processing:null,processingStatus:null},P=void 0;f(),y.onAfterAddingFile=function(t){e.statusElem.text(""),t.removeAfterUpload=!0,w.processing=!0,w.processingStatus="adding attachment...",s.attachFile({},{filename:t.file.name,fileType:2},null,!1).then(function(e){b=e,b.filename=e._filename,t.updatedUrl=s.getUploadFileUrl({id:b.id}),t.upload()}).catch(function(e){422===e.status&&l.error(e.data.errors.Title,h),w.processing=!1,w.processingStatus="",y.clearQueue()})},y.onBeforeUploadItem=function(e){e.url=e.updatedUrl},y.onErrorItem=function(e,t,n,r){w.processing=!1,w.processingStatus="",l.error("The selected file did not upload correctly. Please try again.",h),e.remove()},y.onCancelItem=function(e,t,n,r){w.processing=!1,w.processingStatus="",l.info("attachment upload cancelled."),e.remove()},y.onSuccessItem=function(t,n,r,o){a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.associateFile({id:i.formId},{fileId:b.id});case 3:return t.next=5,P.$refresh();case 5:return t.next=7,g();case 7:e.statusElem.text("the file has been uploaded successfully"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),w.processing=!1,w.processingStatus="",l.error("There was an error associating file with form template",h);case 15:return t.prev=15,y.clearQueue(),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[0,10,15,18]])}))()},y.onCompleteAll=function(e){y.clearQueue(),y.destroy(),f()};e.go={download:function(e){s.getFileUrl({id:e}).then(function(e){n.open(e._string,"_blank")}).catch(function(e){l.error("The selected file did not download correctly. Please try again.","File Download Failed")})},delete:function(e){d(e)}};g({initLoad:!0})}]},{key:"link",value:function(e,t,n){e.statusElem=angular.element(t[0].querySelector(".attachment-status-alert"))}}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpAttachments",function(){return new p(c,"attachments")})},{"base-component":54}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={startingPoint:"=",boxCreated:"&"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope",function(e){e.vm={},e.go={}}]},{key:"link",value:function(e,t,n){function r(e){var n=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,i={x:e.pageX-a.left-n,y:e.pageY-a.top-r};s=i.y<o.y?i.y:o.y,l=i.x<o.x?i.x:o.x,c=Math.abs(i.y-o.y),p=Math.abs(i.x-o.x),t.css({top:s+"px",left:l+"px",height:c+"px",width:p+"px"})}function i(){if(u.off("mouseup",i),u.off("mousemove",r),!(c<5||p<5)){var t=d.offsetHeight-(s+c),n=d.offsetWidth-(l+p);e.boxCreated({$box:{top:s/d.offsetHeight*100,right:n/d.offsetWidth*100,bottom:t/d.offsetHeight*100,left:l/d.offsetWidth*100}})}}var o,a,s,l,c,p,u=t.parent(),d=u[0];e.$watch("startingPoint",function(e){null!=e&&(o=e,a=d.getBoundingClientRect(),c=p=0,t.css({top:e.y+"px",left:e.x+"px",height:c+"px",width:p+"px"}),u.on("mousemove",r),u.on("mouseup",i))})}}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpBoxCreator",function(){return new c(l,"box-creator")})},{"base-component":54}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={box:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","moment",function(e,t){function n(e){var t=function(t){return t.cSharpFormat===e},n=o.dateOptions.reduce(function(e,t){return e.concat(t.options)},[]),r=n.find(t),i=o.dateOptions.find(function(e){return e.options.filter(t).length>0});i.selected=!0,i.selectedVal=r.jsFormat}function r(){var n=[];o.dateOptions.forEach(function(e){if(e.selected&&e.selectedVal.length){var t=e.options.find(function(t){return t.jsFormat===e.selectedVal});t&&n.push(t)}});var r=!!n.find(function(e){return"Month"===e.name}),i=r?" ":"/",a=n.map(function(e){return e.jsFormat}),s=a.join(i);n.length?(o.displayString=t().format(s),e.box.stringFormat=n.map(function(e){return e.cSharpFormat}).join(i)):(o.displayString="",e.box.stringFormat="")}var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),o=e.vm={displayString:"",dateOptions:[{name:"Month",guid:"Month-"+i,selected:!1,selectedVal:"",options:[{name:"MM",cSharpFormat:"MM",jsFormat:"MM"},{name:"Month",cSharpFormat:"MMMM",jsFormat:"MMMM"}]},{name:"Date",guid:"Date-"+i,selected:!1,selectedVal:"",options:[{name:"DD",cSharpFormat:"dd",jsFormat:"DD"}]},{name:"Year",guid:"Year-"+i,selected:!1,selectedVal:"",options:[{name:"YYYY",cSharpFormat:"yyyy",jsFormat:"YYYY"},{name:"YY",cSharpFormat:"yy",jsFormat:"YY"}]}]};if(e.box.stringFormat){var a=e.box.stringFormat,s=a.startsWith("MMMM")?" ":"/";a.split(s).forEach(function(e){return n(e)}),r()}e.go={update:r}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpBoxDateOptions",function(){return new c(l,"box-date-options")})},{"base-component":54}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={box:"=",text:"=",onDelete:"&",isActive:"&"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","rAF","viewportOffsetHlp",function(e,t,n){e.rAF=t,e.viewportOffsetHlp=n;e.vm={optionsTemplate:"<cmp-box-"+e.box.type+'-options box="box"></cmp-box-'+e.box.type+"-options>"},e.go={}}]},{key:"link",value:function(e,t,n){function r(t){if(t.stopPropagation(),e.isActive()){a=u.getBoundingClientRect(),s=c.getBoundingClientRect();var n=e.viewportOffsetHlp.getViewportOffsets(window);d.x=t.pageX-s.left-n.left,d.y=t.pageY-s.top-n.top;var r=Object.keys(m);r.forEach(function(e){return m[e]=!1}),d.x<=6&&(m.left=!0),c.offsetWidth-d.x<=6&&(m.right=!0),d.y<=6&&(m.top=!0),c.offsetHeight-d.y<=6&&(m.bottom=!0);r.reduce(function(e,t){return e||m[t]},!1)||r.forEach(function(e){return m[e]=!0}),p.on("mousemove",o)}}function i(t){e.isDrawing=!1,e.$root.safeApply(),p.off("mousemove",o)}function o(t){var n=e.viewportOffsetHlp.getViewportOffsets(window),r={x:t.pageX-a.left-n.left,y:t.pageY-a.top-n.top};if(m.top){var i=(r.y-d.y)/a.height*100;l.top=i<=0?0:i,c.style.top=l.top+"%"}if(m.left){var o=(r.x-d.x)/a.width*100;l.left=o<=0?0:o,c.style.left=l.left+"%"}if(m.bottom){var p=r.y+(s.height-d.y),u=a.height-p,f=u/a.height*100;l.bottom=f<=0?0:f,c.style.bottom=l.bottom+"%"}if(m.right){var g=r.x+(s.width-d.x),y=a.width-g,b=y/a.width*100;l.right=b<=0?0:b,c.style.right=l.right+"%"}}var a,s,l=e.box,c=t[0],p=t.parent(),u=p[0],d={x:0,y:0},m={top:!1,right:!1,bottom:!1,left:!1};c.style.top=l.top+"%",c.style.right=l.right+"%",c.style.bottom=l.bottom+"%",c.style.left=l.left+"%",t.on("mousedown",r),t.on("mouseup",i),p.on("mouseup",i),e.$on("$destroy",function(){p.off("mouseup",i),p.off("mousemove",o)})}}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpBoxResizer",function(){return new c(l,"box-resizer")})},{"base-component":54}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$attrs","$window",function(e,t,n){function r(e){null!=e&&(s.template="super-input-radio"===e?"<"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tvalue="{{option}}"\n\t\t\t\t\tname="radio-group-'+a[0]+'"\n\t\t\t\t\tmodel="field.step.formFieldValues[\'\' + field.id + \'\']"\n\t\t\t\t\tis-disabled="vm.isDisabled"\n\t\t\t\t\tedit-mode="field.editMode"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\t></'+e+">":"<"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tvalue="{{option}}"\n\t\t\t\t\tname="{{option}}"\n\t\t\t\t\tmodel="field.step.formFieldValues[\'\' + field.id + \'-\' + $index + \'\']"\n\t\t\t\t\trequired="field._required"\n\t\t\t\t\tis-disabled="vm.isDisabled"\n\t\t\t\t\tedit-mode="field.editMode"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\t></'+e+">")}var i=new Uint32Array(1),o=n.crypto||n.msCrypto,a=o.getRandomValues(i),s=e.vm={template:"",validate:function(){return!0},isDisabled:e.field.disabled};e.field._required&&(s.validate=function(t,n){if(e.field.config.multiple)for(var r=0;r<e.field._options.length;r++)if(!0===t[e.field.id+"-"+r])return!0;return!!t[""+e.field.id]||n+" is required."});e.go={};e.$watch("field.config.multiple",function(t){e.field.config.selectType=!1===t?"super-input-radio":"super-input-checkbox",r(e.field.config.selectType)})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpCheckboxGroup",function(){return new c(l,"checkbox-group")})},{"base-component":54}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",model:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssAsync","ssEventSvc","ssToastHlp","fieldsHlp",function(e,t,n,r,i){var o=e.field,a=e.vm={};o.step&&(a.formFieldValues=o.step.formFieldValues[o.id]?o.step.formFieldValues[o.id]:"");e.go={hideHeadings:function(e){return"heading"!=e._fieldType},showGroupLabel:function(){return!o.step||a.formFieldValues.length}};n.on("cred-select-active",function(e,t){t.forEach(function(t){i.updateActiveCredentialSelection(t,e)})},e)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpCredentialGroup",function(){return new c(l,"credential-group")})},{"base-component":54}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",formfieldvalues:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","fieldRendererHlp",function(e,t){var n=e.field,r=e.formfieldvalues;t.bindConfigObject(e,"field._configJson","field.config"),e.$watch(t.getVisibility(n),function(e){return i.visibility=e});var i=e.vm={formfieldvalues:r};e.go={hideHeadingsAndInactive:function(e){return e._active&&"heading"!==e._fieldType}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpCredential",function(){return new c(l,"credential")})},{"base-component":54}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={options:"=",field:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$element","ssValidateHlp","fieldsHlp",function(e,t,n,r){function i(){e.options=s.options.map(function(e){return e.value})}var o=r.getValidator(e.field._fieldType),a=null,s=e.vm={options:e.options.map(function(e){return{value:e}})};null==e.options&&(e.options=[]),e.$watch("vm.options",function(e,t){e!==t&&i()},!0),e.$watch("field.config.multiple",function(e,t){e!==t&&!1===e&&s.options.length<2&&(s.options.push({value:"Option 2"}),i())});e.go={addOption:function(){s.options.push({value:"Option "+(s.options.length+1)}),i()},dropOption:function(e,t,n){return a=t,n},moveOption:function(e,t){e>a&&e++,s.options.splice(e,1),i()},removeOption:function(t){if(e.field.config.selectType&&"super-input-radio"===e.field.config.selectType){if(2===s.options.length)return}else if(1===s.options.length)return;s.options.splice(t,1),i()},validate:function(e){if("function"==typeof o){var t=o.call(null,e);return t||!0}return!0}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpDndOptions",function(){return new c(l,"dnd-options")})},{"base-component":54}],10:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",filter:"=",type:"@",endpoint:"&"},p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","$state","ssAsync","ssListSvc","$location","ssActiveUserSvc","ssFormInstancesApi","ssEmployeeApi","ssToastHlp","ssStorage","enumFormAdministratorType",function(e,t,n,i,o,a,s,l,c,p,u){function d(){h=0,v=0,P.formsAndPackets=[],m()}function m(){return null!=_&&(_.$abort(),_=null),_=n(regeneratorRuntime.mark(function t(){var n,i,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h=P.isSorting?h:h+1,n=P.isSearching||P.isSorting?0:(h-1)*b,v=P.isSorting?v:v+b,i=e.endpoint(),i.config.limit=P.isSorting?v:b,i.config.offset=n,i.config=Object.assign(i.config,g(P.sortBy)),t.next=10,i.api(i.config);case 10:o=t.sent,y=parseInt(o.$headers["total-results"],10),o=f(o),o=o.filter(function(e){return"inactive"!==e.status}),P.formsAndPackets=P.isSorting?[].concat(r(o)):[].concat(r(P.formsAndPackets),r(o)),a=v-o.length,P.showInfScroll=o.length<y-a,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),P.showInfScroll=!1;case 22:return t.prev=22,P.isLoading=!1,P.isSearching=!1,P.isSorting=!1,_=null,t.finish(22);case 28:case"end":return t.stop()}},t,this,[[0,19,22,28]])}))()}function f(e){return e.forEach(function(e){null!==e._formAdministrator.employeeId?e.adminName=e._formAdministrator.name:e.adminName=u.byValue(e._formAdministrator.formAdministratorType)||"None"}),e}function g(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}var y,b=50,h=0,v=0,_=null,w={type:"FormTemplate",attributes:[{dueDateUtc:null,formTemplate:{formTemplateId:""},employee:{employeeId:""}}]},P=e.vm={formsAndPackets:[],showInfScroll:!0,isLoading:!1,isSearching:!1,isSorting:!1,sortCriteria:[{name:"Form Category",value:{field:"categoryname",dir:"asc"}},{name:"Form Administrator Type",value:{field:"formadministratortype",dir:"desc"}},{name:"Form Name (A-Z)",value:{field:"name",dir:"asc"}}]};P.sortBy=P.sortCriteria[0].value;e.go={initiateForm:function(e){e.initiating=!0;n(regeneratorRuntime.mark(function n(){var r,i,l,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.getIdentityByType("employee");case 3:if(r=n.sent,1!==e._formAdministrator.formAdministratorType){n.next=6;break}throw"An Employee-Initiated form cannot be started by an employee who is also assigned as the Form Administrator.";case 6:return i=angular.copy(w),i.attributes[0].formTemplate.formTemplateId=e.id,i.attributes[0].employee.employeeId=r,n.next=11,s.send(i,{isemployeeinitiated:!0});case 11:l=n.sent,r===l[0].currentStep._stepParticipant.employeeIds[0]?(p=t.href("base.formInstance",{formInstanceId:l[0].id,returnUrl:o.url(),target:"_blank"}),window.open(p,"_blank")):c.success('"'+l[0].name+'" has been sent',"Form Sent",!1),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),c.error(n.t0,"Error",!1);case 18:return n.prev=18,e.initiating=!1,n.finish(18);case 21:case"end":return n.stop()}},n,this,[[0,15,18,21]])}))()}};e.$on("$destroy",e.$watch("vm.sortBy",function(e,t){e!==t&&(P.formsAndPackets=[],P.isSorting=!0,P.isLoading=!1,P.isSearching=!1,P.sortBy=e,m())})),e.$on("$destroy",e.$watch("search",function(e,t){e!==t&&(P.isSearching=!0,P.isLoading=!1,P.isSorting=!1,d())})),e.scrollData=function(){P.isLoading=!0,e.filter!==e.type&&h<0||P.showInfScroll&&null==_&&m()}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpEmpInitiatedTemplate",function(){return new p(c,"emp-initiated-template")})},{"base-component":54}],11:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",group:"=",ignoreValidations:"=",org:"=?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssValidationHlp","fieldRendererHlp",function(e,t,n){function r(t){var r=n.getTag(t),i=n.getProperties(t,o),a=n.getContent(t,{scope:e.$root});s.template="<"+r+i+">"+a+"</"+r+">"}var i=e.field,o=e.group,a=function(e,t){return!t||null!=e.name&&""!=e.name.trim()?!(null!==e.name&&""!==e.name.trim()&&!e.isSigned)||'Please click "Add Digital Signature" before continuing.':'Please sign and click "Add Digital Signature" before continuing.'},s=e.vm={template:""};e.validator={required:t.required(),numeric:t.numeric(),numericRequired:t.numeric({required:!0}),phone:t.phone(),phoneRequired:t.phone({required:!0}),ssn:t.ssn(),ssnRequired:t.ssn({required:!0}),email:t.email(),emailRequired:t.email({required:!0}),zip:t.zip(),zipRequired:t.zip({required:!0}),digitalSignature:t.object([function(e){return a(e,!1)}]),digitalSignatureRequired:t.object([function(e){return a(e,!0)}]),fileUploadRequired:t.string({required:!0})},"super-input-datepicker"===i._fieldType&&(i._fieldType="super-iso-org-date"),n.bindConfigObject(e,"field._configJson","field.config"),e.$watchGroup(["field._fieldType","field.isRedacted","field.ignoreValidations"],function(){return r(i)}),e.$watch(n.getVisibility(i),function(e){return s.visibility=e})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpFieldRenderer",function(){return new c(l,"field-renderer")})},{"base-component":54}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={template:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$element","$document","ssAsync","ssEventSvc","ssToastHlp","ssFormTemplatesApi",function(e,t,n,r,i,o,a){function s(){e.$destroy(),e=null,t.remove(),t=null,p.removeClass(c),i.emit("fl-share-form-cancel")}var l=e.vm={formName:e.template._name,org:[],saving:!1},c="shown",p=angular.element(n[0].getElementById("modal-fade"));p.addClass(c);e.go={cancel:s,share:function(){l.saving=!0;var t=l.org[0];r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.shareToOrg(e.template.id,{destinationOrgId:t.Id,destinationTemplateName:l.formName}).then(function(e){if(-1===e.status||e.status>=400)return 422===e.status?o.error(e.data.errors.Title,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"):o.error("",'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"),void(l.saving=!1);o.success("",'"'+l.formName+'" has been shared to '+t.Name+" ("+t.Id+")"),s()}).catch(function(e){422===e.status?o.error(e.data.errors.Title,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"):o.error(e,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"),l.saving=!1});case 2:case"end":return n.stop()}},n,this)}))()}};angular.element(document.body).append(t)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpFlShareForm",function(){return new c(l,"fl-share-form")})},{"base-component":54}],13:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",count:"=",filter:"=",type:"@",endpoint:"&"},p={0:"Complete Form",1:"Review Form",2:"Review & Approve",3:"View Form",4:"Review Profile"},u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","$filter","$state","$stateParams","$location","rAF","enumStepAction","enumFormStatus","ssAsync","ssObjectHlp","ssDateHlp","ssDateByOrgHlp","ssDueDateHlp",function(e,t,n,i,o,a,s,l,c,u,d,m,f){function g(){D=0,k=0,E.formsAndPackets=[],y()}function y(){return E.loading=!0,c(regeneratorRuntime.mark(function t(){var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,D=E.sorting?D:D+1,n=(D-1)*A,k=E.sorting?k:k+A,r=e.endpoint(),x=r.config.id,r.config.limit=E.sorting?k:A,r.config.offset=E.sorting?0:n,r.config=Object.assign(r.config,T(E.sortBy)),!r.config.id){t.next=15;break}return t.next=12,r.api(r.config);case 12:t.t0=t.sent,t.next=16;break;case 15:t.t0=null;case 16:i=t.t0,e.count=parseInt(i.$headers["total-results"],10),b(i),E.showInfScroll=k<e.count,t.next=25;break;case 22:t.prev=22,t.t1=t.catch(0),E.showInfScroll=!1;case 25:return t.prev=25,E.loading=!1,E.sorting=!1,t.finish(25);case 29:a(function(){E.loading=!1,e.$emit("forms-inbox.data-loaded")},e);case 30:case"end":return t.stop()}},t,this,[[0,22,25,29]])}))()}function b(e){e.forEach(function(e){e.userIsPrimary=null!==e._employee.employeeId&&e._employee.employeeId===x,v(e),e.formStatus=h(e),e._dueDateUtc&&(e.dueDateStatus=f.dueStatus(e,O.org))});var t=S(e);E.formsAndPackets=E.sorting?[].concat(r(t)):[].concat(r(E.formsAndPackets),r(t))}function h(e){if(!e.currentStep)return"No Workflow";if(e.isUserStep){if(e.isRejected)return e.statusDetails="Denied "+w(e),"Step Denied";if(!e.currentStep._lastModifiedDtUtc||e.isSubmitted||e.isComplete)return"";return"Progress Saved "+m.utcIsoToRelativeMoment(e.currentStep._lastModifiedDtUtc,O.org).format("MM/DD/YY")}if(e.isSubmitted){var t=_(e._steps);return"Submitted "+m.utcIsoToRelativeMoment(e._steps[t]._submittedDtUtc,O.org).format("MM/DD/YY")}if(e.isComplete){return"Completed "+m.utcIsoToRelativeMoment(e._completionDateUtc,O.org).format("MM/DD/YY")}return e.isCompletedAndDenied?"Form Denied":e.isPending?"Workflow Pending":""}function v(e){if(e.isUserStep=!1,e.isPending=!1,e.isSubmitted=!1,e.isComplete=!1,e.isCompletedAndDenied=!1,e.isRejected=!1,e.formStatus="",e.rejectedByUser=!1,e.stepActionName="undefined",e.stepActionLabel=null,e.hasValidEnhancedDeniedInfo=u.glean(e,function(e){return e._deniedInfo.denier.name},!1)||u.glean(e,function(e){return e._deniedInfo.comments},!1),e.currentStep&&(e.stepActionLabel=null!==e.currentStep._stepAction?p[e.currentStep._stepAction]:p[3],e.currentStep._stepAction===s.formEntry?e.stepActionName="Fill Out Form":e.stepActionName=s.byValue(e.currentStep._stepAction),e.isComplete=e._statusId===l.complete,e.isCompletedAndDenied=e._statusId===l.completedAndDenied,!e.isComplete&&!e.isCompletedAndDenied)){var t=u.glean(e,function(e){return e.currentStep._meta.permissions.permittedActions.edit},!1),n=e._steps.indexOf(e.currentStep),r=_(e._steps);e.isSubmitted=n>=r&&null!=e._steps[r]._submittedDtUtc&&!d.isForeverPast(e._steps[r]._submittedDtUtc),null!=e.currentStep._stepParticipant&&angular.isArray(e.currentStep._stepParticipant.employeeIds)&&(e.isUserStep=e.currentStep._stepParticipant.employeeIds[0]===x),e.isUserStep&&e._statusId===l.rejected&&(e.isRejected=!0,2===e.currentStep._stepAction&&(e.rejectedByUser=!0)),e.isPending=!e.isUserStep&&!e.isSubmitted&&!t}}function _(e){for(var t=e.length-1;t>=0;t--)if(null!=e[t]._stepParticipant&&angular.isArray(e[t]._stepParticipant.employeeIds)&&e[t]._stepParticipant.employeeIds[0]===x)return e.indexOf(e[t])}function w(e){if(!O.featureFlags.fc_enhanced_denied_form_workflow)return e.hasValidEnhancedDeniedInfo?"by "+e._deniedInfo.denier.name:"";if(!e.rejectedByUser&&e.isUserStep){var t=e._steps.indexOf(e.currentStep)+1;return"by "+e._steps[t]._stepParticipant.name}return""}function P(e){var t=e.reduce(function(e,t){return e._completionDateUtc>t._completionDateUtc?e:t});return m.utcIsoToRelativeMoment(t._completionDateUtc,O.org).format("MM/DD/YY")}function S(e){var t=new Map;return e.map(function(e,n,r){var i,o,a,s;return e.isPacket=!1,e.isInPacket?(t.has(e._packetInstance.instanceId)||t.set(e._packetInstance.instanceId,{name:e._packetInstance.name,isPacket:!0,isRejected:!1,showDetails:!1,content:[]}),o=e._packetInstance.completeFormInstanceIds.length,a=e._packetInstance.incompleteFormInstanceIds.length,s=o+a,i=t.get(e._packetInstance.instanceId),i.content.push(e),i.dueDateStatus=function(){var e=i.content.filter(function(e){return e.dueDateStatus&&"overdue"===e.dueDateStatus.class}),t=i.content.filter(function(e){return e.dueDateStatus&&"due-soon"===e.dueDateStatus.class});return e.length?{class:"overdue"}:t.length?{class:"due-soon"}:null}(),i.formStatus=function(){var e=i.content.filter(function(e){return e.isRejected||e.isCompletedAndDenied});return e.length?(i.isRejected=!0,e.length+" form "+(e.length>1?"s":"")+" denied"):0===a?"Completed "+P(i.content):o+"/"+s+" Forms Completed"}(),i.content.length>1?null:i):e}).filter(function(e){return null!=e})}function T(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}var x,O=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),D=0,A=50,k=0,F=e.type;e.enumFormStatus=l;var E=e.vm={formsAndPackets:[],showInfScroll:!0,loading:!1,refreshing:!1,sorting:!1,sortCriteria:[{name:"Most Recent",value:{field:"recentlysent",dir:"desc"}},{name:"Due Date",value:{field:"duedate",dir:"asc"}},{name:"Form/Packet Name (A-Z)",value:{field:"formname",dir:"asc"}}],type:F};E.sortBy=E.sortCriteria[1].value;e.go={complete:function(e){var t=n.href("base.formInstance",{formInstanceId:e.id,returnUrl:o.url(),target:"_blank"});window.open(t,"_blank")},toggleDetails:function(e){e.showDetails=!e.showDetails}};e.$watch("vm.sortBy",function(e,t){e!==t&&null!=E.formsAndPackets&&0!==E.formsAndPackets.length&&(E.sortBy=e,E.sorting=!0,y())}),e.$watch("search",function(e,t){e!==t&&g()}),e.scrollData=function(){e.filter!==e.type&&D<0||E.showInfScroll&&!E.loading&&y()}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpFormListGroup",function(){return new u(c,"form-list-group")})},{"base-component":54}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={org:"=",form:"=",batch:"=",onComplete:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssAsync","$q","ssFormInstancesApi","$timeout","ssToastHlp","ssStorage","moment","$filter","$sce","ssDateByOrgHlp",function(e,t,n,r,i,o,a,s,l,c,p){function u(){d.inProgress=!1;var t=p.utcIsoToRelativeMoment(d.status._endedAtUtc,e.org),n=t.calendar(null,{sameDay:"[Sent Today at] LT",lastDay:"[Sent Yesterday at] LT",sameElse:"[Sent on] l [at] h:mm a"});d.statusHelperText=c.trustAsHtml(""+n),d.status._numFailed?(d.hasFailures=!0,d.sendStatusText=g+" sent to "+(d.numInBatch-d.numFailed)+" employees",d.progressMessage=d.numFailed+" failed to send",d.progressMessageClass="error",m||o.standard("",'"'+e.form._name+'" sent to '+d.numInBatch+" people, but only "+d.numComplete+" succeeded",!1)):(d.sendStatusText=g+" sent to "+d.numInBatch,d.progressMessage="Success!",d.progressMessageClass="success",m||o.success("",'"'+e.form._name+'" sent successfully to '+d.numInBatch+" "+(d.status._numInBatch>1?"people":"person"),!1),i(function(){y.removeBatch()},3e3))}var d=e.vm={progressMessage:"",status:"",sendStatusText:"",statusHelperText:"",percentComplete:"0%",loading:!0,inProgress:!1,showRemove:!0,loadingMessage:""},m=!1,f=!0,g="FormTemplate"===e.form._objectType?"Form":"Packet";d.formattedRecipientLength=l("number")(e.batch._includedEmployeeIds.length,0),d.sendStatusText="Sending "+g+" to "+d.formattedRecipientLength,d.statusHelperText=c.trustAsHtml("<strong>This may take several minutes.</strong> Sender will be notified and emailed when complete.");var y=e.go={removeBatch:function(){e.onComplete({batch:e.batch})},archiveBatch:function(){d.loadingMessage="Archiving batch...",d.loading=!0,d.status._isArchived=!0,d.status.$save().then(function(){y.removeBatch(),o.success("","Batch successfully archived")}).catch(function(e){console.error(e),o.error("","There was a problem archiving the batch. Please try again")}).finally(function(){d.loadingMessage="",d.loading=!1})}};(function(){function t(){r.getBatchStatus({id:e.batch.id}).then(function(e){switch(d.loading=!1,d.loadingMessage="",d.status=e,d.numInBatch=l("number")(d.status._numInBatch,0),d.numFailed=l("number")(d.status._numFailed,0),d.numComplete=l("number")(d.status._numComplete,0),d.status._status){case 0:d.progressMessage="Preparing to send",d.progressMessageClass="waiting",d.sendStatusText="Preparing "+g+" for "+d.formattedRecipientLength;break;case 1:d.inProgress=!0,d.sendStatusText="Sending "+g+" to "+d.formattedRecipientLength,d.percentComplete=d.status._percentComplete+"%";break;case 3:d.inProgress=!0,d.percentComplete="100%"}3===d.status._status||4===d.status._status||5===d.status._status?(m=f,i(function(){o.resolve()},3e3)):(f=!1,i(t,3e3))})}var o=n.defer();return d.loadingMessage="Preparing batch...",t(),o.promise})().then(function(){u()})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpFormSendStatus",function(){return new c(l,"form-send-status")})},{"base-component":54}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){e.checked=!1}function s(e){if(e.length>0){var t=[];return e.map(function(e){t.push(e.id)}),t.join(",")}return null}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("base-component"),p={label:"@",model:"=",exclusions:"="},u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"controller",value:["$scope","$rootScope","ssAsync","ssListSvc","ssLocationSvc","ssJobTypeSvc","ssDepartmentSvc","ssEmployeeApi","enumEmployeeStatus","ssStringHlp","ssDateByOrgHlp","moment","ssToastHlp","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n,r,i,o,l,c,p,u,d,m,f,g){function y(t){var n=e.exclusions.map(function(e){return{id:e.id}});return t.filter(function(e){return!n.find(function(t){return t.id===e.id})})}function b(e,t){var n=e.map(function(e){return e.id}),r=t.filter(function(e){return!n.includes(e.id)});r.forEach(function(e){t.splice(t.indexOf(e),1)}),r.length&&f.warn("One or more of the selected exclusions are not members of the current recipient group and have therefore been removed","")}e.routeVm=e.$root.utils.findInParentScope("routeVm",e);var h=m().format("MM/DD/YYYY"),v=null,_=null,w={selected:{},exclusions:[]},P=e.vm={asOf:h,formOpened:!1,filtering:!1,attempted:!1,selected:{location:[],jobType:[],employmentGroup:[],department:[],status:null,hireDateStart:null,hireDateEnd:null},employmentGroupDisabled:!1};e.featureFlags={isHRMSEnabled:!1},n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.resolveAll(e.featureFlags);case 3:return t.next=5,i.getAll();case 5:return P.locations=t.sent,t.next=8,o.getAll();case 8:return P.jobTypes=P.jobTypesAll=t.sent,t.next=11,r.getByExternalId("jobtype.employmentgroups");case 11:return P.employmentGroups=t.sent,P.employmentGroups=P.employmentGroups.map(function(e){return{_name:e.name,id:e.value}}),t.next=15,l.getAll();case 15:P.departments=t.sent,P.status=p.getEnums().map(function(e){return{_name:u.toProperCase(e.name.toLowerCase()),id:e.value}}),P.selected.status=[P.status.find(function(e){return e.id===p.active})],t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.error("ERROR",t.t0);case 23:case"end":return t.stop()}},t,this,[[0,20]])}))();var S=e.go={cancel:function(){P.formOpened=!1,P.filtering=!1,e.model.length&&(P.selected=angular.copy(w.selected,P.selected),e.exclusions=angular.copy(w.exclusions,e.exclusions))},resetFilters:function(){P.status[1].checked=!0,P.selected.status.push(P.status[1])},clearAllFilters:function(){P.selected.location=[],P.selected.jobType=[],P.selected.employmentGroup=[],P.selected.department=[],P.selected.status=[],P.selected.hireDateStart="",P.selected.hireDateEnd="",P.locations.forEach(a),P.jobTypes.forEach(a),P.employmentGroups.forEach(a),P.departments.forEach(a),P.status.forEach(a),e.exclusions=[],P.attempted=!1,P.filtering=!1},toggleFilter:function(){e.model.length||(S.clearAllFilters(),S.resetFilters()),P.formOpened=!P.formOpened},addGroup:function(){P.filtering=!0;var t=P.selected.hireDateStart&&P.selected.hireDateStart.toISOString()?d.startOfDayRelativeTo(m(P.selected.hireDateStart.toISOString()),e.routeVm.org):null,r=P.selected.hireDateEnd&&P.selected.hireDateEnd.toISOString()?d.endOfDayRelativeTo(m(P.selected.hireDateEnd.toISOString()),e.routeVm.org):null,i=Object.assign({},{location:s(P.selected.location),jobtype:s(P.selected.jobType),department:s(P.selected.department),status:s(P.selected.status),employmentgroup:s(P.selected.employmentGroup),hiredatestart:t,hiredateend:r});Object.keys(i).forEach(function(e){return null==i[e]&&delete i[e]});var o=Object.assign({},{fields:"firstname,lastname,id",limit:1e4,asOfTimeUtc:d.safeAsOfDateRelativeTo(m(P.asOf).startOf("day"),e.routeVm.org),filter:i});v=n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.search({},o);case 3:_=t.sent,_=_.map(function(e){return{id:e.id}}),P.attempted=!0,b(_,e.exclusions),e.model=y(_),e.model.length&&(P.formOpened=!1,w.exclusions=angular.copy(e.exclusions,w.exclusions),w.selected=angular.copy(P.selected,w.selected)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("error retrieving employees",t.t0);case 14:return t.prev=14,P.filtering=!1,v=null,t.finish(14);case 18:case"end":return t.stop()}},t,this,[[0,11,14,18]])}))()}};e.routeVm.removeGroup=function(){P.formOpened&&S.toggleFilter(),e.model=[],S.clearAllFilters(),S.resetFilters()},t.$on("$destroy",t.$on("parentAsOfDate-Change",function(e,t){null==t||null==t.asOf||""===t.asOf.toString()?P.asOf=h:P.asOf=m(t.asOf).format("MM/DD/YYYY")})),e.$on("destroy",e.$watch("vm.selected.jobType.length",function(e,t){e!==t&&(e>0?(P.employmentGroupDisabled=!0,P.selected.employmentGroup=[],P.employmentGroups.forEach(a)):P.employmentGroupDisabled=!1)})),e.$on("destroy",e.$watch("vm.selected.employmentGroup.length",function(e,t){if(e!==t)if(e>0){var n=P.selected.employmentGroup.map(function(e){return e.id}),r=P.jobTypesAll.map(function(e){return e._bargainingUnit.id});P.jobTypes=[];var i=r.filter(function(e){var t=e.split("_")[1];return!0===n.includes(t)});P.jobTypes=P.jobTypesAll.filter(function(e){return!0===i.includes(e._bargainingUnit.id)})}else P.jobTypes=P.jobTypesAll})),e.$on("destroy",e.$watch("vm.selected",function(e,t){e!==t&&v&&(v.$abort(),P.filtering=!1,P.attempted=!1)},!0))}]}]),t}(c.Component);angular.module("ec-forms-components").directive("cmpMultipleEmployeeSearch",function(){return new u(p,"multiple-employee-search")})},{"base-component":54}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssEventSvc",function(e,t){e.routeVm=e.$root.utils.findInParentScope("routeVm",e);var n=e.vm={tools:[{type:"text",icon:"pencil-square",title:"Text Box"},{type:"date",icon:"calendar",title:"Date Picker"},{type:"checkbox",shape:"square",icon:"check-square",title:"CheckBox"}]};e.routeVm.selectedTool=n.tools[0];var r=e.go={highlightSelectedBox:function(t){e.routeVm.selectedTool=n.tools.find(function(e){return e.type===t.type})}};t.on("pvb.select-box",r.highlightSelectedBox,e)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpOverlayBuilderToolbox",function(){return new c(l,"overlay-builder-toolbox")})},{"base-component":54}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssEventSvc","ssValidationHlp",function(e,t,n){var r;e.routeVm=e.$root.utils.findInParentScope("routeVm",e);r=4==e.fields[0]._externalData.split(".").length;e.vm={fields:e.fields,canEdit:!0,showActive:r};e.validator={label:n.string({maxLength:25})};e.go={hideHeadings:function(e){return"heading"!=e._fieldType}};e.$watch("vm.showActive",function(n,r){n!=r&&t.emit("cred-select-active",n,e.fields)}),null==e.fields[0]._active&&(e.fields[0]._active=!0)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCredentials",function(){return new c(l,"properties-credentials")})},{"base-component":54}],18:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"=",showLabel:"@?",showRequired:"@?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0],showLabel:"false"!==e.showLabel,showRequired:"false"!==e.showRequired}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomCommon",function(){return new c(l,"properties-custom-common")})},{"base-component":54}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0]},e.go={}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomDate",function(){return new c(l,"properties-custom-date")})},{"base-component":54}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","enumFieldWidths",function(e,t){var n=e.vm={newOption:"",field:e.fields[0],widths:t.getEnums().filter(function(e){return"Large"!==e.name&&"Full"!==e.name})};null==n.field._options&&(n.field._options=[])}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomDropdown",function(){return new c(l,"properties-custom-dropdown")})},{"base-component":54}],21:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssValidationHlp",function(e,t){var n=e.field=e.fields[0],r=(e.validator=t,e.vm={validator:{requiredUrl:t.url({require:!0})}}),i=(e.go={},/^((http|https):\/\/)/);e.$watch("field.config",function(t){e.$watch("field.config.location",function(e,t){e!==t&&(e&&0!==e.length&&!n.config.name?n.config.display=e:n.config.name?n.config.display=n.config.name:n.config.display="link will display here",!0===r.validator.requiredUrl(e)?(n.config.isValid=!0,i.test(n.config.location)||(n.config.location="http://"+n.config.location)):n.config.isValid=!1)}),e.$watch("field.config.name",function(e,t){e!==t&&(e&&0!==e.length?n.config.display=e:n.config.location?n.config.display=n.config.location:n.config.display="link will display here")})})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomFilelink",function(){return new c(l,"properties-custom-filelink")})},{"base-component":54}],22:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","enumPersonnelCategory","enumMedicalCategory",function(e,t,n){var r=e.$root.utils.findInParentScope("formVm",e),i=e.vm={field:e.fields[0],personnel:t,medical:n,webFormCategory:r.formData._formFields[0]._documentCategory,webFormSubCategory:r.formData._formFields[0]._documentSubCategory,webFormCatSubCat:r.formData._formFields[0]._documentCategory+"-"+r.formData._formFields[0]._documentSubCategory,addToEmpRecord:!0};e.go={click:function(e){}};e.$watch("vm.addToEmpRecord",function(e,t){e!==t&&(r._updateEmployeeRecord=e,r.modelChanged())}),e.$watch("vm.webFormCatSubCat",function(e,t){if(e!==t){var n=e.split("-")[0],o=e.split("-")[1];i.field._updateEmployeeRecord=!0,i.field._documentCategory=n,i.field._documentSubCategory=o,r.modelChanged()}})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomFileupload",function(){return new c(l,"properties-custom-fileupload")})},{"base-component":54}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","enumFieldHeights","enumFieldWidths",function(e,t,n){var r=e.vm={field:e.fields[0],heights:t.getEnums(),widths:n.getEnums()};null!=r.field._label&&0!==r.field._label.length||(r.field._label="Input Label")}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomInput",function(){return new c(l,"properties-custom-input")})},{"base-component":54}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0]},e.go={}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomSectionhead",function(){return new c(l,"properties-custom-sectionhead")})},{"base-component":54}],25:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0],cols:[{name:"One",value:"100%"},{name:"Two",value:"50%"},{name:"Three",value:"33%"},{name:"Four",value:"25%"}]},e.go={}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomSelectbox",function(){return new c(l,"properties-custom-selectbox")})},{"base-component":54}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssAsync","ssSignatureApi","ssPermissionsSvc",function(e,t,n,r){function i(e,t){o.selectedSignatures.splice(t,0,o.selectedSignatures.splice(e,1)[0])}var o=e.vm={field:e.fields[0],selectedSignatures:[],orientation:e.fields[0].config.orientation,signatureDisplay:e.fields[0].config.signatureDisplay||"step-participant"};o.canAssociateSignatures=r.isPermittedAction("formTemplates","associateSignatures")||!!e.$root.isPermitted.activeUser.idmAdministrator;e.go={dropSignature:function(e,t,n,r){var a=o.selectedSignatures.find(function(e){return e.id===r.id});if(a){i(o.selectedSignatures.indexOf(a),t)}else o.selectedSignatures.splice(t,0,r)}};t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o.loadingDropdown=!0,t.next=4,n.query();case 4:o.allSignatures=t.sent,null!=o.field.config.signatureIds&&o.field.config.signatureIds.forEach(function(t){var n=o.allSignatures.find(function(e){return e.id===t});e.$applyAsync(function(){o.selectedSignatures.push(n),o.loadingDropdown=!1})}),e.$watchCollection("vm.selectedSignatures",function(e,t){e!==t&&(o.field.config.signatureIds=e.map(function(e){return e.id}),o.field._configJson=JSON.stringify(o.field.config))}),e.$watch("vm.orientation",function(e,t){e!==t&&(o.field.config.orientation=e,o.field._configJson=JSON.stringify(o.field.config))}),e.$watch("vm.signatureDisplay",function(e,t){e!==t&&(o.field._required="step-participant"===e,o.field.config.signatureDisplay=e,o.field._configJson=JSON.stringify(o.field.config))}),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:return t.prev=13,o.loadingDropdown=!1,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[0,11,13,16]])}))()}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomSignature",function(){return new c(l,"properties-custom-signature")})},{"base-component":54}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","enumFieldWidths","fieldsHlp",function(e,t,n){var r=e.vm={field:e.fields[0],widths:t.getEnums()},i=n.getValidator(r.field._fieldType);e.go={validate:function(e){if("function"==typeof i){var t=i.call(null,e);return t||!0}return!0}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomText",function(){return new c(l,"properties-custom-text")})},{"base-component":54}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"=",canEdit:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssEventSvc",function(e,t){var n=e.fields.filter(function(e){return null!=e._fieldDefId}),r=e.vm={commit:!!n[0]._updateEmployeeRecord,hasExternalData:!0};e.$watch("canEdit",function(e,t){!1===e&&(r.commit=!1)}),e.$watch("vm.commit",function(r,i){if(r!==i){for(var o=0;o<e.fields.length;o++)n.includes(e.fields[o])&&(e.fields[o]._updateEmployeeRecord=r);t.emit("emp-record-commit",r,e.fields)}}),r.hasExternalData=n.every(function(e){return e._externalData&&null!==e._externalData})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesEmpRecord",function(){return new c(l,"properties-emp-record")})},{"base-component":54}],29:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={step:"=",form:"="},p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","enumPersonnelCategory","enumMedicalCategory","ssEnum","ssAsync","ssEmployeeApi","ssEventSvc",function(e,t,n,i,o,a,s){function l(e,t,n){var i=d._stepEvents[t].eventActions;if(e){var o={eventAction:n};return d._stepEvents[t].eventActions=[].concat(r(i),[o]),d._stepEvents=d._stepEvents.slice(),o}d._stepEvents[t].eventActions=i.filter(function(e){return e.eventAction!==n}),d._stepEvents=d._stepEvents.slice()}function c(t,n){if(null!=d._stepEvents[0])for(var r=void 0,i=d._stepEvents[0].eventActions,o=0;o<i.length;o++)if(r=i[o],r.eventAction===u.stepEventAction.emailOthers){e.actions.hasOwnProperty(n)&&(void 0!=e.actions[n]&&null!=e.actions[n]||"emailIds"===n&&(e.actions[n]=[]),r.employeeIds=e.actions[n].map(function(e){return e.id})),d._stepEvents=d._stepEvents.slice();break}}function p(t){null==t||t.length<1||o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.queryByIds({fields:"firstName,lastName"},{ids:t});case 2:e.actions.emailIds=n.sent;case 3:case"end":return n.stop()}},n,this)}))()}var u=e.vm={personnel:t,medical:n,stepAction:i.stepAction,stepEventAction:i.stepEventAction,stepEventType:i.stepEventType,stepParticipantType:i.stepParticipantType,webFormCategory:0,webFormSubCategory:t.otherDocuments,addToEmpRecord:!1},d=e.step,m=e.form,f=e.actions={};!function(){f.emailIds=[],null!=d._stepEvents&&(d._stepEvents[0].eventActions.forEach(function(e){e.eventAction===u.stepEventAction.emailFormSender?f.emailFormSender=!0:e.eventAction===u.stepEventAction.emailSupervisor?f.emailSupervisor=!0:e.eventAction===u.stepEventAction.emailOthers?(f.emailOthers=!0,p(e.employeeIds)):e.eventAction===u.stepEventAction.emailEmployee?f.emailEmployee=!0:d.last&&e.eventAction===u.stepEventAction.addToEmployeeRecord&&(f.addToEmpRecord=!0)}),d._stepEvents[0].eventType=u.stepEventType.onComplete,u.addToEmpRecord=m._employeeRecord.addToEmployeeRecord,u.webFormSubCategory=m._employeeRecord.category+"-"+m._employeeRecord.subCategory,!1===m._employeeRecord.addToEmployeeRecord&&(u.webFormSubCategory=null))}();e.go={};e.$watch("vm.webFormSubCategory",function(e,t){if(e!==t){var n=e.split("-")[0],r=e.split("-")[1];m._employeeRecord.addToEmployeeRecord=!0,m._employeeRecord.category=n,m._employeeRecord.subCategory=r}}),e.$watch("actions.emailEmployee",function(e,t){e!==t&&l(e,0,u.stepEventAction.emailEmployee)}),e.$watch("actions.emailFormSender",function(e,t){e!==t&&l(e,0,u.stepEventAction.emailFormSender)}),e.$watch("actions.emailSupervisor",function(e,t){e!==t&&l(e,0,u.stepEventAction.emailSupervisor)}),e.$watch("actions.emailOthers",function(e,t){if(e!==t){var n=l(e,0,u.stepEventAction.emailOthers);e&&(n.employeeIds=[])}}),e.$watch("vm.addToEmpRecord",function(e,t){e!==t&&(m._employeeRecord.addToEmployeeRecord=e)}),e.$watch("actions.emailIds.length",function(e,t){e!==t&&c(0,"emailIds")}),e.$watch("step._stepAction",function(e,t){e!==t&&(d._stepEvents=[{eventType:u.stepEventType.onComplete,eventActions:[]}],f.emailOtherIds=[],d.last&&(f.addToEmpRecord=!0))})}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesFormComplete",function(){return new p(c,"properties-form-complete")})},{"base-component":54}],30:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={step:"="},p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi",function(e,t,n,i){function o(e,t,n){var i=c._stepEvents.find(function(e){return e.eventType===t.eventType}),o=i.eventActions;if(e){var a={eventAction:n};i.eventActions=[].concat(r(o),[a])}else i.eventActions=o.filter(function(e){return e.eventAction!==n});c._stepEvents=c._stepEvents.slice()}function a(e,n){var r=c._stepEvents.find(function(t){return t.eventType===e.eventType});if(r){var i=r.eventActions.find(function(e){return e.eventAction===t.stepEventAction.emailOthers});i&&(i.employeeIds=n.emails.map(function(e){return e.id}))}c._stepEvents=c._stepEvents.slice()}function s(){return[{title:"On Submit",dataAuto:"on-submit",eventType:t.stepEventType.onSubmit,eventActionEnum:t.stepAction.formEntry,eventActions:[{title:"Email Employee",dataAuto:"email-employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",dataAuto:"email-form-sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",dataAuto:"email-employee-supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",dataAuto:"email-others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Review",dataAuto:"on-review",eventType:t.stepEventType.onReview,eventActionEnum:t.stepAction.reviewForm,eventActions:[{title:"Email Employee",dataAuto:"email-employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",dataAuto:"email-form-sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",dataAuto:"email-employee-supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",dataAuto:"email-others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Approve",dataAuto:"on-approve",eventType:t.stepEventType.onApprove,eventActionEnum:t.stepAction.reviewApproveOrDeny,eventActions:[{title:"Email Employee",dataAuto:"email-employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",dataAuto:"email-form-sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",dataAuto:"email-employee-supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",dataAuto:"email-others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Deny",dataAuto:"on-deny",eventType:t.stepEventType.onDeny,eventActionEnum:t.stepAction.reviewApproveOrDeny,eventActions:[{title:"Email Employee",dataAuto:"email-employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",dataAuto:"email-form-sender",eventAction:[t.stepEventAction.stopWorkFlow,t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",dataAuto:"email-employee-supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",dataAuto:"email-others",eventAction:[t.stepEventAction.stopWorkFlow,t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Review",dataAuto:"on-employee-profile-review",eventType:t.stepEventType.onEmployeeProfileReview,eventActionEnum:t.stepAction.employeeProfileReview,eventActions:[{title:"Email Employee",dataAuto:"email-employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",dataAuto:"email-form-sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",dataAuto:"email-employee-supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",dataAuto:"email-others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]}]}var l=e.vm={stepEvents:new s},c=(e.go={eventClicked:function(e,t){t.eventAction.forEach(function(n){o(t.checked,e,n)})}},e.step);c._stepEvents&&c._stepEvents.length&&c._stepEvents.forEach(function(e){var r=e.eventActions.map(function(e){return e.eventAction}),o=[];if(r.includes(t.stepEventAction.emailOthers)){var a=e.eventActions.find(function(e){return e.eventAction===t.stepEventAction.emailOthers});o=a.employeeIds}var s=l.stepEvents.find(function(t){return t.eventType===e.eventType});s&&s.eventActions.forEach(function(e){e.eventAction.every(function(e){return r.indexOf(e)>-1})&&(e.checked=!0),o.length&&e.eventAction.includes(t.stepEventAction.emailOthers)&&n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.queryByIds({fields:"firstName,lastName"},{ids:o});case 2:e.emails=t.sent;case 3:case"end":return t.stop()}},t,this)}))()})}),l.stepEvents.forEach(function(t,n){t.eventActions.forEach(function(t,r){t.emails&&e.$watch("vm.stepEvents["+n+"].eventActions["+r+"].emails.length",function(e,t){if(e!==t){var i=n,o=r;a(l.stepEvents[i],l.stepEvents[i].eventActions[o])}})})}),e.$watch("step._stepAction",function(e,n){e!==n&&(e===t.stepAction.formEntry?c._stepEvents=[{eventType:t.stepEventType.onSubmit,eventActions:[]}]:e===t.stepAction.reviewApproveOrDeny?c._stepEvents=[{eventType:t.stepEventType.onApprove,eventActions:[]},{eventType:t.stepEventType.onDeny,eventActions:[]}]:e===t.stepAction.reviewForm?c._stepEvents=[{eventType:t.stepEventType.onReview,eventActions:[]}]:e===t.stepAction.formCompleted?c._stepEvents=[{eventType:t.stepEventType.onComplete,eventActions:[]}]:e===t.stepAction.employeeProfileReview&&(c._stepEvents=[{eventType:t.stepEventType.onEmployeeProfileReview,eventActions:[]}]),l.stepEvents=new s)})}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesNotifications",function(){return new p(c,"properties-notifications")})},{"base-component":54}],31:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={form:"=",fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssValidationHlp",function(e,t){e.routeVm=e.$root.utils.findInParentScope("routeVm",e),e.vm={fields:e.fields,canEdit:!0};e.validator={label:t.string({maxLength:25})};e.go={showActionableFields:function(e){return"instructions"!=e._fieldType},checkIfHeadingOrInstructions:function(e){switch(e._fieldType){case"readOnlyHeading":case"readOnlySubheading":case"instructions":return!1;default:return!0}}};e.$watch("vm.showActive",function(t,n){t!=n&&ssEventSvc.emit("cred-select-active",t,e.fields)}),null==e.fields[0]._active&&(e.fields[0]._active=!0)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesPrimaryAssignment",function(){return new c(l,"properties-primary-assignment")})},{"base-component":54}],32:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("base-component"),p={form:"=",step:"="},u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi","ssValidateHlp","ssValidationHlp","formsHlp","ssToastHlp",function(e,t,n,i,o,a,l,c){function p(){h.emailIds=[],null!=y._stepEvents&&(y._stepEvents[0].eventActions.forEach(function(e){e.eventAction===v.stepEventAction.emailFormSender?h.emailFormSender=!0:e.eventAction===v.stepEventAction.emailSupervisor?h.emailSupervisor=!0:e.eventAction===v.stepEventAction.emailOthers?(h.emailOthers=!0,f(e.employeeIds)):e.eventAction===v.stepEventAction.emailEmployee&&(h.emailEmployee=!0)}),y._stepEvents[0].eventType=v.stepEventType.onEmployeeProfileReview)}function u(e,t,n){var i=y._stepEvents[t].eventActions;if(e){var o={eventAction:n};return y._stepEvents[t].eventActions=[].concat(r(i),[o]),y._stepEvents=y._stepEvents.slice(),o}y._stepEvents[t].eventActions=i.filter(function(e){return e.eventAction!==n}),y._stepEvents=y._stepEvents.slice()}function d(t,n){if(null!=y._stepEvents[0])for(var r=void 0,i=y._stepEvents[0].eventActions,o=0;o<i.length;o++)if(r=i[o],r.eventAction===v.stepEventAction.emailOthers){e.actions.hasOwnProperty(n)&&(void 0!=e.actions[n]&&null!=e.actions[n]||"emailIds"===n&&(e.actions[n]=[]),r.employeeIds=e.actions[n].map(function(e){return e.id})),y._stepEvents=y._stepEvents.slice();break}}function m(e){if(null!=e)return i.get({id:e,fields:"firstName,lastName"},"",!1)}function f(t){null==t||t.length<1||n(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.queryByIds({fields:"firstName,lastName"},{ids:t});case 2:e.actions.emailIds=n.sent;case 3:case"end":return n.stop()}},n,this)}))()}var g,y=e.step,b=e.form,h=e.actions={},v=e.vm={specificParticipant:[],stepAction:t.stepAction,stepEventAction:t.stepEventAction,stepEventType:t.stepEventType,stepParticipantType:t.stepParticipantType,stepParticipant:t.stepParticipantType.getEnums().filter(function(e){return b._isEmployeeInitiated?0!==e.value&&3!==e.value:0!==e.value}),validator:{required:a.required()}};e.go={selectParticipant:function(e){v.buttonLabel=e.name,y._stepParticipant.participantType=e.value,y._stepParticipant.employeeIds=v.specificParticipant=[]}};e.$watch("actions.emailEmployee",function(e,t){e!==t&&u(e,0,v.stepEventAction.emailEmployee)}),e.$watch("actions.emailFormSender",function(e,t){e!==t&&u(e,0,v.stepEventAction.emailFormSender)}),e.$watch("actions.emailSupervisor",function(e,t){e!==t&&u(e,0,v.stepEventAction.emailSupervisor)}),e.$watch("actions.emailOthers",function(e,t){if(e!==t){var n=u(e,0,v.stepEventAction.emailOthers);e&&(n.employeeIds=[])}}),e.$watch("actions.emailIds.length",function(e,t){e!==t&&d(0,"emailIds")}),e.$watch("step._stepParticipant",function(t,n){t&&t!==n&&(l.updatePermissions({steps:b._steps,currentStep:e.step,newStepParticipant:t,oldStepParticipant:n}),e.step._permissions[0].participantType=t.participantType,e.step._permissions[0].employeeId=t.employeeIds.length?t.employeeIds[0]:"")},!0),function(){null==y._stepParticipant.participantType?v.buttonLabel="Please Select":v.buttonLabel=t.stepParticipantType.byValue(y._stepParticipant.participantType),y._stepParticipant.employeeIds.length&&m(y._stepParticipant.employeeIds[0]).then(function(e){g=angular.copy(e.id),v.specificParticipant.push(e)}).catch(function(e){c.error("there was an error retrieving the step participant name","")}),p()}(),e.$watch("vm.specificParticipant",function(e,t){if(e.length&&e!==t){if(g&&e[0].id===g)return void(g=null);s&&o.resetValidation(s),y._stepParticipant.employeeIds=v.specificParticipant.map(function(e){return e.id})}})}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){s=angular.element(document.getElementById("step-participant-search"))})}}]),t}(c.Component);angular.module("ec-forms-components").directive("cmpPropertiesProfileReview",function(){return new u(p,"properties-profile-review")})},{"base-component":54}],33:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={form:"=",fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssAsync","ssMultiInitiativeFeatureDetectorCCSvc","ssValidationHlp",function(e,t,n,r){var i=(e.routeVm=e.$root.utils.findInParentScope("routeVm",e),e.vm={canEdit:!0});e.actionableFields=e.fields.filter(function(e){return null!=e._fieldDefId}),e.validator={label:r.string({maxLength:30})};e.go={};i.canEdit=e.actionableFields.every(function(e){return e._fieldType&&!e._fieldType.includes("read")}),null==e.fields[0]._active&&(e.fields[0]._active=!0)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesSalary",function(){return new c(l,"properties-salary")})},{"base-component":54}],34:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssValidationHlp","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n){var r=e.vm={fields:e.fields,canEdit:!0};e.validator={label:t.string({maxLength:25})};e.go={hideInstructions:function(e){return"instructions"!=e._fieldType},checkIfHeadingOrInstructions:function(e){switch(e._fieldType){case"readOnlyHeading":case"readOnlySubheading":case"instructions":return!1;default:return!0}}};r.canEdit=e.fields.some(function(e){return e._fieldType&&!e._fieldType.includes("read")})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesSecondaryAssignments",function(){return new c(l,"properties-secondary-assignments")})},{"base-component":54}],35:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={form:"=",fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssValidationHlp",function(e,t){var n=(e.routeVm=e.$root.utils.findInParentScope("routeVm",e),e.vm={hasSensitiveFields:e.fields.some(function(e){return e._sensitive}),canEdit:!0});e.actionableFields=e.fields.filter(function(e){return null!=e._fieldDefId}),e.validator={label:t.string({maxLength:30})};e.go={switchFieldTypes:function(t){var n=t?"edit":"view";e.fields[0]._fieldType=t?"heading":"readOnlyHeading",e.actionableFields.forEach(function(e){e._fieldTypeOptions&&e._fieldTypeOptions.view&&e._fieldTypeOptions.edit&&(e._fieldType=e._fieldTypeOptions[n]),t||(e._required=!1)})}};n.canEdit=e.actionableFields.every(function(e){return e._fieldType&&!e._fieldType.includes("read")}),n.canToggleFieldTypes=function(){return e.actionableFields.every(function(e){return e._fieldTypeOptions&&e._fieldTypeOptions.view&&e._fieldTypeOptions.edit})}(),null==e.fields[0]._active&&(e.fields[0]._active=!0)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesSmart",function(){return new c(l,"properties-smart")})},{"base-component":54}],36:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",step:"="},p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","enumStepParticipantType","ssModalSvc","ssEnum","formsHlp",function(e,t,n,i,o,a,s){function l(){return!!e.step.fieldGroups.length&&e.step.fieldGroups.reduce(function(e,t){return[].concat(r(e),r(t))},e.step.fieldGroups[0]).some(function(e){return 1==e._sensitive||Array.isArray(e._tokenFields)&&!!e._tokenFields.find(function(e){return e.sensitive})})}function c(e){e._permissions.forEach(function(e){null==e.participantType?e.display="select participant":e.participantType===i.specificPerson?e.emp?e.display=e.emp.fullName:e.employeeId.length?t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.display="loading participant...",t.next=4,n.get({id:e.employeeId,fields:"firstname,lastname"},"",!1);case 4:e.emp=t.sent,e.display=e.emp.fullName,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}))():e.display="select participant":e.display=i.byValue(e.participantType)})}var p=e.form,u=[];e.routeVm=e.$root.utils.findInParentScope("routeVm",e),e.formVm=e.$root.utils.findInParentScope("formVm",e);var d=e.vm={},m=e.go={matchByParticipant:function(e,t){return s.matchByParticipant(e,t)},adjustStepAccess:function(t,n){var r=s.matchByParticipant(n,e.step._stepParticipant);return"canView"!==t||n[t]?"canViewSensitive"!==t||n[t]?"canEdit"===t?void(n[t]?e.formVm.suppressEditAccessModal||r?n.canView=!0:m.showEditModal().then(function(){n[t]=n.canView=!0}).catch(function(e){n[t]=!1,n.canView=!!n.canView}):n.canEditSensitive=!1):void("canEditSensitive"===t&&(e.formVm.suppressEditAccessModal||r||n.canEdit?n.canEdit=n.canViewSensitive=!0:m.showEditModal().then(function(){n.canEdit=n.canViewSensitive=!0}).catch(function(e){n[t]=n.canEdit=!1,n.canViewSensitive=!!n.canViewSensitive}))):void(n.canEditSensitive=!1):(n.canEdit=!1,n.canViewSensitive=!1,void(n.canEditSensitive=!1))},showEditModal:function(){var t={title:"Edit Step Access",content:"This form participant will have the ability to modify this form step only after it has been submitted by the primary participant.",primaryText:"Ok",secondaryText:"cancel",showSuppress:!0,alwaysOnTop:!0};return o.showStandard(t).then(function(t){e.formVm.suppressEditAccessModal=t.suppressTheModal}).catch(function(t){throw e.formVm.suppressEditAccessModal=t.suppressTheModal,"cancel"})}};!function(){if(e.step._permissions&&e.step._permissions.length){u.forEach(function(e){return e()});for(var t=0;t<e.step._permissions.length;t++)u.push(e.$watchGroup(["step._permissions["+t+"].canView","step._permissions["+t+"].canEdit","step._permissions["+t+"].canViewSensitive","step._permissions["+t+"].canEditSensitive"],function(t,n){null!=t&&angular.equals(t,n)||(e.step._permissions=e.step._permissions.slice())}))}}(),e.$watchCollection("step.fieldGroups",function(e,t){d.hasSensitiveFields=l()}),e.$watch("formVm.saving",function(t,n){null==t||angular.equals(t,n)||!1===t&&!0===n&&c(e.step)}),e.$watch("form._steps.length",function(t,n){angular.equals(t,n)||t&&t<n&&(s.updatePermissions({steps:p._steps,currentStep:e.step}),c(e.step))}),e.$watch("step._stepParticipant",function(t,n){c(e.step),t._participantType&&t._participantType===n._participantType&&t.employeeIds[0]===n.employeeIds[0]||(s.updatePermissions({steps:p._steps,currentStep:e.step,newStepParticipant:t,oldStepParticipant:n}),c(e.step))},!0)}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesStepPermissions",function(){return new p(c,"properties-step-permissions")})},{"base-component":54}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",step:"="},p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi","ssValidateHlp","ssValidationHlp","ssToastHlp",function(e,t,n,r,i,o,s){function l(e){null!=e&&n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.get({id:e,fields:"firstName,lastName"},"",!1);case 3:n=t.sent,u.specificParticipant.push(n),c=angular.copy(n.id),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}))()}var c,p=e.step,u=e.vm={specificParticipant:[],stepActions:[],stepParticipant:t.stepParticipantType,validator:{required:o.required()}};u.stepActions=t.stepAction.getEnums().filter(function(e){return e.value!==t.stepAction.formCompleted&&e.value!==t.stepAction.employeeProfileReview});e.go={selectParticipant:function(e){u.buttonLabel=e.name,p._stepParticipant.participantType=e.value,p._stepParticipant.employeeIds=u.specificParticipant=[]}};!function(){null==p._stepParticipant.participantType?u.buttonLabel="Please Select":u.buttonLabel=t.stepParticipantType.byValue(p._stepParticipant.participantType),p._stepParticipant.employeeIds.length&&l(p._stepParticipant.employeeIds[0])}(),e.$on("$destroy",e.$watch("vm.specificParticipant",function(e,t){if(e.length){if(c&&e[0].id===c)return void(c=null);i.resetValidation(a),p._stepParticipant.employeeIds=u.specificParticipant.map(function(e){return e.id})}}))}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){a=angular.element(document.getElementById("step-participant-search"))})}}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesStep",function(){return new p(c,"properties-step")})},{"base-component":54}],38:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={text:"@"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={test:"testing..."};e.go={click:function(n){t.test=e.text}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesTextEditor",function(){return new c(l,"properties-text-editor")})},{"base-component":54}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",formfieldvalues:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","fieldRendererHlp",function(e,t){var n=e.field,r=e.formfieldvalues;t.bindConfigObject(e,"field._configJson","field.config"),e.$watch(t.getVisibility(n),function(e){return i.visibility=e});var i=e.vm={formfieldvalues:r};e.go={checkIfHeadingOrInstructions:function(e){switch(e._fieldType){case"readOnlyHeading":case"readOnlySubheading":case"instructions":return!1;default:return!0}}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpSecondaryAssignment",function(){return new c(l,"secondary-assignment")})},{"base-component":54}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",model:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){var n=e.field,r=e.vm={};n.step&&(r.formFieldValues=n.step.formFieldValues[n.id]?n.step.formFieldValues[n.id]:"");e.go={showGroupLabel:function(){return!n.step||r.formFieldValues.length}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpSecondaryAssignments",function(){return new c(l,"secondary-assignments")})},{"base-component":54}],41:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={step:"=",onLoad:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssEventSvc","fieldsHlp",function(e,t,n){e.routeVm=e.$root.utils.findInParentScope("routeVm",e);e.vm={},e.go={selectOption:function(e,n){t.emit("pvb.select-option",e,n)},isSelected:function(t,n){return e.routeVm.selectedBox.formFieldGuids[0]===t.id&&e.routeVm.selectedBox.matchValue===n},numerateLabel:function(e,t){var n="",r=t.filter(function(t){return e.resolvedLabel===t._label||e.resolvedLabel===t.config.uniqueLabel});return r.length>1&&(n=r.indexOf(e)>0?"("+(r.indexOf(e)+1)+")":n),n?e.resolvedLabel+" "+n:e.resolvedLabel},showGroup:function(e){return!e.fields.every(function(e){return 0===e._options.length})}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpStepCheckboxDisplay",function(){return new c(l,"step-checkbox-display")})},{"base-component":54}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={step:"=",onLoad:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssEventSvc","fieldsHlp",function(e,t,n){e.vm={test:"testing..."},e.go={selectOption:function(e,n){t.emit("pvb.select-option",e)},numerateLabel:function(e,t){var n="",r=t.filter(function(t){return e.resolvedLabel===t._label||e.resolvedLabel===t.config.uniqueLabel});return r.length>1&&(n=r.indexOf(e)>0?"("+(r.indexOf(e)+1)+")":n),n?e.resolvedLabel+" "+n:e.resolvedLabel}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpStepDateDisplay",function(){return new c(l,"step-date-display")})},{"base-component":54}],43:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={step:"=",stepIndex:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","ssModalSvc","ssEventSvc","enumStepParticipantType","fieldsHlp","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n,r,i,o,a,s){function l(e){e[0]._fieldGroup&&e[0]._fieldGroup.length&&(p.added[e[0]._fieldGroup]=!1)}var c=e.formVm=e.$root.utils.findInParentScope("formVm",e),p=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),u=c.formData,d=(e.step,null),m=e.vm={stepParticipant:o,participantLabel:""};e.featureFlags={isHRMSEnabled:!1},t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.resolveAll(e.featureFlags);case 2:case"end":return t.stop()}},t,this)}))(),e.$watch("stepIndex",function(e,t){m.stepIndex=parseInt(e,10)}),e.$watch("step._stepParticipant",function(e,r){e&&(e.participantType===o.specificPerson?e.employeeIds&&e.employeeIds.length&&t(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.get({id:e.employeeIds[0],fields:"firstName,lastName"});case 2:return r=t.sent,m.participantLabel=r._firstName+" "+r._lastName,t.abrupt("return");case 5:case"end":return t.stop()}},t,this)}))():e.participantType||0===e.participantType?m.participantLabel=m.stepParticipant.byValue(e.participantType):m.participantLabel="select participant")},!0);e.go={fieldGroupSettings:function(t,n){t.stopPropagation(),p.vm.selectedFormObject=n;var r=n[0].config||n[0]._configJson;e.$emit("component-properties",r.cmp,n)},dropFieldGroup:function(t,n,r,i,o){if("fieldGroup"===i)return r;var s;return s=a.getFields(r.fields,r.component),e.featureFlags.isHRMSEnabled&&(s=s.filter(function(e){var t=JSON.parse(e._configJson);return t.fields&&(t.fields=t.fields.filter(function(e){return!e._hideForHRMS}),e._configJson=JSON.stringify(t)),!e._hideForHRMS})),p.added[r.fields]=!r.allowMultiple,e.$emit("component-properties",r.component,s),p.vm.selectedFormObject=s,c.formData.$$forceChangedState("_ownerVersionNumber"),c.modelChanged(),s},movedFieldGroup:function(e,t,n){0===n.fieldGroups.length&&(e=0),d={index:e,step:n},d.step.fieldGroups[d.index]=t.filter(function(e){return!0}),n.fieldGroups.splice(e,1),c.formData.$$forceChangedState("_ownerVersionNumber"),c.modelChanged()},removeFieldGroup:function(e,t){l(e),t.fieldGroups.splice(t.fieldGroups.indexOf(e),1),c.updateFormFields(),i.emit("emp-record-commit",!1,e),c.modelChanged()},removeStep:function(t,n,o){t.stopPropagation();var a=void 0,s=void 0;if(e.step.fieldGroups.forEach(l),a=o.indexOf(p.vm.selectedFormObject)>n?o.indexOf(p.vm.selectedFormObject)-1:n-1<0?0:n-1,null==e.step.fieldGroups||0===e.step.fieldGroups.length)s=o.splice(n,1)[0],u._steps.splice(u._steps.indexOf(s),1),e.$emit("component-properties","cmp-properties-step",o[a]),p.vm.selectedFormObject=o[a];else{var d={title:"Remove Step",content:"Removing this step will also remove any fields that are assigned to it.",primaryText:"Remove Step",secondaryText:"Cancel",alwaysOnTop:!0};r.showDestructive(d).then(function(){s=o.splice(n,1)[0],u._steps.splice(u._steps.indexOf(s),1),e.$emit("component-properties","cmp-properties-step",o[a]),p.vm.selectedFormObject=o[a]})}e.step.fieldGroups.forEach(function(e){i.emit("emp-record-commit",!1,e)}),c.modelChanged()}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpStepRenderer",function(){return new c(l,"step-renderer")})},{"base-component":54}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={step:"=",onLoad:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssEventSvc","fieldsHlp",function(e,t,n){e.vm={},e.go={selectField:function(e){t.emit("pvb.select-field",e)},filterUnmappable:function(e){return null==e.config.mappable||!0===e.config.mappable},numerateLabel:function(e,t){var n="",r=t.filter(function(t){return e.resolvedLabel===t._label||e.resolvedLabel===t.config.uniqueLabel});return r.length>1&&(n=r.indexOf(e)>0?"("+(r.indexOf(e)+1)+")":n),n?e.resolvedLabel+" "+n:e.resolvedLabel}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpStepTextDisplay",function(){return new c(l,"step-text-display")})},{"base-component":54}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",group:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$filter","fieldsHlp","fieldRendererHlp",function(e,t,n,r){function i(t){var n=r.getTag(t),i=r.getProperties(t,a),o=r.getContent(t,{scope:e.$root});l.template="<"+n+i+">"+o+"</"+n+">"}var o=e.field,a=e.group,s=(e.routeVm=e.$root.utils.findInParentScope("routeVm",e),n.getValidator(e.field._fieldType));r.bindConfigObject(e,"field._configJson","field.config");var l=e.vm={template:"",style:{}};e.go={validate:function(e){if("function"==typeof s){var t=s.call(null,e);return t||!0}return!0}};o.config.width&&(l.style.width=o.config.width,e.$watch("field.config.width",function(e){return l.style.width=e})),o.ignoreValidations=!0,o.disabled=!0,e.$watch("field._fieldType",function(){return i(o)}),e.$watch("field._label",function(){return i(o)}),e.$watch(r.getVisibility(o),function(e){return l.visibility=e})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpTemplateFieldRenderer",function(){return new c(l,"template-field-renderer")})},{"base-component":54}],46:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={template:"=",org:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$state","$location","buildConfig","ssAsync","ssActiveUserSvc","ssModalSvc","ssFormTemplatesApi","ssStatusApi","enumFormTemplateStatus","enumFormAdministratorType","ssFormInstancesApi","ssArrayHlp","ssToastHlp","ssEventSvc","ssObjectHlp","ssSleepHlp",function(e,t,n,r,i,o,a,s,l,c,p,u,d,m,f,g,y){var b=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),h=r.sharedFormsOrg,v=g.glean(e,function(e){return e.$root.isPermitted.activeUser.idmAdministrator},!1),_={type:"FormTemplate",attributes:[{dueDateUtc:null,formTemplate:{formTemplateId:""},employee:{employeeId:""}}]},w=e.vm={pendingMessage:"",showShare:!1};e.go={delete:function(e){var t={title:"Delete Form Template",content:"Once deleted, this form template will be removed and cannot be retrieved.",primaryText:"Delete Template",secondaryText:"Cancel",alwaysOnTop:!0};a.showDestructive(t).then(function(){e.isPending=!0,w.pendingMessage='Deleting "'+e._name+'"',i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$remove();case 3:return t.next=5,y.sleep();case 5:return t.next=7,b.refreshData();case 7:m.success('"'+e._name+'" has been deleted',""),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.prev=12,e.isPending=!1,w.pendingMessage=null,t.finish(12);case 16:case"end":return t.stop()}},t,this,[[0,10,12,16]])}))()})},sendToSelf:i(regeneratorRuntime.mark(function e(n){var r,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.isPending=!0,w.pendingMessage='Initiating "'+n._name+'"',r=null,e.next=5,o.getIdentityByType("employee");case 5:if(i=e.sent,e.prev=6,n._formAdministrator.formAdministratorType!==p.formPacketSender){e.next=9;break}throw"An Employee-Initiated form cannot be started by an employee who is also assigned as the Form Administrator.";case 9:return a=angular.copy(_),a.attributes[0].formTemplate.formTemplateId=n.id,a.attributes[0].employee.employeeId=i,e.next=14,u.send(a,{isemployeeinitiated:!0});case 14:s=e.sent,i===s[0].currentStep._stepParticipant.employeeIds[0]?t.go("base.formInstance",{formInstanceId:s[0].id,returnUrl:"/ec-forms/my-forms?activeTab=current"}):m.success('"'+s[0].name+'" has been sent',"Form Sent",!1),n.isPending=!1,w.pendingMessage="",e.next=25;break;case 20:e.prev=20,e.t0=e.catch(6),m.error(e.t0,"Error",!1),n.isPending=!1,w.pendingMessage="";case 25:case"end":return e.stop()}},e,this,[[6,20]])})),send:function(e){t.go("base.send",{id:e.id,type:"FormTemplate"})},preview:function(e){t.go("base.formBuilder.preview",{formId:e.id,returnTo:"/ec-forms/form-templates"})},edit:function(e){if("active"===e.status){var n={title:"Edit Form Template",content:"Editing will deactivate and disable it from being sent until it has been reactivated. Prior recipients will not receive changes made.",primaryText:"Edit Template",secondaryText:"Cancel",alwaysOnTop:!0};a.showStandard(n).then(function(){e.isPending=!0,w.pendingMessage='Deactivating "'+e._name+'"',s.editActive(e).then(function(e){t.go("base.formBuilder.builder",{formId:e.id})}).catch(function(e){m.error("There was an error deactivating the form template","")})})}else t.go("base.formBuilder.builder",{formId:e.id})},copy:function(e){e.isPending=!0,w.pendingMessage="Copying "+e._name,i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.copy({id:e.id});case 3:return n=t.sent,t.next=6,y.sleep();case 6:return t.next=8,b.refreshData();case 8:d.findWhere(b.displayTemplates,{id:n.id}).isHighlighted=!0,m.success("",n._name+" created"),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:return t.prev=14,e.isPending=!1,w.pendingMessage=null,t.finish(14);case 18:case"end":return t.stop()}},t,this,[[0,12,14,18]])}))()},archive:function(e){var t={title:"Archive Form Template",content:e._name+" will not be deleted, but will be removed from this list.",primaryText:"Archive Template",secondaryText:"Cancel",alwaysOnTop:!0};a.showDestructive(t).then(function(){e.isPending=!0,w.pendingMessage='Archiving "'+e._name+'"',i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.update({id:e.id},{statusId:c.archived,from:(new Date).toISOString()});case 3:return t.next=5,y.sleep();case 5:return t.next=7,b.refreshData();case 7:m.success("",'"'+e._name+'" has been archived'),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.prev=12,e.isPending=!1,w.pendingMessage=null,t.finish(12);case 16:case"end":return t.stop()}},t,this,[[0,10,12,16]])}))()})},deactivate:function(e){var t={title:"Deactivate Form Template",content:"Deactivating this template will disable it from being sent.",primaryText:"Deactivate",secondaryText:"Cancel",alwaysOnTop:!0};a.showDestructive(t).then(function(){b.loading=!0,b.loadingMessage='Deactivating "'+e._name+'"',s.editActive(e).then(function(e){y.sleep().then(function(){b.refreshData().then(function(){b.loading=!1,b.loadingMessage=null}).catch(function(e){m.error("There was a problem fetching the form templates","")})})}).catch(function(t){m.error('There was a problem deactivating "'+e._name+'"',"")})})},canShare:function(t){return v&&"active"===t.status&&e.org.id===h},share:function(){w.showShare=!0}};f.on("fl-share-form-cancel",function(){w.showShare=!1},e)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpTemplateListForm",function(){return new c(l,"template-list-form")})},{"base-component":54}],47:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={template:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$state","$location","ssAsync","ssPacketsApi","ssModalSvc","ssFormTemplatesApi","ssToastHlp",function(e,t,n,r,i,o,a,s){var l=e.routeVm=e.$root.utils.findInParentScope("routeVm",e);e.go={send:function(e){t.go("base.send",{id:e.id,type:"Packet"})},toggleDetails:function(e){e.detailsOpen||e.contents||(e.loading=!0,r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.get({id:e.id});case 3:return e.contents=t.sent,n=e.contents._formTemplateIds,t.next=7,n.map(function(e){return a.get({include:"steps,statusHistory",id:e})});case 7:e.contents.forms=t.sent,e.contents.forms.forEach(l.extendCommonProps),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[0,11,13,16]])}))()),e.detailsOpen=!e.detailsOpen},editPacket:function(e){var t="/ec-forms/packet-builder/"+e.id+"/builder";n.url(t)},editForm:function(e){if("active"===e.status){var r={title:"Edit Form Template",content:"Editing will deactivate and disable it from being sent until it has been reactivated. Prior recipients will not receive changes made.",
primaryText:"Edit Template",secondaryText:"Cancel",alwaysOnTop:!0};o.showStandard(r).then(function(){e.isPending=!0,e.pendingMessage='Deactivating "'+e._name+'"',a.editActive(e).then(function(e){t.go("base.formBuilder.builder",{formId:e.id})}).catch(function(e){s.error("There was an error deactivating the form template","")})})}else{var i="/ec-forms/form-builder/"+e.id+"/builder";n.url(i)}},preview:function(e){t.go("base.formBuilder.preview",{formId:e.id,returnTo:t.current.name})}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpTemplateListPacket",function(){return new c(l,"template-list-packet")})},{"base-component":54}],48:[function(e,t,n){"use strict";function r(){return{contentCss:"/text-editor.styl",copyFormatting_allowedContexts:["text"],disallowedContent:"script",disableNativeTableHandles:!1,div_wrapTable:!0,extraPlugins:"autocomplete,textmatch,richcombo,placeholder,placeholder_select,sharedspace,justify,preview,autogrow,format",removeButtons:"Anchor,Source,SpecialChar,HorizontalRule,Maximize",removeDialogTabs:"link:advanced",toolbar:[{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",groups:["list","indent","align"],items:["NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},"/",{name:"others",items:["placeholder_select"]},{name:"links",items:["Link","Unlink"]},{name:"insert",groups:["insert"],items:["Table","HorizontalRule"]},{name:"styles",items:["Format","FontSize","TextColor"]}],startupFocus:"start",uiColor:"#e5e9ec"}}Object.defineProperty(n,"__esModule",{value:!0}),n.getConfig=r},{}],49:[function(e,t,n){"use strict";function r(){return[{title:"Prefix",value:"Employee.Title"},{title:"First Name",value:"Employee.FirstName"},{title:"Middle Name",value:"Employee.MiddleName"},{title:"Last Name",value:"Employee.LastName"},{title:"Suffix",value:"Employee.Suffix"},{title:"Other First Name",value:"Employee.AliasFirstName"},{title:"Other Middle Name",value:"Employee.AliasMiddleName"},{title:"Other Last Name",value:"Employee.AliasLastName"},{title:"Address Line 1",value:"Employee.Addresses.Primary.Street1"},{title:"Address Line 2",value:"Employee.Addresses.Primary.Street2"},{title:"City",value:"Employee.Addresses.Primary.City"},{title:"State",value:"Employee.Addresses.Primary.State"},{title:"Zip Code",value:"Employee.Addresses.Primary.Zip"},{title:"Work Phone Number",value:"Employee.PhoneNumbers.Work.Number"},{title:"Work Extension",value:"Employee.PhoneNumbers.Work.Extension"},{title:"Personal Phone Number",value:"Employee.PhoneNumbers.Personal.Number"},{title:"Other Phone Number",value:"Employee.PhoneNumbers.Other.Number"},{title:"Work Email Address",value:"Employee.Emails.Work.EmailAddress"},{title:"Personal Email Address",value:"Employee.Emails.Personal.EmailAddress"},{title:"Birth Date",value:"Employee.BirthDateUtc"},{title:"SSN",value:"Employee.SSN"},{title:"External ID",value:"Employee.ExternalId"},{title:"Marital Status",value:"Employee.MaritalStatus"},{title:"Gender",value:"Employee.Gender"},{title:"Ethnicity",value:"Employee.Ethnicity"},{title:"Race",value:"Employee.Race"},{title:"Hire Date",value:"Employee.HireDate"},{title:"Seniority Date",value:"Employee.SeniorityDate"},{title:"Tenure Date",value:"Employee.TenureDate"},{title:"Supervisor First Name",value:"Employee.Supervisor.FirstName"},{title:"Supervisor Middle Name",value:"Employee.Supervisor.MiddleName"},{title:"Supervisor Last Name",value:"Employee.Supervisor.LastName"},{title:"Supervisor Start Date",value:"Employee.Supervisor.StartDate"},{title:"Supervisor End Date",value:"Employee.Supervisor.EndDate"},{title:"Supervisor External ID",value:"Employee.Supervisor.ExternalId"},{title:"Primary Assignment - Start Date",value:"Employee.Assignments.Primary.StartDateTimeUTC"},{title:"Primary Assignment - End Date",value:"Employee.Assignments.Primary.EndDateTimeUTC"},{title:"Primary Assignment - Employment Group",value:"Employee.Assignments.Primary.JobType.EmploymentGroup.Name",hideForHrms:!0},{title:"Primary Assignment - Job Type",value:"Employee.Assignments.Primary.JobType.Name"},{title:"Primary Assignment - Position Name",value:"Employee.Assignments.Primary.Name"},{title:"Primary Assignment - Location",value:"Employee.Assignments.Primary.Location.Name"},{title:"Primary Assignment - Department",value:"Employee.Assignments.Primary.Department.Name"},{title:"Primary Assignment - External ID",value:"Employee.Assignments.Primary.ExternalId"},{title:"Primary Assignment - FTE",value:"Employee.Assignments.Primary.FTE",hideForHrms:!0},{title:"Primary Assignment - Hours Per Day",value:"Employee.Assignments.Primary.HoursPerDay",hideForHrms:!0},{title:"Primary Assignment - Days Per Year",value:"Employee.Assignments.Primary.WorkDays",hideForHrms:!0},{title:"Primary Assignment - Pay Schedule",value:"Employee.Assignments.Primary.PaySchedule.Name",hideForHrms:!0},{title:"Primary Assignment - Pay Lane",value:"Employee.Assignments.Primary.PayLane.Name",hideForHrms:!0},{title:"Primary Assignment - Pay Step",value:"Employee.Assignments.Primary.PayStep.Name",hideForHrms:!0},{title:"Primary Assignment - # Pays Per Year",value:"Employee.Assignments.Primary.PayPeriodsPerYear",hideForHrms:!0},{title:"Primary Assignment - Pay Per Period",value:"Employee.Assignments.Primary.PayPerPeriod",hideForHrms:!0},{title:"Primary Assignment - Salary",value:"Employee.Assignments.Primary.Salary",hideForHrms:!0},{title:"Primary Assignment - Sick Days Per Year",value:"Employee.Assignments.Primary.SickDaysPerSchoolYear",hideForHrms:!0},{title:"Primary Assignment - Personal Days Per Year",value:"Employee.Assignments.Primary.PersonalDaysPerSchoolYear",hideForHrms:!0},{title:"Primary Assignment - Vacation Days Per Year",value:"Employee.Assignments.Primary.VacationDaysPerSchoolYear",hideForHrms:!0},{title:"Primary Assignment - Paid Holidays Per Year",value:"Employee.Assignments.Primary.PaidHolidaysPerSchoolYear",hideForHrms:!0},{title:"Primary Assignment - Retirement System",value:"Employee.Assignments.Primary.RetirementSystem.Name",hideForHrms:!0},{title:"Emergency Contact - Name",value:"Employee.EmergencyContacts.Primary.ContactName"},{title:"Emergency Contact - Relationship",value:"Employee.EmergencyContacts.Primary.RelationshipType"},{title:"Emergency Contact - Phone",value:"Employee.EmergencyContacts.Primary.PrimaryPhone"},{title:"Emergency Contact - Alternate Phone",value:"Employee.EmergencyContacts.Primary.AlternatePhone"},{title:"Secondary Contact - Name",value:"Employee.EmergencyContacts.Secondary.ContactName"},{title:"Secondary Contact - Relationship",value:"Employee.EmergencyContacts.Secondary.RelationshipType"},{title:"Secondary Contact - Phone",value:"Employee.EmergencyContacts.Secondary.PrimaryPhone"},{title:"Secondary Contact - Alternate Phone",value:"Employee.EmergencyContacts.Secondary.AlternatePhone"}].map(function(e,t){var n=Object.assign(e,{id:t+1});return n.name=n.title.toLowerCase().replace("/s/g",""),n})}Object.defineProperty(n,"__esModule",{value:!0}),n.getPlaceholders=r},{}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={name:"placeholder_select",definition:{requires:["richcombo"],init:function(e){for(var t=[],n={format:"[[%placeholder%]]",placeholders:[]},r=CKEDITOR.tools.extend(n,e.config.placeholder_select||{},!0),i=0;i<r.placeholders.length;i++){var o=r.format.replace("%placeholder%",r.placeholders[i].value);t.push([o,r.placeholders[i].title])}e.ui.addRichCombo("placeholder_select",{label:"Insert placeholder",title:"Insert placeholder",voiceLabel:"Insert placeholder",className:"cke_format",multiSelect:!1,panel:{css:[e.config.contentsCss,CKEDITOR.skin.getPath("editor")],voiceLabel:e.lang.panelVoiceLabel},init:function(){this.startGroup("Insert placeholder");for(var e in t)this.add(t[e][0],t[e][1],t[e][1])},onClick:function(t){e.focus(),e.fire("saveSnapshot"),e.insertHtml(t),e.fire("saveSnapshot")}})}}};n.PLUGIN_DEF=r},{}],51:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,a){return new(function(l){function u(){return r(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return o(u,l),s(u,[{key:"controller",value:["$scope","$sce",function(t,n){function r(){var e=(0,p.getPlaceholders)();if(t.featureFlags.isHRMSEnabled){return e.filter(function(e){return!e.hideForHrms})}return e}t.vm={contentVal:t.field.step?t.field.step.formFieldValues[t.field.id]:t.field._label,editorId:function(){return"id-"+Math.random().toString(36).substr(2,16)}(),editorConfig:(0,c.getConfig)(),showPlaceholder:!1,hrmsEnabled:!1},t.go={onReady:function(){}};t.featureFlags={isHRMSEnabled:!1},t.SCE=n,t.editor=null,null==t.field._tokenFields&&(t.field._tokenFields=[]),d.test(e.path())||(t.field._active=!!t.field._label.length,t.field.$$resetChangesDetected()),a.resolveAll(t.featureFlags).then(function(){t.placeholderTokens=r()})}]},{key:"link",value:function(e,r,i,o){function a(){return CKEDITOR.currentInstance&&CKEDITOR.currentInstance.name===e.vm.editorId}function s(){Object.values(CKEDITOR.instances).forEach(function(e){e.destroy(),e=null})}function l(){function t(e){if(e){var t=e.data,n=parseFloat(t.value.replace(/[^\d.-]/g,"")),r=n>=100?"100%":n+"%",i=e.sender.getDialog().getContentElement("advanced","advStyles");i&&i.updateStyle("width",r),r!==e.sender.getValue()&&e.sender.setValue(r)}}function n(e){var n=e.data.name;if("table"===n||"tableProperties"===n){var r=e.data.definition.getContents("info"),i=r.get("txtWidth");i.default="100%",i.title="Enter a number for a value in percent (%).",i.onChange=t}}function r(){e.$apply(function(){o.$setViewValue(e.editor.getData());var t=o.$modelValue.match(w)||[];t.length!==i.length&&(c(t),i=t)})}arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s(),CKEDITOR.disableAutoInline=!0,e.editor=CKEDITOR.inline(f,Object.assign(e.vm.editorConfig,{sharedSpaces:{top:e.vm.editorId+"-top"},placeholder_select:{format:y+"%placeholder%"+b,placeholders:e.placeholderTokens},removePlugins:"floatingspace,maximize,resize"})),CKEDITOR.on("dialogDefinition",n),o){e.editor.on("instanceReady",function(t){e.editor.setData(o.$viewValue),m(t)});var i=o.$viewValue.toString().match(w)||[];e.editor.on("destroy",function(){var t=e.field._label.length?o.$viewValue:g;angular.element(f).html(e.SCE.trustAsHtml(t)),e.editor=null}),e.editor.on("change",r),o.$render=function(t){e.editor.setData(o.$viewValue)},e.editor.on("drop",function(e){})}}function c(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r=Array.isArray(r)?r:[];var i=t.unique(r).map(function(e){var t=e.replace(/\[\[|\]\]/g,""),r=n.allFields.find(function(e){return e._fieldDefId&&e._externalData&&e._externalData===t});n.updateFieldAttributes(r),n.updateFieldOptions(r),r.tokenField=!0,r.fieldGroup="tokenFields";var i={};return Object.keys(r).forEach(function(e){var t=e;e.startsWith("_")&&(t=e.substr(1),i[t]=r[e])}),i});e.field._tokenFields=i}function p(e){return e.collapsed?CKEDITOR.plugins.textMatch.match(e,u):null}function u(e,t){var n=/\[{2}([A-Za-z]\s*|\])*$/,r=e.slice(0,t).match(n);return r?{start:r.index,end:t}:null}function d(t,n){n(e.placeholderTokens.filter(function(e){var n=t.query.replace(/\[{2}/,""),r=""+n;return new RegExp(r,"gi").test(e.name)}))}function m(e){var t=y+"{value}"+b;new CKEDITOR.plugins.autocomplete(e.editor,{textTestCallback:p,dataCallback:d,itemTemplate:'<li data-id="{id}">{title}</li>',outputTemplate:t}).getHtmlToInsert=function(e){return this.outputTemplate.output(e)}}var f=void 0,g='<div class="no-content-placeholder"><h5>Text Editor</h5><p><b>Click here to add content</b></p>',y="[[",b="]]",h=/[\[\{\|]{2}/.test(y),v=/[\]\}\|]{2}/.test(b),_=y+"(.*?)"+b,w=new RegExp(function(e){if(h&&v)return e.replace(/[\[\]\{\}\|]/g,"\\$&");console.error('token delimiters must match approved format ("[[","]]","{{","}}","||")')}(_),"g");r.ready(function(){f=r[0].querySelector("[contenteditable]"),o=angular.element(f).controller("ngModel"),e.field.id?angular.element(f).html(e.SCE.trustAsHtml(e.vm.contentVal||g)):l()}),r.on("click",function(t){e.$apply(function(){e.field.step||a()||l()})}),e.$watch("model",function(t){angular.element(f).html(e.SCE.trustAsHtml(t))}),e.$on("$destroy",e.$root.$on("component-properties",function(e,t,n){t&&"cmp-properties-text-editor"!==t&&s()})),CKEDITOR.on("instanceReady",function(e){e.editor})}}]),u}(l.Component))(u,"text-editor")}a.$inject=["$location","ssArrayHlp","fieldsHlp","ssMultiInitiativeFeatureDetectorCCSvc"];var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c=e("./ckeditorConfig.js"),p=e("./placeholders.js"),u={field:"=",disabled:"=",model:"="},d=RegExp("/ec-forms/form-builder/[0-9A-Za-z-]+/builder");angular.module("ec-forms-components").directive("cmpTextEditor",a)},{"./ckeditorConfig.js":48,"./placeholders.js":49,"base-component":54}],52:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",sentBySort:"=",sortBy:"=",filterBy:"=?",category:"=",type:"@",endpoint:"&",location:"=",count:"=?",emplId:"=",employeePermissions:"=",templateFilterSelections:"=",templateFilterOptions:"="},p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","$location","ssAsync","ssEnum","ssFormInstancesApi","ssStorage","ssToastHlp","ssDateByOrgHlp","ssDateHlp","ssDueDateHlp","ssObjectHlp",function(e,t,n,i,o,a,s,l,c,p,u){function d(){null!=O.getFormCountsPromise&&(O.getFormCountsPromise.$abort(),O.getFormCountsPromise=null),O.getFormCountsPromise=n(regeneratorRuntime.mark(function t(){var n,r,i,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={from:O.dateSent.from.toISOString(),to:O.dateSent.to.toISOString()},r=a.load("trackFormsFilters"),k&&r&&(e.category=r[0].category,e.search=r[0].search,e.location=r[0].location,e.sentBySort=r[0].sentby,e.sortBy=r[0].sort,e.filterBy=r[0].filterBy),null!=e.search&&e.search.length>0&&(n["filter[search]"]=e.search),null!=e.location&&"-1"!==e.location&&(n["filter[locationIds]"]=e.location),"recentlysent"===e.sortBy?n["sort["+e.sortBy+"]"]="desc":n["sort["+e.sortBy+"]"]="asc",null!=e.sentBySort&&"0"!==e.sentBySort&&(delete n["filter[formadministrator]"],delete n["filter[creatorId]"],n["filter["+e.sentBySort+"]"]=e.emplId),null!=e.filterBy&&(n["filter[status]"]=e.filterBy),null!==m()&&(n.resolvemethod=m()),O.featureFlags.fc_enhanced_form_filtering&&null!=e.templateFilterSelections&&(i=P(),i.length>0&&!T()&&(n["filter[packetIds]"]=i.join(",")),l=S(),l.length>0&&!x()&&(n["filter[templateIds]"]=l.join(","))),t.next=13,o.getFormCounts(n);case 13:O.counts=t.sent,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),s.warn("There was a problem getting the total counts for each section. Try refreshing your browser.","Form Counts");case 19:return t.prev=19,O.getFormCountsPromise=null,t.finish(19);case 22:case"end":return t.stop()}},t,this,[[0,16,19,22]])}))()}function m(){var e=t.search().resolvemethod;return"ReadModel"===e||"Mongo"===e?e:null}function f(){E.loading=!0,null!=O.getFormsPromise&&(O.getFormsPromise.$abort(),O.getFormsPromise=null),O.getFormsPromise=n(regeneratorRuntime.mark(function t(){var n,i,o,l,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,A++,n=(A-1)*D,i=e.endpoint(),i.config.limit=D,i.config.offset=n,o=a.load("trackFormsFilters"),k&&o&&(e.category=o[0].category,e.search=o[0].search,e.location=o[0].location,e.sentBySort=o[0].sentby,e.sortBy=o[0].sort,e.filterBy=o[0].filterBy),null!=e.search&&e.search.length>0&&(i.config["filter[search]"]=e.search),null!=e.location&&"-1"!==e.location&&(i.config["filter[locationIds]"]=e.location),"recentlysent"===e.sortBy?i.config["sort["+e.sortBy+"]"]="desc":i.config["sort["+e.sortBy+"]"]="asc",null!=e.sentBySort&&"0"!==e.sentBySort&&(delete i.config["filter[formadministrator]"],delete i.config["filter[creatorId]"],i.config["filter["+e.sentBySort+"]"]=e.emplId),null!=e.filterBy&&(i.config["filter[status]"]=e.filterBy),O.featureFlags.fc_enhanced_form_filtering&&null!=e.templateFilterSelections&&(l=P(),l.length>0&&!T()&&(i.config["filter[packetIds]"]=l.join(",")),c=S(),c.length>0&&!x()&&(i.config["filter[templateIds]"]=c.join(","))),t.prev=14,t.next=17,i.api(i.config);case 17:p=t.sent,p&&(p.forEach(y),F=v(p),E.formsAndPackets=[].concat(r(E.formsAndPackets),r(F)),E.showInfScroll=p.length&&p.length<parseInt(p.$headers["total-results"],10)),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(14),t.t0;case 24:t.next=30;break;case 26:t.prev=26,t.t1=t.catch(0),E.showInfScroll=!1,s.error("There was an error retrieving Form Instances","");case 30:return t.prev=30,E.loading=!1,E.scrolling=!1,k=!1,O.getFormsPromise=null,t.finish(30);case 36:case"end":return t.stop()}},t,this,[[0,26,30,36],[14,21]])}))()}function g(e,t){a.save("trackFormsFilters",[{category:O.selectedCategory,sort:O.sortBy,filterBy:O.filterBy,search:O.search,sentby:O.sentByParticipant,location:O.sentToLocation}],{persistent:!0,expires:!1}),I.refreshData()}function y(e){e.isPacket=!1,e.primaryRecipient=e._employee,e.creatorId=e._creator.employeeId,e.isComplete=e._statusId===i.formStatus.complete||e._statusId===i.formStatus.completedAndDenied,e.isRejected=e._statusId===i.formStatus.rejected,e.dueDateStatus=p.dueStatus(e,O.org),e.totalSteps=e._steps.filter(function(e){return 3!==e._stepAction}).length,e.searchText=e.name+" "+e.primaryRecipient.name,e.sentDate=l.utcIsoToRelativeMoment(e._createdUtc,O.org).format("M/D/YY"),e._lastReminderSentUtc&&(e.reminderSentDate=l.utcIsoToRelativeMoment(e._lastReminderSentUtc,O.org).format("M/D/YY")),e.hasValidEnhancedDeniedInfo=u.glean(e,function(e){return e._deniedInfo.denier.name},!1)||u.glean(e,function(e){return e._deniedInfo.comments},!1),b(e),h(e)}function b(t){if(null!=t.currentStep&&(t.currentStepIndex=t._steps.indexOf(t.currentStep),t.prevStep=0===t.currentStepIndex?t._steps[0]:t._steps[t.currentStepIndex-1],t.prevStepNum=t._steps.indexOf(t.prevStep)+1,t.currentStepAction=i.stepAction.byValue(t.currentStep._stepAction)||"undefined",null!=t.currentStep._stepParticipant&&(t.isUser=e.emplId===t.currentStep._stepParticipant.employeeIds[0],t.currentStepParticipantName=t.currentStep._stepParticipant.name||"undefined",t.currentStepMeta=(t.currentStepAction||"N/A")+" | "+(t.currentStepParticipantName||"N/A"),!O.featureFlags.fc_enhanced_denied_form_workflow&&t.isRejected))){var n=void 0;t.currentStep._stepSubmissions.length?(n=t.currentStep._stepSubmissions.reduce(function(e,t){return t.submissionDateUtc>e.submissionDateUtc?t:e},{submissionDateUtc:c.foreverPast()}),t.currentStepMeta=n.firstName&&n.lastName?"Denied by: "+n.firstName+" "+n.lastName:"Denied"):t.currentStepMeta="Form Denied"}}function h(e){if(null!=e.currentStepIndex){var t=!1;e._steps.forEach(function(n){n.id===e._steps[e.currentStepIndex].id?(n.stepStatus=i.formStatus.byValue(e._statusId),t=!0):n.stepStatus=t?i.formStatus.byValue(0):i.formStatus.byValue(1),n.stepStatus=n.stepStatus.toLowerCase()})}}function v(t){var n=new Map;return t.map(function(t){var r;if(!t.isInPacket)return t;if(!n.has(t._packetInstance.instanceId)){var i=t._packetInstance.completeFormInstanceIds.length,o=t._packetInstance.incompleteFormInstanceIds.length,a={type:e.type,_employee:t._employee,name:t._packetInstance.name,isPacket:!0,primaryRecipient:t.primaryRecipient,creatorId:t.creatorId,searchText:t._packetInstance.name+" "+t.primaryRecipient.name,currentStepMeta:null,dueDateStatus:null,sentDate:t.sentDate,isRejected:!1,isComplete:0===o,content:[],completeCount:i,incompleteCount:o,totalFormsCount:i+o};a.packetCount=a.isComplete?"complete":a.completeCount+"/"+a.totalFormsCount+" forms complete",n.set(t._packetInstance.instanceId,a)}return r=n.get(t._packetInstance.instanceId),r.content.push(t),r.dueDateStatus=function(){var e=r.content.filter(function(e){return e.dueDateStatus&&"overdue"===e.dueDateStatus.class}),t=r.content.filter(function(e){return e.dueDateStatus&&"due-soon"===e.dueDateStatus.class});return e.length?{class:"overdue"}:t.length?{class:"due-soon"}:null}(),r.currentStepMeta=function(){var e=r.content.filter(function(e){return e.isRejected});return e.length?(r.isRejected=!0,1===e.length?"form denied by "+e[0].currentStepParticipantName:e.length>1?e.length+" forms denied":void 0):""}(),r.content.length>1?null:(r.countByType=function(e){return filter()},r)}).filter(function(e){return null!=e})}function _(e){return e.filter(function(e){return"Packet"===e._objectType}).map(function(e){return e.id})}function w(e){return e.filter(function(e){return"FormTemplate"===e._objectType}).map(function(e){return e._templateId})}function P(){return _(e.templateFilterSelections)}function S(){return w(e.templateFilterSelections)}function T(){var t=_(e.templateFilterOptions),n=P();return t.length===n.length&&t.every(function(e){return n.includes(e)})}function x(){var t=w(e.templateFilterOptions),n=S();return t.length===n.length&&t.every(function(e){return n.includes(e)})}var O=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),D=50,A=0,k=!0,F=[],E=e.vm={loading:!1,showInfScroll:!1,formsAndPackets:[]},I=e.go={refreshData:n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F=E.formsAndPackets=[],A=0,e.next=5,f();case 5:return e.next=7,d();case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,this,[[0,9]])}))};e.scrollData=function(){E.scrolling||(E.scrolling=!0,f())},e.$watchGroup(["sortBy","search","sentBySort","location","routeVm.dateSent","filterBy"],function(e,t){k||e===t||g()}),e.$watchCollection("templateFilterSelections",function(e,t){k||e===t||g()}),e.$watch("type",function(e,t){f(),d()})}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpTrackedFormGroup",function(){return new p(c,"tracked-form-group")})},{"base-component":54}],53:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",statusUpdated:"&?",type:"=",employeePermissions:"="},p=new Map,u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","$location","$window","filenameHlp","ssAsync","ssEnum","ssFormInstancesApi","ssEmployeeApi","ssFormTemplatesApi","ssToastHlp","ssModalSvc","ssObjectHlp",function(e,t,n,i,o,a,s,l,c,u,d,m){function f(e){var t=[],n=e._steps.filter(function(e){return v.test(e._formFieldValues)&&e._stepAction!==a.stepAction.formCompleted}).map(function(e){return e._formFieldValues});return n.length&&n.forEach(function(e){var n=JSON.parse(e);Object.keys(n).filter(function(e){return Array.isArray(n[e])}).filter(function(e){return n[e].every(function(e){return!!e.filename})}).forEach(function(e){var i;t=(i=t).concat.apply(i,r(g(n[e])))})}),t}function g(e){return e.map(function(e){var t=i.getExtension(e.filename),n=i.getIcon(t);return{id:e.id,filename:e.filename,ext:t,icon:n}})}function y(t){var n=[];return t.forEach(function(t){e.employeePermissions[t.properties.permission].view&&n.push(t)}),n}var b=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),h=e.form,v=/.*{"filename":.*/;e.ssEnum=a;var _=e.vm={loadingContact:!0,openDetails:!1,showContactToggle:!0};_.showContactToggle=function(t){return!!m.glean(e,function(e){return e.$root.isPermitted.activeUser.idmAdministrator},!1)||["emails","phoneNumbers"].map(function(e){return!!t._employee.meta&&t._employee.meta.permissions.permittedActualProperties[e]}).some(function(e){return 0!==e})}(e.form),e.$watch("form",function(e,t){e.isPacket?e.content.forEach(function(e){return e.filesOnInstance=f(e)}):e.filesOnInstance=f(e)});e.go={download:function(e){e.forEach(function(e){c.getFileUrl({id:e.id}).then(function(e){n.open(e._string,"_blank")})})},remove:function(t){var n=t.isInPacket?"Form in Packet":"Form",r={title:"Delete "+n,content:"Are you sure you want to delete this form? This form will be deleted and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};d.showDestructive(r).then(function(){o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$remove();case 3:u.success("Form removed successfully."),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),u.error('There was an error deleting "'+t.name+'"',"Error");case 9:return n.prev=9,e.statusUpdated(),n.finish(9);case 12:case"end":return n.stop()}},n,this,[[0,6,9,12]])}))()})},toggleContact:function(){o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,_.loadingContact=!0,p.has(h.primaryRecipient.employeeId)){e.next=9;break}return e.next=5,l.get({id:h.primaryRecipient.employeeId,include:"PhoneNumbers,Emails"});case 5:t=e.sent,p.set(h.primaryRecipient.employeeId,t),e.next=10;break;case 9:t=p.get(h.primaryRecipient.employeeId);case 10:_.empPhone=t.bestContactNumber&&t.bestContactNumber.formatted||"None",_.empEmail=t.bestContactEmail||"None",e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),u.error('There was an error retreiving employee information for "'+h.primaryRecipient.name+'"',"Error");case 17:return e.prev=17,_.loadingContact=!1,e.finish(17);case 20:case"end":return e.stop()}},e,this,[[0,14,17,20]])}))()},updateFormStatus:function(t,n){var r=a.formStatus[n.toLowerCase()],i=t.isInPacket?"Packet":"Form",l={title:"Archive "+i,content:"Are you sure you want to archive this "+i+"?",primaryText:"Archive",secondaryText:"Cancel"};d.showStandard(l).then(function(){o(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,s.updateStatus({id:t.id,newStatus:r});case 3:u.success(t.name+" has been marked as "+n,"Form Status Updated",!1),e.statusUpdated(),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),u.error("There was an error updating the status of "+t.name,"Error",!1);case 10:case"end":return i.stop()}},i,this,[[0,7]])}))()})},updateEmpRecord:function(t){var n={title:"<h2>Move to Employee Record</h2>",personnel:y(a.personnelCategory.enums),medical:y(a.medicalCategory.enums),webFormSubCategory:"0-8",content:'<p>Please select a location to move "'+t.name+'"<br/>to '+t.primaryRecipient.name+'\'s Employee Record</p>\n\t\t\t\t\t\t<super-select-list model="webFormSubCategory">\n\t\t\t\t\t\t\t<super-select-list-item type="heading" label="\'Personnel Documents\'"></super-select-list-item>\n\t\t\t\t\t\t\t<super-select-list-item ng-repeat="item in personnel" value="\'0-\' + item.value" label="item.name"></super-select-list-item>\n\t\t\t\t\t\t\t<super-select-list-item type="heading"  label="\'Medical Documents\'"></super-select-list-item>\n\t\t\t\t\t\t\t<super-select-list-item ng-repeat="item in medical" value="\'1-\' + item.value" label="item.name"></super-select-list-item>\n\t\t\t\t\t\t</super-select-list>',primaryText:"Continue",secondaryText:"Cancel"};d.showStandard(n).then(function(n){var r=n.webFormSubCategory.split("-")[0],i=n.webFormSubCategory.split("-")[1];o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.addFileToRecord({employeeId:t._employee.employeeId,formInstanceId:t.id,name:t.name,category:r,subCategory:i});case 3:e.statusUpdated(),u.success(t.name+" has been added to "+t._employee.name+"'s employee record","Form added to Employee Record ",!1),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),u.error(t.name+" was not added to "+t._employee.name+"'s employee record successfully","Add to Employee Record ",!1);case 10:case"end":return n.stop()}},n,this,[[0,7]])}))()})},updateWorkflowStep:function(t){var n={id:t.id,targetStep:t.prevStep._formTemplateStepId,params:{targetStatus:0}};s.updateCurrentStepId(n).then(function(n){if(null!=n){var r=t.prevStep._stepParticipant.name?"to "+t.prevStep._stepParticipant.name:"";u.success("Workflow step re-sent "+r,"Success!",!1),e.statusUpdated()}}).catch(function(e){u.error("There was an error resending the workflow step. Please try again.","Error")})},sendReminder:o(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{s.postReminder({id:n.id}).then(function(t){var r=n.currentStepParticipantName?"to "+n.currentStepParticipantName:"";null!=t&&(u.success(""+r,"Reminder Sent",!1),e.statusUpdated())})}catch(e){u.error("There was an error sending a reminder to "+participant,"Error")}case 1:case"end":return t.stop()}},t,this)})),resolveEmpRecordPath:function(){l.get({id:h.primaryRecipient.employeeId,include:"PhoneNumbers,Emails"}).then(function(e){if(b.featureFlags.isDataIntegrationsEnabled){if(!e._orgPersonId)return u.error("The user does not have a valid Org Person ID and therefore their employee record cannot be accessed"),"";t.path("/ec-directory/person-detail/"+e._orgPersonId+"/personal")}else t.path("/ec-employee/record/"+e.id+"/personal")}).catch(function(e){u.error("There was an error retriveing the employee")})},resolveFormIcon:function(){return h._isEmployeeInitiated?"li-form-e-large":"li-form-large"},displaySubmissionInfo:function(e){
if(0!==e._stepSubmissions.length&&e._stepSubmissions[0].employeeId!==e._stepParticipant.employeeIds[0])return" (submitted by "+e._stepSubmissions[0].firstName+" "+e._stepSubmissions[0].lastName+")"}}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpTrackedForm",function(){return new u(c,"tracked-form")})},{"base-component":54}],54:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Component=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.restrict="E",this.replace=!0,this.scope=t,this.templateUrl="components/cmp-"+n+"/"+n+".html",Object.assign(this,i)}},{}],55:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Segment=function e(t){r(this,e),this.restrict="E",this.scope=!0,this.replace=!0,this.templateUrl=function(e,n){return"routes"+n.folder+"/segment-"+t+"/"+t+".html"}}},{}],56:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.State=function e(t,n){r(this,e),Object.assign(this,t),this.resolve=this.resolve||{},this.resolve.routeVm=function(){return n},this.controller=function(e,t,n){e.routeVm=n},this.controller.$inject=["$scope","$window","routeVm"]}},{}],57:[function(e,t,n){"use strict";function r(e){e.load("employee-center")}r.$inject=["ssAppConfigSvc"],angular.module("ec-forms").run(r)},{}],58:[function(e,t,n){"use strict";function r(e){e.html5Mode(!0)}r.$inject=["$locationProvider"],angular.module("ec-forms").config(r)},{}],59:[function(e,t,n){"use strict";function r(e,t,n){var r=["5e989212-29f0-43e4-8d02-1a6a047b7e48","0977c048-185c-4eec-8800-74842a7fbb4f","f658f159-910a-485f-89b7-f20559222f73","14827dc2-9d54-400d-a556-47656bc72f83","e0ec2374-be6a-4d6f-9f12-5cbf58f5a5cc","4efae0cb-6d68-4eeb-8ce3-031b11678275","3a4799b5-168e-4f19-91a6-27299c543f69"];return{getTag:function(e){switch(e._fieldType){case"heading":return"h4";case"subheading":case"readOnlySubheading":return"h5";case"readOnlyHeading":return"h4";case"instructions":case"text":return"p";case"readOnlyText":case"readOnlyDate":return"dl";case"readOnlyCredentials":return"p";case"link":return"a";default:return e._fieldType}},getProperties:function(e,t){var n=[""];if(["heading","subheading","readOnlySubheading","readOnlyHeading","instructions","text","readOnlyText","readOnlyDate","readOnlyCredentials"].includes(e._fieldType))return"";if(e._fieldType.startsWith("cmp-")){if(n.push('field="field"'),"cmp-text-editor"===e._fieldType&&e.step){var r="field.step.formFieldValues['"+e.id+"']";n.push('model="'+r+'"')}return n.join(" ")}if(e._fieldType.startsWith("cmp-"))return n.push('field="field"'),n.join(" ");if("link"===e._fieldType)return n.push('class="file-link"'),n.push('ss-icon="chain"'),n.push("href=\"{{field.config.isValid ? field.config.location : ''}}\""),n.push("ng-class=\"{'is-valid': field.config.isValid}\""),n.push('target="_blank"'),n.join(" ");if(e._fieldType.startsWith("super-")){var i="field.step.formFieldValues['"+e.id+"']";n.push('label="{{field._label}}"'),n.push('required="field._required"'),n.push('org="org"'),null!=e.editMode&&n.push('edit-mode="field.editMode"'),e.isRedacted&&n.push('permissions="{ view: false, edit: field.editMode, redacted: true }"'),null!=e.disabled&&n.push('is-disabled="'+e.disabled+'"'),e._label&&null!=e._label||n.push('aria-label="{{field._placeholderLabel}} field"');if(["5e989212-29f0-43e4-8d02-1a6a047b7e48","0977c048-185c-4eec-8800-74842a7fbb4f","f658f159-910a-485f-89b7-f20559222f73","14827dc2-9d54-400d-a556-47656bc72f83","e0ec2374-be6a-4d6f-9f12-5cbf58f5a5cc","4efae0cb-6d68-4eeb-8ce3-031b11678275","3a4799b5-168e-4f19-91a6-27299c543f69"].includes(e._fieldDefId)&&n.push('mask="phone"'),"super-digital-signature"===e._fieldType&&(n.push('signatures="field.config.signatureIds"'),n.push('orientation="field.config.orientation"'),n.push('signature-display="field.config.signatureDisplay"'),n.push('mappable="field.config.mappable"'),i="field.step.formFieldValues['"+e.id+"'].config.signature",n.push('on-behalf="{{field.onBehalf}}"')),"super-input-radio"===e._fieldType){n.push('name="'+e.config.name+'"'),n.push('value="'+e._label+'"');for(var o=t.findIndex(function(t){return t===e}),a=e.config.name||"",s=e;o--;)"super-input-radio"===t[o]._fieldType&&t[o].config.name===a&&(s=t[o]);i="field.step.formFieldValues['"+s.id+"']"}if(!e.disabled){var l=e._required&&!e.disabled?"Required":"",c=e._label.replace(/'/g,"\\'").replace(/"/g,"&quot;");if(e._validator){(!e._validator.applyOnRequired||e._required&&e._validator.applyOnRequired)&&n.push('ss-validate="'+e.ignoreValidations+" || validator."+e._validator.type+l+"("+i+", '"+c+"')\"")}else e._required&&n.push('ss-validate="'+e.ignoreValidations+" || validator.required("+i+", '"+c+"')\"")}return n.push('model="'+i+'"'),n.join(" ")}},getVisibility:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":case"readOnlySubheading":case"subheading":case"instructions":return"!!field._label.length && field._active";case"readOnlyText":case"readOnlyDate":return"field._active";case"link":return"!!field._label.length && field._active";default:return"field._active"}},getContent:function(i){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(a.scope,"");switch(i._fieldType){case"heading":case"subheading":return"{{field._label}}";case"readOnlySubheading":case"readOnlyHeading":return"{{field._label}}&nbsp;<em>Read-only</em>";case"instructions":case"text":return"{{field._label}}";case"link":return"{{field.config.display}}";case"readOnlyText":if(i.step&&null!=i.step.formFieldValues[i.id])if(i._fieldTypeOptions&&"super-select-list"===i._fieldTypeOptions.edit){var l=void 0;l="07ebdcec-0ff6-46ad-92aa-121b8573b8a6"===i._fieldDefId?n.states.enums.find(function(e){return e.value===i.step.formFieldValues[i.id]}).name:i._options.find(function(e){return i._options.indexOf(e)===i.step.formFieldValues[i.id]}),o=null!=l?l:"--"}else o=r.includes(i._fieldDefId)?i.step.formFieldValues[i.id].replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):i.step.formFieldValues[i.id];else o="--";return i.isRedacted&&(s='aria-label="value is redacted"',o="******"),'<dt class="field-label">'+i._label+"</dt><dd "+s+">"+o+"</dd>";case"readOnlyDate":return o=i.step&&null!=i.step.formFieldValues[i.id]?e("date")(i.step.formFieldValues[i.id],"MM/dd/yyyy"):"--/--/--",i.isRedacted&&(s='aria-label="value is redacted"',o="******"),'<dt class="field-label">'+i._label+"</dt><dd "+s+">"+o+"</dd>";case"readOnlyCredentials":return null==i.config.readOnly||null!=i.config.populate&&!i.config.populate?"--":'<span ng-if="field.primaryParticipant == null">--</span><cmp-credentials-list ng-repeat="option in field.primaryParticipant.'+i.config.readOnly+'" model="option"></cmp-credentials-list>';case"super-select-list":if(i._options&&i._options.length){return["977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b"].includes(i._fieldDefId)&&i.step&&"string"==typeof i.step.formFieldValues[i.id]?"<"+i._fieldType+'-item ng-repeat="option in field._options track by $index" value="option" label="option"></'+i._fieldType+"-item>":i.step&&"07ebdcec-0ff6-46ad-92aa-121b8573b8a6"===i._fieldDefId?"<"+i._fieldType+'-item ng-repeat="option in field._options track by $index" value="field.optionValues[$index]" label="option"></'+i._fieldType+"-item>":"<"+i._fieldType+'-item ng-repeat="option in field._options track by $index" value="$index" label="option"></'+i._fieldType+"-item>"}return t.error('The options for the "'+i._label+'" menu could not be found.',"Error"),"<"+i._fieldType+'-item value="-1" label="\'--\'"></'+i._fieldType+"-item>";default:return""}},bindConfigObject:function(e,t,n){var r=e.$eval(t),i=n.split("."),o=i.pop(),a=i.join("."),s=a?e.$eval(a):e;s[o]="string"==typeof r?JSON.parse(r):r,e.$watch(t,function(e){JSON.stringify(s[o])!==e&&(s[o]="string"==typeof r?JSON.parse(e):e)}),e.$watch(n,function(n){e.$eval(t+" = jsonString",{jsonString:JSON.stringify(n)})},!0)}}}r.$inject=["$filter","ssToastHlp","ssEnum"],angular.module("ec-forms-helpers").factory("fieldRendererHlp",r)},{}],60:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){for(var t=[],n=0;n<=e._options.length;n++){if(void 0!==t[e._options[n]])return"Cannot have duplicate options.";t[e._options[n]]=1}return!0}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return!(e.config||JSON.parse(e._configJson)).mappable||null==t||-1===t||e._label.length<=t||"Anything greater than "+t+" character"+(1===t?"":"s")+" cannot be mapped."}function a(e,t){var n=[];Object.keys(c).forEach(function(e){n=[].concat(r(n),r(c[e]))});var i={allFields:n,getFieldById:function(e){return n.find(function(t){return e._fieldDefId===t._fieldDefId})},getFields:function(e,t){return c[e]?c[e].map(function(n,r,o){var a=i.mergeRecursive(angular.copy(l),n);e.startsWith("custom")||Object.assign(a,{_fieldGroup:e});var s=JSON.parse(a._configJson);return s.fields&&s.fields.forEach(function(e,t){s.fields[t]=i.mergeRecursive(angular.copy(l),e)}),s.cmp=t,a._configJson=JSON.stringify(s),i.updateFieldOptions(a),a}):(console.error('fields for the "'+e+'" field group could not be rendered.'),[])},updateFieldAttributes:function(e){var t=[],n=this.getFieldById(e);if(null!=n){var r=Object.assign({},l,n);!function e(n,r){var i=Object.keys(r);Object.keys(n).forEach(function(o){if("string"==typeof n[o]&&n[o].startsWith('{"')){var a=JSON.parse(n[o]),l=JSON.parse(r[o]);e(a,l),r[o]=JSON.stringify(l)}else n[o]&&n[o].length&&"object"===s(n[o])&&!Array.isArray(n[o])?e(n[o],r[o]):i.includes(o)||(r[o]=n[o],t.push(o))})}(r,e)}return t},updateFieldOptions:function(t){var n=JSON.parse(t._configJson),i=[];try{return null!=n.externalSource&&null!=e[n.externalSource]&&(t._options.length&&t._options.length===e[n.externalSource].enums.length||(t._options=e[n.externalSource].enums.map(function(e){return e.name}),i=[].concat(r(t._options)))),i}catch(e){console.log(e)}},addStepIdToField:function(e){e.forEach(function(e){e.fieldGroups&&e.fieldGroups.forEach(function(t){t.forEach(function(t){null==t._step&&(t._step={}),t._step.id=e.id})})})},updateActiveCredentialSelection:function(e,t){var n=e._externalData.split(".");n.length<4?(t&&n.push("Active"),e._externalData=n.join(".")):(t||n.pop(),e._externalData=n.join("."))},getValidator:function(e){return p[e]},mergeRecursive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("[object Object]"!==Object.prototype.toString.call(e)||"[object Object]"!==Object.prototype.toString.call(n))return void console.error("all arguments must be of type [object Object]");for(var o in n)try{n.hasOwnProperty(o)&&(t.isObject(n[o])&&t.isObject(e[o])?e[o]=i.mergeRecursive(e[o],n[o],r):e[o]&&Array.isArray(n[o])&&n[o].length&&n[o].every(t.isObject)?e[o]=n[o].map(function(t,n){return i.mergeRecursive(e[t][n],t,r)}):t.isObject(JSON.parse(n[o]))?e[o]=JSON.stringify(i.mergeRecursive(JSON.parse(e[o]),JSON.parse(n[o]),r)):(e[o]&&r||!e[o])&&(e[o]=n[o]))}catch(t){(e[o]&&r||!e[o])&&(e[o]=n[o])}return e}};return i}a.$inject=["ssEnum","ssObjectHlp"];var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={_active:!0,_configJson:'{"width": "100%", "mappable": true}',_externalData:"",_fieldDefId:null,_fieldGroup:null,_fieldType:"super-input-text",_label:"",_options:[],_permissions:[],_required:!1,_sampleData:null,_sensitive:!1,_step:{},_tokenFields:[],_updateEmployeeRecord:!1},c={credentials:[{_fieldDefId:"c9eefacc-9c52-4527-b942-eb870cedbf44",_label:"Certificate/License(s)",_fieldType:"cmp-credential-group",_externalData:"Employee.Credentials.CertificateLicense",_configJson:'{\n\t\t\t\t"mappable": false,\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"formFieldValueProperty": "CredentialType",\n\t\t\t\t\t\t"_label": "Certificate/License(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Certificate/License(s)",\n\t\t\t\t\t\t"_fieldType": "heading",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Name",\n\t\t\t\t\t\t"_label": "Credential Name",\n\t\t\t\t\t\t"_placeholderLabel":"Credential Name",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "Issuer",\n\t\t\t\t\t\t"_label":"Issuer",\n\t\t\t\t\t\t"_placeholderLabel":"Issuer",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "DocumentNumber",\n\t\t\t\t\t\t"_label":"Certification Number",\n\t\t\t\t\t\t"_placeholderLabel":"Certification Number",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "IsVerified",\n\t\t\t\t\t\t"_label":"Verified by Admin",\n\t\t\t\t\t\t"_placeholderLabel":"Verified by Admin",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "StateStartedDay",\n\t\t\t\t\t\t "_label":"Start Date",\n\t\t\t\t\t\t "_placeholderLabel":"Start Date",\n\t\t\t\t\t\t "_fieldType":"readOnlyDate",\n\t\t\t\t\t\t "_configJson":{"width": "50%", "mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "ExpirationDay",\n\t\t\t\t\t\t"_label":"Expiration Date",\n\t\t\t\t\t\t"_placeholderLabel":"Expiration Date",\n\t\t\t\t\t\t"_fieldType":"readOnlyDate",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "SubjectArea",\n\t\t\t\t\t\t"_label":"Subject Area(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Subject Area(s)",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'},{_fieldDefId:"4791944d-c33b-4cf7-9474-ca0d5d97a95f",_label:"Clearance(s)",_externalData:"Employee.Credentials.Clearance",_fieldType:"cmp-credential-group",_configJson:'{\n\t\t\t\t"mappable": false,\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"formFieldValueProperty": "CredentialType",\n\t\t\t\t\t\t"_label": "Clearance(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Clearance(s)",\n\t\t\t\t\t\t"_fieldType": "heading",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Name",\n\t\t\t\t\t\t"_label": "Credential Name",\n\t\t\t\t\t\t"_placeholderLabel":"Credential Name",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "Issuer",\n\t\t\t\t\t\t"_label":"Issuer",\n\t\t\t\t\t\t"_placeholderLabel":"Issuer",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "DocumentNumber",\n\t\t\t\t\t\t"_label":"Document Number",\n\t\t\t\t\t\t"_placeholderLabel":"Document Number",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "IsVerified",\n\t\t\t\t\t\t"_label":"Verified by Admin",\n\t\t\t\t\t\t"_placeholderLabel":"Verified by Admin",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "StateStartedDay",\n\t\t\t\t\t\t "_label":"Start Date",\n\t\t\t\t\t\t "_placeholderLabel":"Start Date",\n\t\t\t\t\t\t "_fieldType":"readOnlyDate",\n\t\t\t\t\t\t "_configJson":{"width": "50%", "mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "ExpirationDay",\n\t\t\t\t\t\t"_label":"Expiration Date",\n\t\t\t\t\t\t"_placeholderLabel":"Expiration Date",\n\t\t\t\t\t\t"_fieldType":"readOnlyDate",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "SubjectArea",\n\t\t\t\t\t\t"_label":"Subject Area(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Subject Area(s)",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'},{_fieldDefId:"51c4735e-07b7-492b-a181-1b4aef352578",_label:"Driver's License(s)",_fieldType:"cmp-credential-group",_externalData:"Employee.Credentials.DriversLicense",_configJson:'{\n\t\t\t\t"mappable": false,\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"formFieldValueProperty": "CredentialType",\n\t\t\t\t\t\t"_label": "Driver\'s License(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Driver\'s License(s)",\n\t\t\t\t\t\t"_fieldType": "heading",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Name",\n\t\t\t\t\t\t"_label": "Credential Name",\n\t\t\t\t\t\t"_placeholderLabel":"Credential Name",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "Issuer",\n\t\t\t\t\t\t"_label":"Issuer",\n\t\t\t\t\t\t"_placeholderLabel":"Issuer",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "DocumentNumber",\n\t\t\t\t\t\t"_label":"Driver License Number",\n\t\t\t\t\t\t"_placeholderLabel":"Driver License Number",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "IsVerified",\n\t\t\t\t\t\t"_label":"Verified by Admin",\n\t\t\t\t\t\t"_placeholderLabel":"Verified by Admin",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "StateStartedDay",\n\t\t\t\t\t\t "_label":"Start Date",\n\t\t\t\t\t\t "_placeholderLabel":"Start Date",\n\t\t\t\t\t\t "_fieldType":"readOnlyDate",\n\t\t\t\t\t\t "_configJson":{"width": "50%","mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "ExpirationDay",\n\t\t\t\t\t\t"_label":"Expiration Date",\n\t\t\t\t\t\t"_placeholderLabel":"Expiration Date",\n\t\t\t\t\t\t"_fieldType":"readOnlyDate",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "SubjectArea",\n\t\t\t\t\t\t"_label":"Subject Area(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Subject Area(s)",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'},{_fieldDefId:"0dd5a6bb-852f-459c-9668-227dd4f813bd",_label:"Other/Custom",_fieldType:"cmp-credential-group",_externalData:"Employee.Credentials.Custom",_configJson:'{\n\t\t\t\t"mappable": false,\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"formFieldValueProperty": "CredentialType",\n\t\t\t\t\t\t"_label": "Other/Custom",\n\t\t\t\t\t\t"_placeholderLabel":"Other/Custom",\n\t\t\t\t\t\t"_fieldType": "heading",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Name",\n\t\t\t\t\t\t"_label": "Credential Name",\n\t\t\t\t\t\t"_placeholderLabel":"Credential Name",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "Issuer",\n\t\t\t\t\t\t"_label":"Issuer",\n\t\t\t\t\t\t"_placeholderLabel":"Issuer",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "DocumentNumber",\n\t\t\t\t\t\t"_label":"Document Number",\n\t\t\t\t\t\t"_placeholderLabel":"Document Number",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "IsVerified",\n\t\t\t\t\t\t"_label":"Verified by Admin",\n\t\t\t\t\t\t"_placeholderLabel":"Verified by Admin",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "StateStartedDay",\n\t\t\t\t\t\t "_label":"Start Date",\n\t\t\t\t\t\t "_placeholderLabel":"Start Date",\n\t\t\t\t\t\t "_fieldType":"readOnlyDate",\n\t\t\t\t\t\t "_configJson":{"width": "50%","mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "ExpirationDay",\n\t\t\t\t\t\t"_label":"Expiration Date",\n\t\t\t\t\t\t"_placeholderLabel":"Expiration Date",\n\t\t\t\t\t\t"_fieldType":"readOnlyDate",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false}\n\t\t\t\t\t},{ \n\t\t\t\t\t\t"formFieldValueProperty": "SubjectArea",\n\t\t\t\t\t\t"_label":"Subject Area(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Subject Area(s)",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'}],legalName:[{_configJson:'{"mappable": false}',_label:"Legal Name",_placeholderLabel:"Legal Name",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"54c1e578-f3f5-4832-be7f-7e5abe48fb45",_label:"Title",_placeholderLabel:"Title",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "salutation", "readOnly":"_title"}',_externalData:"Employee.Title",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"b2d3891a-9b39-4ea7-b00f-597a355c2bda",_label:"First Name",_placeholderLabel:"First Name",_configJson:'{"width":"25%", "readOnly":"_firstName"}',_externalData:"Employee.FirstName",_sampleData:"John",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"72cdb2b4-6073-47fd-a4b3-70e1fffe5504",_label:"Middle Name",_placeholderLabel:"Middle Name",_configJson:'{"width":"20%", "readOnly":"_middleName"}',_externalData:"Employee.MiddleName",_sampleData:"Quincy",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"14259f84-46e7-4b73-9558-8a225171e7e1",_label:"Last Name",_placeholderLabel:"Last Name",_configJson:'{"width":"25%", "readOnly":"_lastName"}',_externalData:"Employee.LastName",_sampleData:"Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"f443473f-bf27-4421-96e3-78d2730b3fe9",_label:"Suffix",_placeholderLabel:"Suffix",_fieldType:"super-select-list",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "suffix", "readOnly":"_suffix"}',_externalData:"Employee.Suffix",_sampleData:2,_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}}],aliasName:[{_configJson:'{"mappable": false}',_label:"Other Name",_placeholderLabel:"Other Name",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"8f4a60cd-548e-419b-bfd4-fdf92c3fbe60",_label:"First Name",_placeholderLabel:"Other First Name",_configJson:'{"width":"33%", "readOnly":"_aliasFirstName", "uniqueLabel":"Other First Name"}',_externalData:"Employee.AliasFirstName",_sampleData:"John",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"37ef5ec9-6356-4d96-83c1-f184fcc93b08",_label:"Middle Name",_placeholderLabel:"Other Middle Name",_configJson:'{"width":"33%", "readOnly":"_aliasMiddleName", "uniqueLabel":"Other Middle Name"}',_externalData:"Employee.AliasMiddleName",_sampleData:"Quincy",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"fc7c530f-49e8-493a-ad8c-678675061cfc",_label:"Last Name",_placeholderLabel:"Other Last Name",_configJson:'{"width":"33%", "readOnly":"_aliasLastName", "uniqueLabel":"Other Last Name"}',_externalData:"Employee.AliasLastName",_sampleData:"Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],address:[{_configJson:'{"mappable": false}',_label:"Address",_placeholderLabel:"Address",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"4429b708-0db0-4d8d-af45-baeb4ca01245",_label:"Address 1",_placeholderLabel:"Address 1",_configJson:'{"readOnly":"address._street1", "uniqueLabel":"Address 1"}',_externalData:"Employee.Addresses.Primary.Street1",_sampleData:"123 Main St.",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"e4d6142e-8c45-4a81-8cf9-3740a6923382",_label:"Address 2",_placeholderLabel:"Address 2",_configJson:'{"readOnly":"address._street2", "uniqueLabel":"Address 2"}',_externalData:"Employee.Addresses.Primary.Street2",_sampleData:"Apt. 1",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"e5ecad6a-5193-48b2-be95-ebd7401a5cf5",_label:"City",_placeholderLabel:"City",_configJson:'{"readOnly":"address._city", "uniqueLabel":"City"}',_externalData:"Employee.Addresses.Primary.City",_sampleData:"Anytown",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"07ebdcec-0ff6-46ad-92aa-121b8573b8a6",_label:"State",_placeholderLabel:"State",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "states", "readOnly":"address._state", "uniqueLabel":"State"}',_externalData:"Employee.Addresses.Primary.State",_sampleData:"NY",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"4dc761df-2ce8-498d-bb7d-27606480627b",_label:"Zip Code",_placeholderLabel:"Zip Code",_configJson:'{"width":"50%", "readOnly":"address._zip", "uniqueLabel":"Zip Code"}',_externalData:"Employee.Addresses.Primary.Zip",_sampleData:"12345",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"zip",options:{}}}],contact:[{_configJson:'{"mappable": false}',_label:"Contact Information",_placeholderLabel:"Contact Information",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"5e989212-29f0-43e4-8d02-1a6a047b7e48",_label:"Work Phone",_placeholderLabel:"Work Phone",_configJson:'{"width":"50%", "readOnly":"phoneNumbers.work"}',_externalData:"Employee.PhoneNumbers.Work.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"5c34865e-9e5b-4ece-96ca-d412254506a0",_label:"Ext.",_placeholderLabel:"Work Phone Ext.",_configJson:'{"width":"50%","readOnly":"phoneNumbers.workExt", "uniqueLabel":"Work Phone Ext."}',_externalData:"Employee.PhoneNumbers.Work.Extension",_sampleData:"1234",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"numeric",options:{}}},{_fieldDefId:"0977c048-185c-4eec-8800-74842a7fbb4f",_label:"Personal Phone",_placeholderLabel:"Personal Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.personal"}',_externalData:"Employee.PhoneNumbers.Personal.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"7a2caf47-562c-4b28-90af-969357493586",_label:"Type",_placeholderLabel:"Personal Phone Type",_configJson:'{"width":"30%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.personalPhoneType", "uniqueLabel":"Personal Phone Type"}',_externalData:"Employee.PhoneNumbers.Personal.PhoneType",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"2cedb2be-12d9-4958-9247-d2e974a22bbc",_label:"Primary",_placeholderLabel:"Primary",_configJson:'{"width":"20%","readOnly":"phoneNumbers.personalIsPrimary", "uniqueLabel":"primary phone (personal)"}',_externalData:"Employee.PhoneNumbers.Personal.IsPrimary",_sampleData:!0,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_fieldDefId:"f658f159-910a-485f-89b7-f20559222f73",_label:"Other Phone",_placeholderLabel:"Other Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.other"}',_externalData:"Employee.PhoneNumbers.Other.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"9b7f605f-c5b4-46bd-8096-85acc8f358f6",_label:"Type",_placeholderLabel:"Other Phone Type",_configJson:'{"width":"25%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.otherPhoneType", "uniqueLabel":"Other Phone Type"}',_externalData:"Employee.PhoneNumbers.Other.PhoneType",_sampleData:2,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"9e32dbea-8575-478a-9b98-4f731d9c121d",_label:"Primary",_placeholderLabel:"Primary",_configJson:'{"width":"25%","readOnly":"phoneNumbers.otherIsPrimary", "uniqueLabel":"primary phone (other)"}',_externalData:"Employee.PhoneNumbers.Other.IsPrimary",_sampleData:!1,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_fieldDefId:"f513faf6-fb0d-43c3-851c-178121015d29",_label:"Work E-Mail",_placeholderLabel:"Work E-mail",_configJson:'{"width":"50%","readOnly":"emails.work"}',_externalData:"Employee.Emails.Work.EmailAddress",_sampleData:"work@email.com",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"email",options:{}}},{_fieldDefId:"6172d8d3-cf07-41cf-b77d-2c0cf2e7bfd8",_label:"Personal E-Mail",_placeholderLabel:"Personal E-mail",_configJson:'{"width":"50%","readOnly":"emails.personal"}',_externalData:"Employee.Emails.Personal.EmailAddress",_sampleData:"personal@email.com",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"email",options:{}}}],personal:[{_configJson:'{"mappable": false}',_label:"Personal",_placeholderLabel:"Personal",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"aa736224-2a09-490a-b069-7cc945a040ea",_label:"Birth Date",_placeholderLabel:"Birth Date",_configJson:'{"width":"33%","readOnly":"personalInfo.birthDate"}',_externalData:"Employee.BirthDateUtc",_sampleData:"01/01/0001",_fieldType:"super-iso-org-date",_fieldTypeOptions:{edit:"super-iso-org-date",view:"readOnlyDate"},_sensitive:!0},{_fieldDefId:"ba2d2021-59b6-45b9-9e4b-c501d064e012",_label:"SSN",_placeholderLabel:"SSN",_configJson:'{"width":"33%","readOnly":"personalInfo.ssn"}',_externalData:"Employee.SSN",_sampleData:"123-45-6789",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_sensitive:!0,_validator:{type:"ssn",options:{}}},{_fieldDefId:"4b232b2d-aa7a-4578-b620-cf241caee9ce",_label:"External ID",_placeholderLabel:"External ID",_configJson:'{"width":"33%","readOnly":"personalInfo.externalId"}',_externalData:"Employee.ExternalId",_sampleData:"12345",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"b78df686-cfbf-463f-919b-26acee984abc",_label:"Marital Status",_placeholderLabel:"Marital Status",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "maritalStatus","readOnly":"personalInfo.maritalStatus"}',_externalData:"Employee.MaritalStatus",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"3fe07f5a-f5b5-4c31-b975-b2d363b76240",_label:"Gender",_placeholderLabel:"Gender",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "gender","readOnly":"personalInfo.gender"}',_externalData:"Employee.Gender",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{
_fieldDefId:"c78acc62-5b6a-4401-a0fb-8c0cd8cd4ca1",_label:"Ethnicity",_placeholderLabel:"Ethnicity",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "ethnicity","readOnly":"personalInfo.ethnicity"}',_externalData:"Employee.Ethnicity",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"bd5cc16e-b1b5-4246-98da-8289bc24a451",_label:"Race",_placeholderLabel:"Race",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "race","readOnly":"personalInfo.race"}',_externalData:"Employee.Race",_sampleData:4,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}}],employment:[{_configJson:'{"mappable": false}',_label:"Employment",_placeholderLabel:"Employment",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"8d33bb12-8ab6-476a-b306-91e82cbe30f4",_label:"Hire Date",_placeholderLabel:"Hire Date",_configJson:'{"width":"33%", "readOnly":"_hireDate"}',_externalData:"Employee.HireDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"e45f9c7a-4621-4b88-ae21-e3abd33ab366",_label:"Seniority Date",_placeholderLabel:"Seniority Date",_configJson:'{"width":"33%", "readOnly":"_seniorityDate"}',_externalData:"Employee.SeniorityDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"7e784681-a31e-4af3-9756-cb2d5077ea3c",_label:"Tenure Date",_placeholderLabel:"Tenure Date",_configJson:'{"width":"33%", "readOnly":"_tenureDate"}',_externalData:"Employee.TenureDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate",_hideForHRMS:!0}],primaryAssignment:[{_configJson:'{"mappable": false}',_label:"Primary Assignment",_placeholderLabel:"Primary Assignment",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"5d3ebdb0-f907-4ec3-8886-f2bfe0ba66e9",_label:"Start Date",_placeholderLabel:"Start Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedStartDateUtc", "uniqueLabel": "Primary Asgmt. Start Date"}',_externalData:"Employee.Assignments.Primary.StartDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"76c6ac41-1b54-4f19-b768-4ecc8e71dce1",_label:"End Date",_placeholderLabel:"End Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedEndDateUtc", "uniqueLabel": "Primary Asgmt. End Date"}',_externalData:"Employee.Assignments.Primary.EndDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"1efc9ba2-4c12-4270-a353-4d828ac942de",_label:"Employment Group",_placeholderLabel:"Employment Group",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType.employmentGroup.name", "uniqueLabel":"Primary Asgmt. Employment Group"}',_externalData:"Employee.Assignments.Primary.JobType.EmploymentGroup.Name",_sampleData:"District Employees",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"1515243d-d6e3-4707-84f5-1ed380a2f2ce",_label:"Job Type",_placeholderLabel:"Job Type",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType._name", "uniqueLabel":"Primary Asgmt. Job Type"}',_externalData:"Employee.Assignments.Primary.JobType.Name",_sampleData:"Teacher",_fieldType:"readOnlyText"},{_fieldDefId:"fc5d9260-2fe8-438a-bdc8-2e7e2784db7d",_label:"Position Name",_placeholderLabel:"Position Name",_configJson:'{"readOnly":"primaryPosition.name", "uniqueLabel":"Primary Asgmt. Position"}',_externalData:"Employee.Assignments.Primary.Name",_sampleData:"First Grade",_fieldType:"readOnlyText"},{_fieldDefId:"1fd44d06-ddc0-48a8-89be-7373a3d724ca",_label:"Location",_placeholderLabel:"Location",_configJson:'{"width":"50%", "readOnly":"primaryPosition.location._name", "uniqueLabel":"Primary Asgmt. Location"}',_externalData:"Employee.Assignments.Primary.Location.Name",_sampleData:"ABC Elementary School",_fieldType:"readOnlyText"},{_fieldDefId:"9c165824-f3d9-428e-b28e-4750ac27c1df",_label:"Department",_placeholderLabel:"Department",_configJson:'{"width":"50%", "readOnly":"primaryPosition.department._name", "uniqueLabel":"Primary Asgmt. Dept."}',_externalData:"Employee.Assignments.Primary.Department.Name",_sampleData:"Elementary",_fieldType:"readOnlyText"},{_fieldDefId:"94088ca8-de8a-4bcd-b87b-81dd67803367",_label:"FTE",_placeholderLabel:"FTE",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._fTE != null) ? primaryAssignment.currentDetails._fTE : primaryPosition.jobType._currentJobTypeDetail.fte", "uniqueLabel":"Primary Asgmt. FTE"}',_externalData:"Employee.Assignments.Primary.FTE",_sampleData:"1",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"6cf4854a-9607-49e2-8b66-c550375bba10",_label:"Hours Per Day",_placeholderLabel:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._hoursPerDay != null) ? primaryAssignment.currentDetails._hoursPerDay : primaryPosition.jobType._currentJobTypeDetail.hoursPerDay", "uniqueLabel":"Primary Asgmt. Hours/Day"}',_externalData:"Employee.Assignments.Primary.HoursPerDay",_sampleData:"7.5",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"90adbdc6-f364-4a9e-b517-7fac47a74a22",_label:"Work Days Per Year",_placeholderLabel:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._workDaysPerYear != null) ? primaryAssignment.currentDetails._workDaysPerYear : primaryPosition.jobType._currentJobTypeDetail.workDaysPerYear", "uniqueLabel":"Primary Asgmt. Work Days/Year"}',_externalData:"Employee.Assignments.Primary.WorkDays",_sampleData:"180",_fieldType:"readOnlyText",_hideForHRMS:!0}],primaryAssignmentNew:[{_configJson:'{"header": "Primary Assignment", "mappable": false}',_label:"Primary Assignment",_placeholderLabel:"Primary Assignment",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"5d3ebdb0-f907-4ec3-8886-f2bfe0ba66e9",_label:"Start Date",_placeholderLabel:"Start Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedStartDateUtc", "header": "Primary Assignment", "uniqueLabel": "Primary Asgmt. Start Date"}',_externalData:"Employee.Assignments.Primary.StartDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"76c6ac41-1b54-4f19-b768-4ecc8e71dce1",_label:"End Date",_placeholderLabel:"End Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedEndDateUtc", "header": "Primary Assignment", "uniqueLabel": "Primary Asgmt. End Date"}',_externalData:"Employee.Assignments.Primary.EndDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"1efc9ba2-4c12-4270-a353-4d828ac942de",_label:"Employment Group",_placeholderLabel:"Employment Group",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType.employmentGroup.name", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Employment Group"}',_externalData:"Employee.Assignments.Primary.JobType.EmploymentGroup.Name",_sampleData:"District Employees",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"1515243d-d6e3-4707-84f5-1ed380a2f2ce",_label:"Job Type",_placeholderLabel:"Job Type",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType._name", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Job Type"}',_externalData:"Employee.Assignments.Primary.JobType.Name",_sampleData:"Teacher",_fieldType:"readOnlyText"},{_fieldDefId:"fc5d9260-2fe8-438a-bdc8-2e7e2784db7d",_label:"Position Name",_placeholderLabel:"Position Name",_configJson:'{"readOnly":"primaryPosition.name", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Position"}',_externalData:"Employee.Assignments.Primary.Name",_sampleData:"First Grade",_fieldType:"readOnlyText"},{_fieldDefId:"1fd44d06-ddc0-48a8-89be-7373a3d724ca",_label:"Location",_placeholderLabel:"Location",_configJson:'{"width":"50%", "readOnly":"primaryPosition.location._name", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Location"}',_externalData:"Employee.Assignments.Primary.Location.Name",_sampleData:"ABC Elementary School",_fieldType:"readOnlyText"},{_fieldDefId:"9c165824-f3d9-428e-b28e-4750ac27c1df",_label:"Department",_placeholderLabel:"Department",_configJson:'{"width":"50%", "readOnly":"primaryPosition.department._name", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Dept."}',_externalData:"Employee.Assignments.Primary.Department.Name",_sampleData:"Elementary",_fieldType:"readOnlyText"},{_fieldDefId:"cdcc0683-5468-4a6b-883f-170d41c4e519",_placeholderLabel:"External ID",_label:"External ID",_configJson:'{"width":"50%", "readOnly":"primaryPosition.externalId", "header":"Primary Assignment", "uniqueLabel":"Primary Asgmt. External ID"}',_externalData:"Employee.Assignments.Primary.ExternalId",_sampleData:"123ABC",_fieldType:"readOnlyText"},{_fieldDefId:"94088ca8-de8a-4bcd-b87b-81dd67803367",_label:"FTE",_placeholderLabel:"FTE",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._fTE != null) ? primaryAssignment.currentDetails._fTE : primaryPosition.jobType._currentJobTypeDetail.fte", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. FTE"}',_externalData:"Employee.Assignments.Primary.FTE",_sampleData:"1",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"6cf4854a-9607-49e2-8b66-c550375bba10",_label:"Hours Per Day",_placeholderLabel:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._hoursPerDay != null) ? primaryAssignment.currentDetails._hoursPerDay : primaryPosition.jobType._currentJobTypeDetail.hoursPerDay", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Hours/Day"}',_externalData:"Employee.Assignments.Primary.HoursPerDay",_sampleData:"7.5",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"90adbdc6-f364-4a9e-b517-7fac47a74a22",_label:"Work Days Per Year",_placeholderLabel:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._workDaysPerYear != null) ? primaryAssignment.currentDetails._workDaysPerYear : primaryPosition.jobType._currentJobTypeDetail.workDaysPerYear", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Work Days/Year"}',_externalData:"Employee.Assignments.Primary.WorkDays",_sampleData:"180",_fieldType:"readOnlyText",_hideForHRMS:!0},{_label:"Assignment Benefits",_placeholderLabel:"Assignment Benefits",_fieldType:"readOnlySubheading",_configJson:'{"header": "Assignment Benefits"}',_hideForHRMS:!0},{_fieldDefId:"d3a593b5-6941-48f5-a48f-f4bcc498ddce",_label:"Sick Days Per Year",_placeholderLabel:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._sickDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._sickDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear", "header": "Assignment Benefits", "uniqueLabel":"Primary Asgmt. Sick Days/Year"}',_externalData:"Employee.Assignments.Primary.SickDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText",_subHeader:"Assignment Benefits",_hideForHRMS:!0},{_fieldDefId:"e0a56083-d036-4c2c-a2f4-dcc63c7df27e",_label:"Pers. Days Per Year",_placeholderLabel:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._personalDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._personalDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear", "header": "Assignment Benefits", "uniqueLabel":"Primary Asgmt. Personal Days/Year"}',_externalData:"Employee.Assignments.Primary.PersonalDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText",_subHeader:"Assignment Benefits",_hideForHRMS:!0},{_fieldDefId:"19d93472-e7db-4773-bc0b-66a5c55d1e50",_label:"Vacation Per Year",_placeholderLabel:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._vacationDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear", "header": "Assignment Benefits", "uniqueLabel":"Primary Asgmt. Vacation Days/Year"}',_externalData:"Employee.Assignments.Primary.VacationDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText",_subHeader:"Assignment Benefits",_hideForHRMS:!0},{_fieldDefId:"53c091a6-a674-4394-9b16-f21e88cd1a64",_label:"Paid Holidays",_placeholderLabel:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(primaryAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? primaryAssignment.currentDetails._paidHolidaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear", "header": "Assignment Benefits", "uniqueLabel":"Primary Asgmt. Paid Holidays"}',_externalData:"Employee.Assignments.Primary.PaidHolidaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"3d6c25e0-0ce5-4ad6-8246-99826b12329e",_label:"Retirement System",_placeholderLabel:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name", "header": "Assignment Benefits", "uniqueLabel":"Primary Asgmt. Ret. System"}',_externalData:"Employee.Assignments.Primary.RetirementSystem.Name",_sampleData:"ABCD",_fieldType:"readOnlyText",_subHeader:"Assignment Benefits",_hideForHRMS:!0},{_label:"Assignment Compensation",_placeholderLabel:"Assignment Compensation",_fieldType:"readOnlySubheading",_configJson:'{"header": "Assignment Compensation"}',_hideForHRMS:!0},{_fieldDefId:"92478956-3e85-4677-b409-99018c27890c",_label:"Pay Schedule",_placeholderLabel:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"primaryPosition.jobType.paySchedule.name", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Pay Schedule"}',_externalData:"Employee.Assignments.Primary.PaySchedule.Name",_sampleData:"Teacher Pay Table",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"a721a2f1-fa2e-4a53-a556-23697f5fe1ce",_label:"Pay Lane",_placeholderLabel:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"payLane.name", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Pay Lane"}',_externalData:"Employee.Assignments.Primary.PayLane.Name",_sampleData:"1",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"65f587b9-5060-4d4f-a5c3-0c311cb27ad4",_label:"Pay Step",_placeholderLabel:"Pay Step",_configJson:'{"width":"33%", "readOnly":"payStep.name", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Pay Step"}',_externalData:"Employee.Assignments.Primary.PayStep.Name",_sampleData:"1",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"1b48e58c-4d3a-4041-88b3-75042184334a",_label:"Pay Per Year",_placeholderLabel:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._payPeriodsPerYear != null) ? primaryAssignment.currentDetails._payPeriodsPerYear : primaryPosition.jobType._currentJobTypeDetail.payPeriodsPerYear", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Pay/Year"}',_externalData:"Employee.Assignments.Primary.PayPeriodsPerYear",_sampleData:"24",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"ce98ea9c-5533-4acf-90f3-dbdc51cbef68",_label:"Pay Per Period",_placeholderLabel:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"payPerPeriod | currency", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Pay/Period"}',_externalData:"Employee.Assignments.Primary.PayPerPeriod",_sampleData:"$1000",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"19506ff5-6d04-48c9-9443-b380746b7e02",_label:"Salary",_placeholderLabel:"Salary",_configJson:'{"width":"33%", "readOnly":"salary | currency", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Salary"}',_externalData:"Employee.Assignments.Primary.Salary",_sampleData:"$24,000",_fieldType:"readOnlyText",_hideForHRMS:!0}],assignments:[{_fieldDefId:"54c1e578-f3f5-4832-be7f-7e5abe48fb45YYYY",_label:"Secondary Assignment(s)",_placeholderLabel:"Secondary Assignment(s)",_fieldType:"cmp-secondary-assignments",_externalData:"secondaryAssignments",_configJson:'{\n\t\t\t\t"mappable": false,\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"_fieldDefId": "5d3ebdb0-f907-4ec3-8886-f2bfe0ba6666",\n\t\t\t\t\t\t"_label": "Secondary Assignment",\n\t\t\t\t\t\t"_placeholderLabel": "Secondary Assignment",\n\t\t\t\t\t\t"_configJson": {"header": "Secondary Assignment", "mappable": false},\n\t\t\t\t\t\t"_fieldType": "readOnlyHeading"\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_configJson": {"mappable": false},\n\t\t\t\t\t\t"_fieldType": "instructions",\n\t\t\t\t\t\t"_label": ""\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "5d3ebdb0-f907-4ec3-8886-f2bfe0ba66e9",\n\t\t\t\t\t\t"_label": "Start Date",\n\t\t\t\t\t\t"_placeholderLabel": "Start Date",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryAssignment.formattedStartDateUtc","header":"Secondary Assignment","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "StartDateTimeUtc",\n\t\t\t\t\t\t"_sampleData": "01/01/0001",\n\t\t\t\t\t\t"_fieldType": "readOnlyDate"\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "76c6ac41-1b54-4f19-b768-4ecc8e71dce1",\n\t\t\t\t\t\t"_label": "End Date",\n\t\t\t\t\t\t"_placeholderLabel": "End Date",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryAssignment.formattedEndDateUtc","header":"Secondary Assignment", "mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "EndDateTimeUtc",\n\t\t\t\t\t\t"_sampleData": "01/01/0001",\n\t\t\t\t\t\t"_fieldType": "readOnlyDate"\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "fc5d9260-2fe8-438a-bdc8-2e7e2784db7d",\n\t\t\t\t\t\t"_label": "Employment Group",\n\t\t\t\t\t\t"_placeholderLabel": "Employment Group",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryPosition.name","header":"Secondary Assignment","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "EmploymentGroupName",\n\t\t\t\t\t\t"_sampleData": "First Grade",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {  \n\t\t\t\t\t\t"_fieldDefId": "1515243d-d6e3-4707-84f5-1ed380a2f2ce",\n\t\t\t\t\t\t"_label": "Job Type",\n\t\t\t\t\t\t"_placeholderLabel": "Job Type",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryPosition.jobType._name","header":"Secondary Assignment","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "JobTypeName",\n\t\t\t\t\t\t"_sampleData": "Teacher",\n\t\t\t\t\t\t"_fieldType": "readOnlyText"\n\t\t\t\t\t}, { \n\t\t\t\t\t\t"_fieldDefId": "fc5d9260-2fe8-438a-bdc8-2e7e2784db7d",\n\t\t\t\t\t\t"_label": "Position Name",\n\t\t\t\t\t\t"_placeholderLabel": "Position Name",\n\t\t\t\t\t\t"_configJson": {"readOnly":"secondaryPosition.name","header":"Secondary Assignment","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "PositionName",\n\t\t\t\t\t\t"_sampleData": "First Grade",\n\t\t\t\t\t\t"_fieldType": "readOnlyText"\n\t\t\t\t\t}, {  \n\t\t\t\t\t\t"_fieldDefId": "1fd44d06-ddc0-48a8-89be-7373a3d724ca",\n\t\t\t\t\t\t"_label": "Location",\n\t\t\t\t\t\t"_placeholderLabel": "Location",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryPosition.location._name","header":"Secondary Assignment","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "LocationName",\n\t\t\t\t\t\t"_sampleData": "ABC Elementary School",\n\t\t\t\t\t\t"_fieldType": "readOnlyText"\n\t\t\t\t\t}, {  \n\t\t\t\t\t\t"_fieldDefId": "9c165824-f3d9-428e-b28e-4750ac27c1df",\n\t\t\t\t\t\t"_label": "Department",\n\t\t\t\t\t\t"_placeholderLabel": "Department",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryPosition.department._name","header":"Secondary Assignment","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "DepartmentName",\n\t\t\t\t\t\t"_sampleData": "Elementary",\n\t\t\t\t\t\t"_fieldType": "readOnlyText"\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "577f1424-fa35-4eeb-a9ba-05a738ea1370",\n\t\t\t\t\t\t"_placeholderLabel": "External ID",\n\t\t\t\t\t\t"_label": "External ID",\n\t\t\t\t\t\t"_formFieldValueProperty": "ExternalId",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryAssignment.externalId", "header":"Secondary Assignment"},\n\t\t\t\t\t\t"_sampleData": "123ABC",\n\t\t\t\t\t\t"_fieldType": "readOnlyText"\n\t\t\t\t\t}, {  \n\t\t\t\t\t\t"_fieldDefId": "94088ca8-de8a-4bcd-b87b-81dd67803367",\n\t\t\t\t\t\t"_label": "FTE",\n\t\t\t\t\t\t"_placeholderLabel": "FTE",\n\t\t\t\t\t\t"_formFieldValueProperty": "Fte",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(secondaryAssignment.currentDetails._fTE != null) ? secondaryAssignment.currentDetails._fTE : secondaryPosition.jobType._currentJobTypeDetail.fte","header":"Secondary Assignment","mappable": false},\n\t\t\t\t\t\t"_sampleData": "1",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {  \n\t\t\t\t\t\t"_fieldDefId": "6cf4854a-9607-49e2-8b66-c550375bba10",\n\t\t\t\t\t\t"_label": "Hours Per Day",\n\t\t\t\t\t\t"_placeholderLabel": "Hours Per Day",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(secondaryAssignment.currentDetails._hoursPerDay != null) ? secondaryAssignment.currentDetails._hoursPerDay : secondaryPosition.jobType._currentJobTypeDetail.hoursPerDay", "header": "Secondary Assignment","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "HoursPerDay",\n\t\t\t\t\t\t"_sampleData": "7.5",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {  \n\t\t\t\t\t\t"_fieldDefId": "90adbdc6-f364-4a9e-b517-7fac47a74a22",\n\t\t\t\t\t\t"_label": "Work Days Per Year",\n\t\t\t\t\t\t"_placeholderLabel": "Work Days Per Year",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(secondaryAssignment.currentDetails._workDaysPerYear != null) ? secondaryAssignment.currentDetails._workDaysPerYear : secondaryPosition.jobType._currentJobTypeDetail.workDaysPerYear", "header": "Secondary Assignment","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "WorkDays",\n\t\t\t\t\t\t"_sampleData": "180",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_label": "Secondary Benefits",\n\t\t\t\t\t\t"_placeholderLabel": "Secondary Benefits",\n\t\t\t\t\t\t"_configJson": {"header": "Secondary Benefits","mappable": false},\n\t\t\t\t\t\t"_fieldType": "readOnlySubheading",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "9220e992-9832-405f-aae2-2e80419e6128",\n\t\t\t\t\t\t"_label": "Sick Days Per Year",\n\t\t\t\t\t\t"_placeholderLabel": "Sick Days Per Year",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear", "header": "Secondary Benefits","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "SickDaysPerSchoolYear",\n\t\t\t\t\t\t"_sampleData": "10",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "98fb9c91-ff03-4089-b028-844e407f39ec",\n\t\t\t\t\t\t"_label": "Pers. Days Per Year",\n\t\t\t\t\t\t"_placeholderLabel": "Pers. Days Per Year",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear", "header": "Secondary Benefits","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "PersonalDaysPerSchoolYear",\n\t\t\t\t\t\t"_sampleData": "10",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "9e674c8e-5347-42b5-8100-fad4edfbebc4",\n\t\t\t\t\t\t"_label": "Vacation Per Year",\n\t\t\t\t\t\t"_placeholderLabel": "Vacation Per Year",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear", "header": "Secondary Benefits","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "VacationDaysPerSchoolYear",\n\t\t\t\t\t\t"_sampleData": "10",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "cf9ce02d-f7b1-455d-85ed-614e361f112a",\n\t\t\t\t\t\t"_label": "Paid Holidays",\n\t\t\t\t\t\t"_placeholderLabel": "Paid Holidays",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"(earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear", "header": "Secondary Benefits","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "PaidHolidaysPerSchoolYear",\n\t\t\t\t\t\t"_sampleData": "10",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "91bef119-7b9e-4c3d-9e09-360f32ce78ba",\n\t\t\t\t\t\t"_label": "Retirement System",\n\t\t\t\t\t\t"_placeholderLabel": "Retirement System",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"retirementSystem.name", "header": "Secondary Benefits","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "RetirementSystemName",\n\t\t\t\t\t\t"_sampleData": "ABCD",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_label": "Secondary Compensation",\n\t\t\t\t\t\t"_placeholderLabel": "Secondary Compensation",\n\t\t\t\t\t\t"_configJson": {"header": "Secondary Compensation","mappable": false},\n\t\t\t\t\t\t"_fieldType": "readOnlySubheading",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "eec7acd5-4302-4b33-9014-364202832e3e",\n\t\t\t\t\t\t"_label": "Pay Schedule",\n\t\t\t\t\t\t"_placeholderLabel": "Pay Schedule",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"earliestOtherPosition.jobType.paySchedule.name", "header": "Secondary Compensation","mappable": false},\n\t\t\t\t\t\t"_sampleData": "Teacher Pay Table",\n\t\t\t\t\t\t"_formFieldValueProperty": "PayScheduleName",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "3211dabc-b9da-474a-89f6-de17d2446bbb",\n\t\t\t\t\t\t"_label": "Pay Lane",\n\t\t\t\t\t\t"_placeholderLabel": "Pay Lane",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"otherPayLane.name", "header": "Secondary Compensation","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "PayLaneName",\n\t\t\t\t\t\t"_sampleData": "1",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "8031280b-27cb-4d0d-bbc6-ac3832947685",\n\t\t\t\t\t\t"_label": "Pay Step",\n\t\t\t\t\t\t"_placeholderLabel": "Pay Step",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"otherPayStep.name", "header": "Secondary Compensation","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "PayStepName",\n\t\t\t\t\t\t"_sampleData": "1",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "be022480-b100-43ca-a47e-71be6b027e93",\n\t\t\t\t\t\t"_label": "Pay Per Year",\n\t\t\t\t\t\t"_placeholderLabel": "Pay Per Year",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._payPeriodsPerYear != null) ? earliestOtherAssignment.currentDetails._payPeriodsPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.payPeriodsPerYear", "header": "Secondary Compensation","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "PayPeriodsPerYear",\n\t\t\t\t\t\t"_sampleData": "24",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "adcd4aa2-58ed-4b5a-b8dc-31edfa043f58",\n\t\t\t\t\t\t"_label": "Pay Per Period",\n\t\t\t\t\t\t"_placeholderLabel": "Pay Per Period",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"otherPayPerPeriod | currency", "header": "Secondary Compensation","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "PayPerPeriod",\n\t\t\t\t\t\t"_sampleData": "$1000",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "7ad63aae-4ccd-4551-b038-ad250dd6ea68",\n\t\t\t\t\t\t"_label": "Salary",\n\t\t\t\t\t\t"_placeholderLabel": "Salary",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"otherSalary | currency", "header": "Secondary Compensation","mappable": false},\n\t\t\t\t\t\t"_formFieldValueProperty": "Salary",\n\t\t\t\t\t\t"_sampleData": "$24,000",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_hideForHRMS": true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'}],assignmentsTotalSalary:[{_configJson:'{"mappable": false}',_label:"Total Salary",_placeholderLabel:"Total Salary",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"87bbcb2a-2e5d-4c92-ae93-d4345b91f806",_label:"Total Salary",_placeholderLabel:"Total Salary",_fieldType:"readOnlyText",_externalData:"AssignmentsTotalSalary",_configJson:'{"width":"33%"}',_sampleData:"$24,000"}],assignmentCompensation:[{_configJson:'{"mappable": false}',_label:"Assignment Compensation",_placeholderLabel:"Assignment Compensation",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"92478956-3e85-4677-b409-99018c27890c",_label:"Pay Schedule",_placeholderLabel:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"primaryPosition.jobType.paySchedule.name", "uniqueLabel":"Primary Asgmt. Pay Schedule"}',_externalData:"Employee.Assignments.Primary.PaySchedule.Name",_sampleData:"Teacher Pay Table",_fieldType:"readOnlyText"},{_fieldDefId:"a721a2f1-fa2e-4a53-a556-23697f5fe1ce",_label:"Pay Lane",_placeholderLabel:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"payLane.name", "uniqueLabel":"Primary Asgmt. Pay Lane"}',_externalData:"Employee.Assignments.Primary.PayLane.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"65f587b9-5060-4d4f-a5c3-0c311cb27ad4",_label:"Pay Step",_placeholderLabel:"Pay Step",_configJson:'{"width":"33%", "readOnly":"payStep.name", "uniqueLabel":"Primary Asgmt. Pay Step"}',_externalData:"Employee.Assignments.Primary.PayStep.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"1b48e58c-4d3a-4041-88b3-75042184334a",_label:"Pay Per Year",_placeholderLabel:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._payPeriodsPerYear != null) ? primaryAssignment.currentDetails._payPeriodsPerYear : primaryPosition.jobType._currentJobTypeDetail.payPeriodsPerYear", "uniqueLabel":"Primary Asgmt. Pay/Year"}',_externalData:"Employee.Assignments.Primary.PayPeriodsPerYear",_sampleData:"24",_fieldType:"readOnlyText"},{_fieldDefId:"ce98ea9c-5533-4acf-90f3-dbdc51cbef68",_label:"Pay Per Period",_placeholderLabel:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"payPerPeriod | currency", "uniqueLabel":"Primary Asgmt. Pay/Period"}',_externalData:"Employee.Assignments.Primary.PayPerPeriod",_sampleData:"$1000",_fieldType:"readOnlyText"},{_fieldDefId:"19506ff5-6d04-48c9-9443-b380746b7e02",_label:"Salary",_placeholderLabel:"Salary",_configJson:'{"width":"33%", "readOnly":"salary | currency", "uniqueLabel":"Primary Asgmt. Salary"}',_externalData:"Employee.Assignments.Primary.Salary",_sampleData:"$24,000",_fieldType:"readOnlyText"}],assignmentBenefits:[{_configJson:'{"mappable": false}',_label:"Assignment Benefits",_placeholderLabel:"Assignment Benefits",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',
_fieldType:"instructions",_label:""},{_fieldDefId:"d3a593b5-6941-48f5-a48f-f4bcc498ddce",_label:"Sick Days Per Year",_placeholderLabel:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._sickDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._sickDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear", "uniqueLabel":"Primary Asgmt. Sick Days/Year"}',_externalData:"Employee.Assignments.Primary.SickDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"e0a56083-d036-4c2c-a2f4-dcc63c7df27e",_label:"Pers. Days Per Year",_placeholderLabel:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._personalDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._personalDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear", "uniqueLabel":"Primary Asgmt. Personal Days/Year"}',_externalData:"Employee.Assignments.Primary.PersonalDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"19d93472-e7db-4773-bc0b-66a5c55d1e50",_label:"Vacation Per Year",_placeholderLabel:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._vacationDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear", "uniqueLabel":"Primary Asgmt. Vacation Days/Year"}',_externalData:"Employee.Assignments.Primary.VacationDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"53c091a6-a674-4394-9b16-f21e88cd1a64",_label:"Paid Holidays",_placeholderLabel:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(primaryAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? primaryAssignment.currentDetails._paidHolidaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear", "uniqueLabel":"Primary Asgmt. Paid Holidays"}',_externalData:"Employee.Assignments.Primary.PaidHolidaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"3d6c25e0-0ce5-4ad6-8246-99826b12329e",_label:"Retirement System",_placeholderLabel:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name", "uniqueLabel":"Primary Asgmt. Ret. System"}',_externalData:"Employee.Assignments.Primary.RetirementSystem.Name",_sampleData:"ABCD",_fieldType:"readOnlyText"}],secondaryAssignment:[{_configJson:'{"mappable": false}',_label:"Secondary Assignment",_placeholderLabel:"Secondary Assignment",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"0aa59ea6-1e03-43ba-bb3d-a39d4f631966",_label:"Start Date",_placeholderLabel:"Start Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedStartDateUtc"}',_externalData:"Employee.Assignments.Secondary.StartDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"40e1f8df-0c3f-4025-90bc-dfd0925a8eec",_label:"End Date",_placeholderLabel:"End Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedEndDateUtc"}',_externalData:"Employee.Assignments.Secondary.EndDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"f0d303d6-1b9e-424f-8603-3232c60d50d5",_label:"Employment Group",_placeholderLabel:"Employment Group",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType.employmentGroup.name"}',_externalData:"Employee.Assignments.Secondary.JobType.EmploymentGroup.Name",_sampleData:"District Employees",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"d6c89711-c50b-4768-ae93-4718a9883b70",_label:"Job Type",_placeholderLabel:"Job Type",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType._name"}',_externalData:"Employee.Assignments.Secondary.JobType.Name",_sampleData:"Teacher",_fieldType:"readOnlyText"},{_fieldDefId:"9e1542bf-afc0-43c0-b5b4-5a475fdcafd4",_label:"Position Name",_placeholderLabel:"",_configJson:'{"readOnly":"earliestOtherPosition.name"}',_externalData:"Employee.Assignments.Secondary.Name",_sampleData:"First Grade",_fieldType:"readOnlyText"},{_fieldDefId:"06a1ab47-ce04-4e88-981b-eccd889b978f",_label:"Location",_placeholderLabel:"Location",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.location._name"}',_externalData:"Employee.Assignments.Secondary.Location.Name",_sampleData:"ABC Elementary School",_fieldType:"readOnlyText"},{_fieldDefId:"f3f05928-02f5-41d8-8867-3af413bd5e08",_label:"Department",_placeholderLabel:"Department",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.department._name"}',_externalData:"Employee.Assignments.Secondary.Department.Name",_sampleData:"Elementary",_fieldType:"readOnlyText"},{_fieldDefId:"cfb8a867-c1a0-4c19-a72e-03909d699294",_label:"FTE",_placeholderLabel:"FTE",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._fTE != null) ? earliestOtherAssignment.currentDetails._fTE : earliestOtherPosition.jobType._currentJobTypeDetail.fte"}',_externalData:"Employee.Assignments.Secondary.FTE",_sampleData:"1",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"362bfdf7-f861-49eb-a839-79aeebc703be",_label:"Hours Per Day",_placeholderLabel:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._hoursPerDay != null) ? earliestOtherAssignment.currentDetails._hoursPerDay : earliestOtherPosition.jobType._currentJobTypeDetail.hoursPerDay"}',_externalData:"Employee.Assignments.Secondary.HoursPerDay",_sampleData:"7.5",_fieldType:"readOnlyText",_hideForHRMS:!0},{_fieldDefId:"e4fcdc4b-2b30-4e81-a937-15f86951b88e",_label:"Work Days Per Year",_placeholderLabel:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._workDaysPerYear != null) ? earliestOtherAssignment.currentDetails._workDaysPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.workDaysPerYear"}',_externalData:"Employee.Assignments.Secondary.WorkDays",_sampleData:"180",_fieldType:"readOnlyText",_hideForHRMS:!0}],secondaryCompensation:[{_configJson:'{"mappable": false}',_label:"Secondary Compensation",_placeholderLabel:"Secondary Compensation",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"eec7acd5-4302-4b33-9014-364202832e3e",_label:"Pay Schedule",_placeholderLabel:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"earliestOtherPosition.jobType.paySchedule.name"}',_externalData:"Employee.Assignments.Secondary.PaySchedule.Name",_sampleData:"Teacher Pay Table",_fieldType:"readOnlyText"},{_fieldDefId:"3211dabc-b9da-474a-89f6-de17d2446bbb",_label:"Pay Lane",_placeholderLabel:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"otherPayLane.name"}',_externalData:"Employee.Assignments.Secondary.PayLane.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"8031280b-27cb-4d0d-bbc6-ac3832947685",_label:"Pay Step",_placeholderLabel:"Pay Step",_configJson:'{"width":"33%", "readOnly":"otherPayStep.name"}',_externalData:"Employee.Assignments.Secondary.PayStep.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"be022480-b100-43ca-a47e-71be6b027e93",_label:"Pay Per Year",_placeholderLabel:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._payPeriodsPerYear != null) ? earliestOtherAssignment.currentDetails._payPeriodsPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.payPeriodsPerYear"}',_externalData:"Employee.Assignments.Secondary.PayPeriodsPerYear",_sampleData:"24",_fieldType:"readOnlyText"},{_fieldDefId:"adcd4aa2-58ed-4b5a-b8dc-31edfa043f58",_label:"Pay Per Period",_placeholderLabel:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"otherPayPerPeriod | currency"}',_externalData:"Employee.Assignments.Secondary.PayPerPeriod",_sampleData:"$1000",_fieldType:"readOnlyText"},{_fieldDefId:"7ad63aae-4ccd-4551-b038-ad250dd6ea68",_label:"Salary",_placeholderLabel:"Salary",_configJson:'{"width":"33%", "readOnly":"otherSalary | currency"}',_externalData:"Employee.Assignments.Secondary.Salary",_sampleData:"$24,000",_fieldType:"readOnlyText"}],secondaryBenefits:[{_configJson:'{"mappable": false}',_label:"Secondary Benefits",_placeholderLabel:"Secondary Benefits",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"9220e992-9832-405f-aae2-2e80419e6128",_label:"Sick Days Per Year",_placeholderLabel:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.SickDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"98fb9c91-ff03-4089-b028-844e407f39ec",_label:"Pers. Days Per Year",_placeholderLabel:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.PersonalDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"9e674c8e-5347-42b5-8100-fad4edfbebc4",_label:"Vacation Per Year",_placeholderLabel:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.VacationDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"cf9ce02d-f7b1-455d-85ed-614e361f112a",_label:"Paid Holidays",_placeholderLabel:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.PaidHolidaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"91bef119-7b9e-4c3d-9e09-360f32ce78ba",_label:"Retirement System",_placeholderLabel:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name"}',_externalData:"Employee.Assignments.Secondary.RetirementSystem.Name",_sampleData:"ABCD",_fieldType:"readOnlyText"}],financial:[{_configJson:'{"mappable": false}',_label:"Financial Information",_placeholderLabel:"Financial Information",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"70593e5c-65cb-4f65-beab-7db5695715ea",_label:"Primary Account Type",_placeholderLabel:"Primary Account Type",_configJson:'{"colwidth": "50%", "selectType": "super-input-radio", "multiple": false, "uniqueLabel": "Primary Bank Account Type"}',_sampleData:"Checking Account",_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_fieldDefId:"9dddd926-ac0c-4114-9b16-a6f0986ba97c",_label:"Banking Name",_placeholderLabel:"Banking Name",_configJson:'{"width":"50%", "uniqueLabel":"Primary Bank Name"}',_sampleData:"ABC Bank",_fieldType:"super-input-text"},{_fieldDefId:"720a8295-b742-47f3-a25c-cf77e3eb8fe7",_label:"Routing/ABA Number",_placeholderLabel:"Routing/ABA Number",_configJson:'{"width":"50%","uniqueLabel":"Primary Bank Routing/ABA Number"}',_sampleData:"1234567",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"2b816a19-7aea-4bbf-a6d2-19c76f760643",_label:"Account Number",_placeholderLabel:"Account Number",_configJson:'{"width":"50%","uniqueLabel":"Primary Bank Account Number"}',_sampleData:"1234567890",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"717836a3-4af7-41bd-8687-b6909370ecff",_label:"Percentage of Pay Deposited",_placeholderLabel:"Percentage of Pay Deposited",_configJson:'{"width":"35%", "uniqueLabel": "% of pay deposited (primary)"}',_sampleData:"50",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"16cb9a79-3e07-42f7-a5e9-a7d144bfc1cd",_label:"Secondary Account Type",_placeholderLabel:"Secondary Account Type",_configJson:'{"colwidth": "50%", "selectType": "super-input-radio", "multiple": false, "uniqueLabel":"Secondary Bank Account Type"}',_sampleData:"Savings Account",_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_fieldDefId:"4d049d8c-bb64-463c-83c6-a86aa604c1ef",_label:"Banking Name",_placeholderLabel:"Banking Name",_configJson:'{"width":"50%", "uniqueLabel":"Secondary Bank Name"}',_sampleData:"ABC Bank",_fieldType:"super-input-text"},{_fieldDefId:"a5b2d3f6-ece4-46ca-b382-2323413400a2",_label:"Routing/ABA Number",_placeholderLabel:"Routing/ABA Number",_configJson:'{"width":"50%", "uniqueLabel": "Secondary Bank Routing/ABA Number"}',_sampleData:"1234567",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"dcb0744d-d0e3-4a63-8ca5-1f1b05c4292b",_label:"Account Number",_placeholderLabel:"Account Number",_configJson:'{"width":"50%", "uniqueLabel": "Secondary Bank Account Number"}',_sampleData:"1234567890",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"33c2e577-2958-444b-a612-58c29733df50",_label:"Percentage of Pay Deposited",_placeholderLabel:"Percentage of Pay Deposited",_configJson:'{"width":"35%", "uniqueLabel": "% of pay deposited (secondary)"}',_sampleData:"50",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}}],emergency:[{_configJson:'{"mappable": false}',_label:"Emergency Contacts",_placeholderLabel:"Emergency Contacts",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_configJson:'{"mappable": false}',_fieldType:"subheading",_label:"Primary"},{_fieldDefId:"99df0167-ecea-405f-8192-a657cf2d0841",_label:"Name",_placeholderLabel:"Primary Contact Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactName", "uniqueLabel": "Primary Contact Name"}',_externalData:"Employee.EmergencyContacts.Primary.ContactName",_sampleData:"Jane Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"3ee27e1a-780f-4dd1-87b8-688ef3f9a4fd",_label:"Relationship",_placeholderLabel:"Primary Contact Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.primaryContactRelationship", "uniqueLabel": "Primary Contact Relationship"}',_externalData:"Employee.EmergencyContacts.Primary.RelationshipType",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"4efae0cb-6d68-4eeb-8ce3-031b11678275",_label:"Personal Phone",_placeholderLabel:"Primary Contact Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactPhone", "uniqueLabel": "Primary Contact Personal Phone"}',_externalData:"Employee.EmergencyContacts.Primary.PrimaryPhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"e0ec2374-be6a-4d6f-9f12-5cbf58f5a5cc",_label:"Work Phone",_placeholderLabel:"Primary Contact Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactAltPhone", "uniqueLabel": "Primary Contact Work Phone"}',_externalData:"Employee.EmergencyContacts.Primary.AlternatePhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_configJson:'{"mappable": false}',_fieldType:"subheading",_label:"Secondary"},{_fieldDefId:"a924fcee-27f1-4e17-811d-45b3e11342da",_label:"Name",_placeholderLabel:"Secondary Contact Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactName", "uniqueLabel": "Secondary Contact Name"}',_externalData:"Employee.EmergencyContacts.Secondary.ContactName",_sampleData:"Jane Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"007139ff-0690-4ae4-a8e0-4494ecaaf357",_label:"Relationship",_placeholderLabel:"Secondary Contact Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.secondaryContactRelationship", "uniqueLabel": "Secondary Contact Relationship"}',_externalData:"Employee.EmergencyContacts.Secondary.RelationshipType",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"14827dc2-9d54-400d-a556-47656bc72f83",_label:"Personal Phone",_placeholderLabel:"Secondary Contact Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactPhone", "uniqueLabel": "Secondary Contact Personal Phone"}',_externalData:"Employee.EmergencyContacts.Secondary.PrimaryPhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"3a4799b5-168e-4f19-91a6-27299c543f69",_label:"Work Phone",_placeholderLabel:"Secondary Contact Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactAltPhone", "uniqueLabel": "Secondary Contact Work Phone"}',_externalData:"Employee.EmergencyContacts.Secondary.AlternatePhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}}],supervisor:[{_fieldDefId:"64936edc-60dd-445b-98ca-f8594d237037",_label:"Supervisor First Name",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.FirstName",_placeholderLabel:"Supervisor First Name",_sampleData:"John",_fieldType:"readOnlyText"},{_fieldDefId:"3afed5f1-7674-4804-93a3-a795f6e6d277",_label:"Supervisor Middle Name",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.MiddleName",_placeholderLabel:"Supervisor Middle Name",_sampleData:"Quincy",_fieldType:"readOnlyText"},{_fieldDefId:"f1015b7a-b378-47bd-bf95-c52ca7e87b3d",_label:"Supervisor Last Name",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.LastName",_placeholderLabel:"Supervisor Last Name",_sampleData:"Smith",_fieldType:"readOnlyText"},{_fieldDefId:"3d94b406-d34d-4389-a7d5-7f99cecd4047",_label:"Supervisor Start Date",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.StartDate",_placeholderLabel:"Supervisor Start Date",_sampleData:"01/01/2000",_fieldType:"readOnlyDate"},{_fieldDefId:"1a2b2cfe-f5e5-4c17-9fc1-8f0f78fd1733",_label:"Supervisor End Date",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.EndDate",_placeholderLabel:"Supervisor End Date",_sampleData:"01/01/2000",_fieldType:"readOnlyDate"},{_fieldDefId:"d0fb725e-aa59-4e68-9544-c651cfc31eb0",_label:"Supervisor External ID",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.ExternalId",_placeholderLabel:"Supervisor External ID",_sampleData:"12345",_fieldType:"readOnlyText"}],custom_input:[{_fieldDefId:"951626b1-a422-46b4-9fa1-3b5acf7ee8fc",_label:"",_configJson:'{"width": "50%", "uniqueLabel": "input"}',_fieldType:"super-input-text"}],custom_dropdown:[{_fieldDefId:"977a2273-62c1-4eef-8d63-91f9d8d1e0bf",_label:"Dropdown",_placeholderLabel:"Dropdown",_configJson:'{"width":"50%", "uniqueLabel": "dropdown"}',_fieldType:"super-select-list",_options:["Option 1","Option 2","Option 3"]}],custom_selectGroup:[{_fieldDefId:"10a88a23-f8f3-48eb-aa48-c466db06378b",_label:"Multiple Choice",_placeholderLabel:"Multiple Choice",_configJson:'{"colwidth": "25%", "selectType": "super-input-checkbox", "multiple": true, "uniqueLabel": "multiple choice"}',_fieldType:"cmp-checkbox-group",_options:["Option 1","Option 2","Option 3","Option 4"]}],custom_signature:[{_fieldDefId:"17ff0b2c-4973-4181-92ce-b1c50c851165",_label:"Please Sign",_placeholderLabel:"Please Sign",_configJson:'{"uniqueLabel": "signature"}',_fieldType:"super-digital-signature",_required:!0,_validator:{type:"digitalSignature",options:{},applyOnRequired:!0}}],custom_signatures:[{_fieldDefId:"17ff0b2c-4973-4181-92ce-b1c50c851166",_label:"Please Sign",_placeholderLabel:"Please Sign",_configJson:'{"uniqueLabel": "signature", "signatureDisplay": "step-participant", "signatureIds": [], "orientation": "h" }',_fieldType:"super-digital-signature",_required:!0,_validator:{type:"digitalSignature",options:{},applyOnRequired:!1}}],custom_date:[{_fieldDefId:"c2e31de2-09e8-4563-acb1-0e190a8e3b11",_label:"Date",_placeholderLabel:"Date",_configJson:'{"width":"25%", "uniqueLabel": "date"}',_fieldType:"super-iso-org-date"}],custom_fileUpload:[{_fieldDefId:"5299a28c-56d5-4dc3-81ae-6f9f741eb324",_label:"Instructions for uploading files...",_placeholderLabel:"Instructions for uploading files...",_configJson:'{"uniqueLabel": "file upload"}',_documentCategory:0,_documentSubCategory:8,_fieldType:"super-file-upload",_validator:{type:"fileUpload",options:{},applyOnRequired:!0}}],custom_fileLink:[{_fieldDefId:"e215f04f-037a-479e-b5da-9bb3155b55d5",_label:"Link",_placeholderLabel:"Link",_configJson:'{"isValid": false, "location": "", "name":"", "display": "Link will display here", "uniqueLabel":"File Link" }',_fieldType:"link"}],custom_sectionHead:[{_fieldDefId:"9eabf24b-ae80-4488-a164-2a6f78a50cbd",_label:"Section Heading",_placeholderLabel:"Section Heading",_configJson:'{"uniqueLabel":"Section Head"}',_fieldType:"heading"}],custom_text:[{_fieldDefId:"b6390770-0590-418c-b516-2080b243e9b7",_configJson:'{"mappable": false, "uniqueLabel": "text"}',_fieldType:"text",_label:""}],custom_textEditor:[{_configJson:'{"mappable": false}',_fieldDefId:"62b743aa-c127-40cb-9574-1f2810a201c6",_fieldType:"cmp-text-editor",_fieldTypeOptions:{edit:"cmp-text-editor",view:"readOnlyText"},_label:"",_tokenFields:[]}],custom_range:[{_fieldDefId:"2056c221-97c8-4994-962c-f4bfc319a9e4",_label:"Range",_placeholderLabel:"Range",_fieldType:"super-select-text",from:0,to:100}]},p={"cmp-checkbox-group":function(e){return i(e)},"super-select-list":function(e){return i(e)},text:function(e){return o(e)}};angular.module("ec-forms-helpers").factory("fieldsHlp",a)},{}],61:[function(e,t,n){"use strict";function r(e,t,n){var r={participantType:null,employeeId:"",canEdit:!1,canView:!0,canViewSensitive:!1,canEditSensitive:!1},i={initSaveInterrupter:function(e){t.clear(),e._steps.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),t.register(e._steps),e._formFields&&(e._formFields.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),t.register(e._formFields)),e.$$resetChangesDetected(),t.register(e)},makeStep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={_name:"",_fieldOrder:"",fieldGroups:[],_stepAction:null,_stepParticipant:{participantType:null,employeeIds:[]},_stepEvents:[{eventType:e.stepEventType.onSubmit,eventActions:[]}],_permissions:[]};return Object.assign({},n,t)},updateStepOrder:function(t,n){var r=void 0,i=void 0;return n||(n=t._steps.filter(function(t){return t._stepAction!==e.stepAction.formCompleted&&t._stepAction!==e.stepAction.employeeProfileReview})),i=t._steps.find(function(t){return t._stepAction===e.stepAction.formCompleted}),r=t._steps.find(function(t){return t._stepAction===e.stepAction.employeeProfileReview}),r?n.map(function(e){return e.id}).join(",")+","+r.id+","+i.id:n.map(function(e){return e.id}).join(",")+","+i.id},updateFieldOrder:function(e){e.forEach(function(e){if(e.fieldGroups){var t=e.fieldGroups.map(function(e){return e.map(function(e){return e.id}).join(",")}).join(",");e._fieldOrder.trim()!==t.trim()&&(e._fieldOrder=t)}})},sortByOrderField:function(e,t){if(null!=t&&null!=e){for(var n=t.split(","),r={},i=e.length;i--;){var o=e.pop();r[o.id]=o}return n.forEach(function(t){t in r&&(e.push(r[t]),delete r[t])}),Object.keys(r).forEach(function(t){null!=r[t]&&e.push(r[t])}),e}},buildParticipantList:function(t){var n=[];return t.forEach(function(t){if(t._stepAction!==e.stepAction.formCompleted&&null!=t._stepParticipant.participantType&&(t._stepParticipant.participantType!==e.stepParticipantType.specificPerson||t._stepParticipant.employeeIds.length)){var r=angular.isArray(t._stepParticipant.employeeIds)&&t._stepParticipant.employeeIds.length?t._stepParticipant.employeeIds[0]:"";n.find(function(e){return i.matchByParticipant(e,t._stepParticipant)})||n.push({participantType:t._stepParticipant.participantType,employeeId:r})}}),n},matchByParticipant:function(e,t){var n=e.employeeIds&&e.employeeIds.length?e.employeeIds[0]:e.employeeId||"",r=t.employeeIds&&t.employeeIds.length?t.employeeIds[0]:t.employeeId||"";return e.participantType===t.participantType&&n===r},removePermissions:function(e,t){var n=[];if(e._permissions.length)for(var r=0;r<=e._permissions.length-1;r++)!function(r){var o=e._permissions[r],a=t.find(function(e){return i.matchByParticipant(e,o)});a&&void 0!==a||(n=e._permissions.splice(r,1))}(r);return n},assignStepAccess:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],["canEdit","canViewSensitive","canEditSensitive"]);return e.canView||(e.canView=!0),Object.keys(e).forEach(function(r){n.includes(r)&&(e[r]=i.matchByParticipant(e,t))}),e},copyStepAccess:function(e,t){return Object.assign(e,{canView:t.canView,canEdit:t.canEdit,canViewSensitive:t.canViewSensitive,canEditSensitive:t.canEditSensitive})},updatePermissions:function(t){var n=t.steps,o=t.currentStep,a=t.newStepParticipant,s=void 0===a?{}:a,l=t.oldStepParticipant,c=void 0===l?{}:l,p=t.options,u=void 0===p?{}:p,d=i.buildParticipantList(n);n.forEach(function(t,n){if(t._stepAction!==e.stepAction.formCompleted&&t._stepAction!==e.stepAction.employeeProfileReview){var a=i.removePermissions(t,d);d.forEach(function(n){var l=t._permissions.find(function(e){return i.matchByParticipant(n,e)});if(l)return void(o===t&&(i.matchByParticipant(l,s)&&i.assignStepAccess(l,t._stepParticipant,u),i.matchByParticipant(l,c)&&i.assignStepAccess(l,t._stepParticipant,u)));var p=Object.assign({},r,{participantType:n.participantType,employeeId:n.employeeId});t._stepAction===e.stepAction.employeeProfileReview&&(p.canView=!1),p=a.length?i.copyStepAccess(p,a[0]):i.assignStepAccess(p,t._stepParticipant,u),t._permissions.splice(d.indexOf(n),0,p)})}})},generatePDFOverlay:function(t,r){return Promise.resolve().then(function(){return t._steps.filter(function(t){return t._stepAction!==e.stepAction.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return e="string"==typeof e?JSON.parse(e):e,Object.assign(e,JSON.parse(t))})}).then(function(e){return n.generatePDFOverlay({formInstanceid:t.id,formFieldValues:e,showSensitive:r})})}};return i}r.$inject=["ssEnum","ssSaveInterrupterSvc","ssFormInstancesApi"],angular.module("ec-forms-helpers").factory("formsHlp",r)},{}],62:[function(e,t,n){"use strict";function r(e,t){function n(n,r){var i,o;if(o=null==n._statusId?t.byValue(0):t.byValue(n._statusId),i=o.toLowerCase(),n._statusHistory)for(var a=0;a<n._statusHistory.length;a++){var s=e.utcIsoToRelativeMoment(n._statusHistory[a]._from,r),l=n._statusHistory[a]._statusId,c=e.utcIsoToRelativeMoment(moment().utc().toISOString(),r);if(c<s&&"Inactive"===o&&l===t.active){var p=s.format("L");o="Inactive until "+p}}return{status:i,statusLabel:o}}return{getLabel:n}}r.$inject=["ssDateByOrgHlp","enumFormTemplateStatus"],angular.module("ec-forms-helpers").factory("statusLabelHlp",r)},{}],63:[function(e,t,n){"use strict";function r(){return i}var i={formatText:function(e){return e},getViewportOffsets:function(e){var t={left:-1,top:-1};if(null==e)return t;try{t.left=e.pageXOffset||e.document.documentElement.scrollLeft||e.document.body.scrollLeft||0}catch(e){t.left=0}try{t.top=e.pageYOffset||e.document.documentElement.scrollTop||e.document.body.scrollTop||0}catch(e){t.top=0}return t}};angular.module("ec-forms-helpers").factory("viewportOffsetHlp",r)},{}],64:[function(e,t,n){"use strict";e("./components/cmp-attachments/attachments.js"),e("./components/cmp-box-creator/box-creator.js"),e("./components/cmp-box-date-options/box-date-options.js"),e("./components/cmp-box-resizer/box-resizer.js"),e("./components/cmp-checkbox-group/checkbox-group.js"),e("./components/cmp-credential-group/credential-group.js"),e("./components/cmp-credential/credential.js"),e("./components/cmp-dnd-options/dnd-options.js"),e("./components/cmp-emp-initiated-template/emp-initiated-template.js"),e("./components/cmp-field-renderer/field-renderer.js"),e("./components/cmp-fl-share-form/fl-share-form.js"),e("./components/cmp-form-list-group/form-list-group.js"),e("./components/cmp-form-send-status/form-send-status.js"),e("./components/cmp-multiple-employee-search/multiple-employee-search.js"),e("./components/cmp-overlay-builder-toolbox/overlay-builder-toolbox.js"),e("./components/cmp-properties-credentials/properties-credentials.js"),e("./components/cmp-properties-custom-common/properties-custom-common.js"),e("./components/cmp-properties-custom-date/properties-custom-date.js"),e("./components/cmp-properties-custom-dropdown/properties-custom-dropdown.js"),e("./components/cmp-properties-custom-filelink/properties-custom-filelink.js"),e("./components/cmp-properties-custom-fileupload/properties-custom-fileupload.js"),e("./components/cmp-properties-custom-input/properties-custom-input.js"),e("./components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.js"),e("./components/cmp-properties-custom-selectbox/properties-custom-selectbox.js"),e("./components/cmp-properties-custom-signature/properties-custom-signature.js"),e("./components/cmp-properties-custom-text/properties-custom-text.js"),e("./components/cmp-properties-emp-record/properties-emp-record.js"),e("./components/cmp-properties-form-complete/properties-form-complete.js"),e("./components/cmp-properties-notifications/properties-notifications.js"),e("./components/cmp-properties-primary-assignment/properties-primary-assignment.js"),e("./components/cmp-properties-profile-review/properties-profile-review.js"),e("./components/cmp-properties-salary/properties-salary.js"),e("./components/cmp-properties-secondary-assignments/properties-secondary-assignments.js"),e("./components/cmp-properties-smart/properties-smart.js"),e("./components/cmp-properties-step-permissions/properties-step-permissions.js"),e("./components/cmp-properties-step/properties-step.js"),e("./components/cmp-properties-text-editor/properties-text-editor.js"),e("./components/cmp-secondary-assignment/secondary-assignment.js"),e("./components/cmp-secondary-assignments/secondary-assignments.js"),e("./components/cmp-step-checkbox-display/step-checkbox-display.js"),e("./components/cmp-step-date-display/step-date-display.js"),e("./components/cmp-step-renderer/step-renderer.js"),e("./components/cmp-step-text-display/step-text-display.js"),e("./components/cmp-template-field-renderer/template-field-renderer.js"),e("./components/cmp-template-list-form/template-list-form.js"),e("./components/cmp-template-list-packet/template-list-packet.js"),e("./components/cmp-text-editor/ckeditorConfig.js"),e("./components/cmp-text-editor/placeholders.js"),e("./components/cmp-text-editor/text-editor.js"),e("./components/cmp-tracked-form-group/tracked-form-group.js"),e("./components/cmp-tracked-form/tracked-form.js"),e("./helpers/fieldRendererHlp/field-renderer.js"),e("./helpers/fieldsHlp/fields.js"),e("./helpers/formsHlp/forms.js"),e("./helpers/statusLabelHlp/status-label.js"),e("./helpers/viewportOffsetHlp/viewport-offset.js"),e("./routes/form-builder/builder/builder.state.js"),
e("./routes/form-builder/builder/segment-builder/builder.js"),e("./routes/form-builder/builder/segment-builder/builder.logic.js"),e("./routes/form-builder/builder/segment-fields/fields.js"),e("./routes/form-builder/builder/segment-fields/fields.logic.js"),e("./routes/form-builder/builder/segment-properties/properties.js"),e("./routes/form-builder/builder/segment-properties/properties.logic.js"),e("./routes/form-builder/form-builder.state.js"),e("./routes/form-builder/overlay-builder/overlay-builder.state.js"),e("./routes/form-builder/overlay-builder/segment-data-panel/data-panel.js"),e("./routes/form-builder/overlay-builder/segment-data-panel/data-panel.logic.js"),e("./routes/form-builder/overlay-builder/segment-overlay/overlay.js"),e("./routes/form-builder/overlay-builder/segment-overlay/overlay.logic.js"),e("./routes/form-builder/preview/preview.state.js"),e("./routes/form-builder/preview/segment-attachments/attachments.js"),e("./routes/form-builder/preview/segment-attachments/attachments.logic.js"),e("./routes/form-builder/preview/segment-form-workflow/form-workflow.js"),e("./routes/form-builder/preview/segment-form-workflow/form-workflow.logic.js"),e("./routes/form-builder/preview/segment-page-header/page-header.js"),e("./routes/form-builder/preview/segment-page-header/page-header.logic.js"),e("./routes/form-builder/preview/segment-steps-summary/steps-summary.js"),e("./routes/form-builder/preview/segment-steps-summary/steps-summary.logic.js"),e("./routes/form-builder/segment-content/content.js"),e("./routes/form-builder/segment-content/content.logic.js"),e("./routes/form-builder/segment-header/header.js"),e("./routes/form-builder/segment-header/header.logic.js"),e("./routes/form-builder/settings/segment-settings/settings.js"),e("./routes/form-builder/settings/segment-settings/settings.logic.js"),e("./routes/form-builder/settings/settings.state.js"),e("./routes/form-instance/form-instance.state.js"),e("./routes/form-instance/segment-attachments/attachments.js"),e("./routes/form-instance/segment-attachments/attachments.logic.js"),e("./routes/form-instance/segment-form/form.js"),e("./routes/form-instance/segment-form/form.logic.js"),e("./routes/form-instance/segment-header/header.js"),e("./routes/form-instance/segment-header/header.logic.js"),e("./routes/form-instance/segment-steps-summary/steps-summary.js"),e("./routes/form-instance/segment-steps-summary/steps-summary.logic.js"),e("./routes/form-templates/form-templates.state.js"),e("./routes/form-templates/segment-content/content.js"),e("./routes/form-templates/segment-content/content.logic.js"),e("./routes/form-templates/segment-header/header.js"),e("./routes/form-templates/segment-header/header.logic.js"),e("./routes/form-tracking/form-tracking.state.js"),e("./routes/form-tracking/segment-content/content.js"),e("./routes/form-tracking/segment-content/content.logic.js"),e("./routes/form-tracking/segment-header/header.js"),e("./routes/form-tracking/segment-header/header.logic.js"),e("./routes/inbox/form-instance/form-instance.state.js"),e("./routes/inbox/form-instance/segment-attachments/attachments.js"),e("./routes/inbox/form-instance/segment-attachments/attachments.logic.js"),e("./routes/inbox/form-instance/segment-close/close.js"),e("./routes/inbox/form-instance/segment-close/close.logic.js"),e("./routes/inbox/form-instance/segment-form/form.js"),e("./routes/inbox/form-instance/segment-form/form.logic.js"),e("./routes/inbox/form-instance/segment-header/header.js"),e("./routes/inbox/form-instance/segment-header/header.logic.js"),e("./routes/inbox/form-instance/segment-steps/steps.js"),e("./routes/inbox/form-instance/segment-steps/steps.logic.js"),e("./routes/inbox/inbox.state.js"),e("./routes/inbox/segment-content/content.js"),e("./routes/inbox/segment-content/content.logic.js"),e("./routes/inbox/segment-header/header.js"),e("./routes/inbox/segment-header/header.logic.js"),e("./routes/index/index.state.js"),e("./routes/index/segment-content/content.js"),e("./routes/index/segment-content/content.logic.js"),e("./routes/index/segment-header/header.js"),e("./routes/index/segment-header/header.logic.js"),e("./routes/my-forms/my-forms.state.js"),e("./routes/my-forms/segment-content/content.js"),e("./routes/my-forms/segment-content/content.logic.js"),e("./routes/my-forms/segment-header/header.js"),e("./routes/my-forms/segment-header/header.logic.js"),e("./routes/packet-builder/builder/builder.state.js"),e("./routes/packet-builder/builder/segment-builder/builder.js"),e("./routes/packet-builder/builder/segment-builder/builder.logic.js"),e("./routes/packet-builder/packet-builder.state.js"),e("./routes/packet-builder/segment-content/content.js"),e("./routes/packet-builder/segment-content/content.logic.js"),e("./routes/packet-builder/segment-header/header.js"),e("./routes/packet-builder/segment-header/header.logic.js"),e("./routes/packet-builder/settings/segment-settings/settings.js"),e("./routes/packet-builder/settings/segment-settings/settings.logic.js"),e("./routes/packet-builder/settings/settings.state.js"),e("./routes/send/segment-content/content.js"),e("./routes/send/segment-content/content.logic.js"),e("./routes/send/segment-header/header.js"),e("./routes/send/segment-header/header.logic.js"),e("./routes/send/send.state.js"),e("./config/load-config.js"),e("./config/router.js")},{"./components/cmp-attachments/attachments.js":2,"./components/cmp-box-creator/box-creator.js":3,"./components/cmp-box-date-options/box-date-options.js":4,"./components/cmp-box-resizer/box-resizer.js":5,"./components/cmp-checkbox-group/checkbox-group.js":6,"./components/cmp-credential-group/credential-group.js":7,"./components/cmp-credential/credential.js":8,"./components/cmp-dnd-options/dnd-options.js":9,"./components/cmp-emp-initiated-template/emp-initiated-template.js":10,"./components/cmp-field-renderer/field-renderer.js":11,"./components/cmp-fl-share-form/fl-share-form.js":12,"./components/cmp-form-list-group/form-list-group.js":13,"./components/cmp-form-send-status/form-send-status.js":14,"./components/cmp-multiple-employee-search/multiple-employee-search.js":15,"./components/cmp-overlay-builder-toolbox/overlay-builder-toolbox.js":16,"./components/cmp-properties-credentials/properties-credentials.js":17,"./components/cmp-properties-custom-common/properties-custom-common.js":18,"./components/cmp-properties-custom-date/properties-custom-date.js":19,"./components/cmp-properties-custom-dropdown/properties-custom-dropdown.js":20,"./components/cmp-properties-custom-filelink/properties-custom-filelink.js":21,"./components/cmp-properties-custom-fileupload/properties-custom-fileupload.js":22,"./components/cmp-properties-custom-input/properties-custom-input.js":23,"./components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.js":24,"./components/cmp-properties-custom-selectbox/properties-custom-selectbox.js":25,"./components/cmp-properties-custom-signature/properties-custom-signature.js":26,"./components/cmp-properties-custom-text/properties-custom-text.js":27,"./components/cmp-properties-emp-record/properties-emp-record.js":28,"./components/cmp-properties-form-complete/properties-form-complete.js":29,"./components/cmp-properties-notifications/properties-notifications.js":30,"./components/cmp-properties-primary-assignment/properties-primary-assignment.js":31,"./components/cmp-properties-profile-review/properties-profile-review.js":32,"./components/cmp-properties-salary/properties-salary.js":33,"./components/cmp-properties-secondary-assignments/properties-secondary-assignments.js":34,"./components/cmp-properties-smart/properties-smart.js":35,"./components/cmp-properties-step-permissions/properties-step-permissions.js":36,"./components/cmp-properties-step/properties-step.js":37,"./components/cmp-properties-text-editor/properties-text-editor.js":38,"./components/cmp-secondary-assignment/secondary-assignment.js":39,"./components/cmp-secondary-assignments/secondary-assignments.js":40,"./components/cmp-step-checkbox-display/step-checkbox-display.js":41,"./components/cmp-step-date-display/step-date-display.js":42,"./components/cmp-step-renderer/step-renderer.js":43,"./components/cmp-step-text-display/step-text-display.js":44,"./components/cmp-template-field-renderer/template-field-renderer.js":45,"./components/cmp-template-list-form/template-list-form.js":46,"./components/cmp-template-list-packet/template-list-packet.js":47,"./components/cmp-text-editor/ckeditorConfig.js":48,"./components/cmp-text-editor/placeholders.js":49,"./components/cmp-text-editor/text-editor.js":51,"./components/cmp-tracked-form-group/tracked-form-group.js":52,"./components/cmp-tracked-form/tracked-form.js":53,"./config/load-config.js":57,"./config/router.js":58,"./helpers/fieldRendererHlp/field-renderer.js":59,"./helpers/fieldsHlp/fields.js":60,"./helpers/formsHlp/forms.js":61,"./helpers/statusLabelHlp/status-label.js":62,"./helpers/viewportOffsetHlp/viewport-offset.js":63,"./routes/form-builder/builder/builder.state.js":67,"./routes/form-builder/builder/segment-builder/builder.js":68,"./routes/form-builder/builder/segment-builder/builder.logic.js":69,"./routes/form-builder/builder/segment-fields/fields.js":70,"./routes/form-builder/builder/segment-fields/fields.logic.js":71,"./routes/form-builder/builder/segment-properties/properties.js":72,"./routes/form-builder/builder/segment-properties/properties.logic.js":73,"./routes/form-builder/form-builder.state.js":74,"./routes/form-builder/overlay-builder/overlay-builder.state.js":75,"./routes/form-builder/overlay-builder/segment-data-panel/data-panel.js":76,"./routes/form-builder/overlay-builder/segment-data-panel/data-panel.logic.js":77,"./routes/form-builder/overlay-builder/segment-overlay/overlay.js":78,"./routes/form-builder/overlay-builder/segment-overlay/overlay.logic.js":79,"./routes/form-builder/preview/preview.state.js":80,"./routes/form-builder/preview/segment-attachments/attachments.js":81,"./routes/form-builder/preview/segment-attachments/attachments.logic.js":82,"./routes/form-builder/preview/segment-form-workflow/form-workflow.js":83,"./routes/form-builder/preview/segment-form-workflow/form-workflow.logic.js":84,"./routes/form-builder/preview/segment-page-header/page-header.js":85,"./routes/form-builder/preview/segment-page-header/page-header.logic.js":86,"./routes/form-builder/preview/segment-steps-summary/steps-summary.js":87,"./routes/form-builder/preview/segment-steps-summary/steps-summary.logic.js":88,"./routes/form-builder/segment-content/content.js":89,"./routes/form-builder/segment-content/content.logic.js":90,"./routes/form-builder/segment-header/header.js":91,"./routes/form-builder/segment-header/header.logic.js":92,"./routes/form-builder/settings/segment-settings/settings.js":93,"./routes/form-builder/settings/segment-settings/settings.logic.js":94,"./routes/form-builder/settings/settings.state.js":95,"./routes/form-instance/form-instance.state.js":96,"./routes/form-instance/segment-attachments/attachments.js":97,"./routes/form-instance/segment-attachments/attachments.logic.js":98,"./routes/form-instance/segment-form/form.js":99,"./routes/form-instance/segment-form/form.logic.js":100,"./routes/form-instance/segment-header/header.js":101,"./routes/form-instance/segment-header/header.logic.js":102,"./routes/form-instance/segment-steps-summary/steps-summary.js":103,"./routes/form-instance/segment-steps-summary/steps-summary.logic.js":104,"./routes/form-templates/form-templates.state.js":105,"./routes/form-templates/segment-content/content.js":106,"./routes/form-templates/segment-content/content.logic.js":107,"./routes/form-templates/segment-header/header.js":108,"./routes/form-templates/segment-header/header.logic.js":109,"./routes/form-tracking/form-tracking.state.js":110,"./routes/form-tracking/segment-content/content.js":111,"./routes/form-tracking/segment-content/content.logic.js":112,"./routes/form-tracking/segment-header/header.js":113,"./routes/form-tracking/segment-header/header.logic.js":114,"./routes/inbox/form-instance/form-instance.state.js":115,"./routes/inbox/form-instance/segment-attachments/attachments.js":116,"./routes/inbox/form-instance/segment-attachments/attachments.logic.js":117,"./routes/inbox/form-instance/segment-close/close.js":118,"./routes/inbox/form-instance/segment-close/close.logic.js":119,"./routes/inbox/form-instance/segment-form/form.js":120,"./routes/inbox/form-instance/segment-form/form.logic.js":121,"./routes/inbox/form-instance/segment-header/header.js":122,"./routes/inbox/form-instance/segment-header/header.logic.js":123,"./routes/inbox/form-instance/segment-steps/steps.js":124,"./routes/inbox/form-instance/segment-steps/steps.logic.js":125,"./routes/inbox/inbox.state.js":126,"./routes/inbox/segment-content/content.js":127,"./routes/inbox/segment-content/content.logic.js":128,"./routes/inbox/segment-header/header.js":129,"./routes/inbox/segment-header/header.logic.js":130,"./routes/index/index.state.js":131,"./routes/index/segment-content/content.js":132,"./routes/index/segment-content/content.logic.js":133,"./routes/index/segment-header/header.js":134,"./routes/index/segment-header/header.logic.js":135,"./routes/my-forms/my-forms.state.js":136,"./routes/my-forms/segment-content/content.js":137,"./routes/my-forms/segment-content/content.logic.js":138,"./routes/my-forms/segment-header/header.js":139,"./routes/my-forms/segment-header/header.logic.js":140,"./routes/packet-builder/builder/builder.state.js":141,"./routes/packet-builder/builder/segment-builder/builder.js":142,"./routes/packet-builder/builder/segment-builder/builder.logic.js":143,"./routes/packet-builder/packet-builder.state.js":144,"./routes/packet-builder/segment-content/content.js":145,"./routes/packet-builder/segment-content/content.logic.js":146,"./routes/packet-builder/segment-header/header.js":147,"./routes/packet-builder/segment-header/header.logic.js":148,"./routes/packet-builder/settings/segment-settings/settings.js":149,"./routes/packet-builder/settings/segment-settings/settings.logic.js":150,"./routes/packet-builder/settings/settings.state.js":151,"./routes/send/segment-content/content.js":152,"./routes/send/segment-content/content.logic.js":153,"./routes/send/segment-header/header.js":154,"./routes/send/segment-header/header.logic.js":155,"./routes/send/send.state.js":156}],65:[function(e,t,n){"use strict";angular.module("ec-forms",["super-suit","ec-forms-segments","ec-forms-segment-logic","ec-forms-templates","dndLists","ec-forms-helpers","ec-forms-components","ec-forms-decorators","ec-forms-filters","ec-forms-services"]),angular.module("ec-forms-segments",[]),angular.module("ec-forms-segment-logic",[]),angular.module("ec-forms-helpers",[]),angular.module("ec-forms-components",[]),angular.module("ec-forms-decorators",[]),angular.module("ec-forms-filters",[]),angular.module("ec-forms-services",[])},{}],66:[function(e,t,n){"use strict";!function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/form-builder.html",'<route folder="/form-builder"> <form id="form-controls" class="route-wrapper form-controls" ng-submit="routeVm.submitForm()" ss-validate-form> <segment name="header"></segment> <div class="gd-row" ss-pending="routeVm.loading || routeVm.saving" ss-pending-status="routeVm.loadingMsg"> <segment name="content"></segment> </div> </form> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/form-instance.html",'<route folder="/form-instance"> <div class="full-screen" data-qa="form-instance" ss-pending="routeVm.isLoading" ss-pending-status="routeVm.loadingStatus"> <segment name="header"></segment> <main class="full-screen-content"> <div class="full-screen-content-wrapper"> <div ng-show="!routeVm.showPDFOverlay" class="gd-row"> <section class="gd-65p content"> <segment name="form"></segment> </section> <aside class="gd-35p sidebar" ss-window-anchor window-anchor-top="10"> <segment name="attachments"></segment> <segment name="steps-summary"></segment> </aside> </div> <div ng-show="routeVm.showPDFOverlay"> <iframe id="form-overlay-frame" src="" title="PDF overlay for {{routeVm.formInstance.name}}"></iframe> </div> </div> </main> </div> </route>\t')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-templates/form-templates.html",'<route folder="/form-templates"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/inbox.html",'<route folder="/inbox"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/form-tracking.html",'<route folder="/form-tracking"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/index.html",'<route folder="/index"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-forms/my-forms.html",'<route folder="/my-forms"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/packet-builder.html",'<route folder="/packet-builder"> <form id="form-controls" class="form-controls" ng-submit="routeVm.saveFormTemplate()" ss-validate-form> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </form> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/send.html",'<route folder="/send"> <div class="route-wrapper" ss-pending="routeVm.retryLoading" ss-pending-status="\'Please wait...\'"> <form ss-validate-form ng-submit="routeVm.go.send()" autocomplete="off"> <segment name="header"></segment> <segment name="content"></segment> </form> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-attachments/attachments.html",'<div class="cmp-attachments"> <div class="fb-step"> <div class="fb-step-header secondary"> <h4 class="fb-step-title">Attachments</h4> </div> <div class="content"> <p id="attachment-instructions">Include files and attachments with this template. Attachments will be accessible to all workflow participants. <em>(Max file size: 50 MB)</em></p> <div class="file-list-container"> <ul id="attachment-upload-list-{{::$id}}" class="attachments-list" ng-class="{\'addHeight\': vm.processing}"> <li ng-repeat="attachment in vm.files" class="form-attachment"> <i class="file-icon" ss-icon="{{ attachment.icon }}" aria-hidden="true"></i> <a href="" class="document" ng-bind="attachment.filename" ng-click="go.download(attachment._fileId)" title="Open {{attachment.filename}}" target="_blank"></a> <div class="attachment-actions-group" role="group"> <i ss-icon="trash-o" aria-hidden="true"></i> <a role="button" href="" class="trash" ng-click="go.delete(attachment)" aria-label="Delete {{ attachment.filename }}" title="Delete {{attachment.filename}}" aria-controls="attachment-status-indicator-{{::$id}}, attachment-upload-list-{{::$id}}, attachment-status-alert-{{::$id}}">Delete</a> </div> </li> </ul> <super-loader id="attachment-status-indicator-{{::$id}}" is-loading="vm.processing" status-text="vm.processingStatus" fill role="status"></super-loader> </div> <div class="uploader-group" role="group"> <i id="attachment-status-alert-{{::$id}}" class="attachment-status-alert" role="alert" aria-live="polite" aria-atomic="true"></i> <super-button class="upload" label="Add Attachment" aria-hidden="true" tabindex="-1"></super-button> <input id="fileUpload" type="file" nv-file-select name="fileUpload" uploader="uploader" filters="validExt,fileSize,fileDupe" aria-label="Select files to attach to the form" aria-describedby="attachment-instructions" aria-controls="attachment-status-indicator-{{::$id}}, attachment-upload-list-{{::$id}}, attachment-status-alert-{{::$id}}"> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-box-creator/box-creator.html",'<div class="cmp-box-creator" ng-show="startingPoint.x && startingPoint.y" ng-style="vm.styles"> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-box-resizer/box-resizer.html",'<div class="cmp-box-resizer"> <super-button smp ss-icon="times" ng-click="onDelete()"></super-button> <span class="handle-N-S"></span> <span class="handle-E-W"></span> <span class="handle-NW"></span> <span class="handle-NE"></span> <span class="handle-SW"></span> <span class="handle-SE"></span> <div class="box-options" ng-if="box.type != \'text\' && box.type != \'checkbox\'" ss-bind-html="vm.optionsTemplate" ng-mousedown="$event.stopPropagation()"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-box-date-options/box-date-options.html",'<div class="cmp-box-date-options"> <ul> <li ng-repeat="dateOption in vm.dateOptions"> <super-input-checkbox model="dateOption.selected" label="{{ dateOption.name }}" name="{{ dateOption.name }}" ng-click="go.update()"> </super-input-checkbox> <div> <super-input-radio ng-repeat="option in dateOption.options" is-disabled="!dateOption.selected" label="{{ option.name }}" model="dateOption.selectedVal" name="{{ dateOption.guid }}" value="{{ option.jsFormat }}" ng-click="go.update()"> </super-input-radio> </div> </li> </ul> <div class="example-string"> <label>Example:</label> {{ vm.displayString }} </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-credential/credential.html",'<div ng-class="vm.formfieldvalues ? \'cmp-credential\' : \'\'" ng-show="vm.visibility"> <dl ng-if="!vm.formfieldvalues"> <dt ng-bind="field._label" class="field-label"></dt> <dd>--</dd> </dl> <dl ng-if="vm.formfieldvalues"> <div ng-repeat="subField in field.config.fields | filter: go.hideHeadingsAndInactive" ng-style="{\'width\': subField.config.width}" class="credential-property"> <dt class="field-label" ng-bind="subField._label"></dt> <dd ng-if="subField.formFieldValueProperty !== \'IsVerified\' && subField.formFieldValueProperty !== \'ExpirationDay\'" class="field-value" ng-bind="formfieldvalues[subField.formFieldValueProperty] ? formfieldvalues[subField.formFieldValueProperty] : \'--\'"></dd> <dd ng-if="subField.formFieldValueProperty === \'IsVerified\'"> <i ng-if="formfieldvalues[subField.formFieldValueProperty]" class="shield fa-shield-before" aria-label="Credential is verified." ss-icon="shield"></i> <i ng-if="!formfieldvalues[subField.formFieldValueProperty]" aria-label="Credential is un-verified">--</i> </dd> <dd ng-if="subField.formFieldValueProperty === \'ExpirationDay\'" ng-bind="formfieldvalues[subField.formFieldValueProperty] !== \'9999-12-31\' ? formfieldvalues[subField.formFieldValueProperty] : \'Lifetime\'"></dd> </div> </dl> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-checkbox-group/checkbox-group.html",'<div class="cmp-checkbox-group" ss-validate="field.ignoreValidations || vm.validate(field.step.formFieldValues, field._label)"> <label ng-bind="field._label" class="field-label" ng-class="{\'required\': field._required}"></label> <div ss-bind-html="vm.template"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-credential-group/credential-group.html",'<fieldset class="cmp-credential-group"> <legend ng-if="go.showGroupLabel()">{{field._label}} <em>Read-only</em></legend> <div ng-if="!vm.formFieldValues" ng-class="!vm.formfieldvalues ? \'credential-group\' : \'\'"> <cmp-credential ng-repeat="field in field.config.fields | filter: go.hideHeadings" field="field" ng-style="{\'width\': field.config.width}" class="credential-property"></cmp-credential> </div> <cmp-credential ng-if="vm.formFieldValues" ng-repeat="ffv in vm.formFieldValues" formfieldvalues="ffv" field="field"></cmp-credential> </fieldset> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-dnd-options/dnd-options.html",'<div class="cmp-dnd-options"> <dl class="option-list" ng-class="{\'overflow\': vm.options.length > 5}" dnd-list="vm.options" dnd-allowed-types="[\'optionType\']" dnd-drop="go.dropOption(event, index, item)" ss-validate="go.validate(field)"> <dt>Options</dt> <dd class="option-list-item" ng-repeat="option in vm.options track by $index"> <span ss-icon="navicon" dnd-effect-allowed="move" dnd-draggable="option" dnd-moved="go.moveOption($index, option)" dnd-type="\'optionType\'"></span> <super-input-text model="option.value"></super-input-text> <button type="button" ng-if="vm.options.length > 1" class="option-remove" ss-icon="minus-circle" ng-click="go.removeOption($index)"></button> </dd> </dl> <super-button std label="Add New Option" ss-icon="plus" ng-click="go.addOption()"></super-button> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-field-renderer/field-renderer.html",'<div class="cmp-field-renderer auto-{{ field.id }}" ng-show="vm.visibility" ng-class="{\'hide\': !vm.visibility}" ss-bind-html="vm.template"></div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-emp-initiated-template/emp-initiated-template.html",'<div class="cmp-emp-initiated-template"> <div class="gd-row form-list-header-group"> <div class="sort-by-filter"> <super-select-list type="filter" label="Sort by" model="vm.sortBy" is-disabled="vm.isLoading || vm.isSorting || vm.isSearching"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> </div> <div class="gd-row gd-100p" ss-pending="vm.isSorting || vm.isSearching"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-class="{\'no-left-margin\': {{$index}} % 5 === 0}" ng-show="vm.formsAndPackets.length > 0" ng-repeat="form in vm.formsAndPackets track by form.id"> <div class="form-list-item-wrapper"> <div class="form-item-details"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a href="/ec-forms/form-builder/{{form.id}}/preview?returnTo=/ec-forms/my-forms?activeTab=initiate" title="click to preview \'{{::form._name}}\'\'">{{::form._name}}</a> </h3> <div class="form-meta"> <ul class="ss-pipe-children items-2"> <li class="form-meta-item"><label>Category: </label><span ng-bind="form._category.name"></span></li> <li class="form-meta-item"><label>Form Administrator: </label><span ng-bind="form.adminName"></span></li> </ul> </div> </div> <div class="form-actions-group"> <super-button label="Start this form" ss-icon-before="{{form.initiating ? \'spinner\':\'mail-forward\'}}" ng-click="go.initiateForm(form)" ng-class="{\'initiating\': form.initiating}" ng-disabled="form.initiating"></super-button> </div> </div> </div> </li> </ul> <p ng-if="vm.formsAndPackets.length < 1 && !vm.isLoading && !vm.isSorting && !vm.isSearching">No Forms or Packets found</p> <div ng-if="vm.showInfScroll" ss-pending="vm.isLoading" infinite-scroll="scrollData()"></div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-fl-share-form/fl-share-form.html",'<div class="cmp-fl-share-form modal"> <button type="button" ng-click="go.cancel()" class="button flat modal-close" ss-icon-before="times"></button> <div class="title">Share Template</div> <div class="content"> <ul class="gd-row org"> <li class="gd-100p"> <super-org-search model="vm.org" label="Organization or ID" limit="1"></super-org-search> </li> </ul> <ul class="gd-row form-name"> <li class="gd-100p"> <super-input-text label="Form Template Name" name="formName" model="vm.formName"></super-input-text> </li> </ul> </div> <div class="modal-button"> <super-button label="Cancel" ng-click="go.cancel()" is-disabled="vm.saving"></super-button> <super-button pri class="save-button" ng-class="{\'saving\': vm.saving}" label="Share Template" ng-click="go.share()" is-disabled="!vm.org.length || !vm.formName.length || vm.saving" ss-icon="spinner"></super-button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-form-list-group/form-list-group.html",'<div class="cmp-form-list-group" ng-class="{\'{{type}}\' : type}"> <div class="gd-row form-list-header-group"> <super-select-list ng-if="vm.formsAndPackets.length > 1" class="gd-100p sort-by-filter" type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-show="vm.formsAndPackets.length > 0" ng-class="{\'pending\': form.isPending && !form.isPacket}" ng-repeat="form in vm.formsAndPackets track by $index"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': form.isRejected, \'{{form.dueDateStatus.class}}\' : form.dueDateStatus && !form.isRejected}"> <div class="form-item-details" ng-if="!form.isPacket" data-auto-date-modified="{{form._createdUtc}}" data-auto-due-date="{{form._dueDateUtc}}"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-bind="form.name" ng-if="!form.isPending && !form.rejectedByUser" title="Open {{form.name}}" data-test="form-instance" href="/ec-forms/form-instance/{{form.id}}?returnUrl=%2Fec-forms%2Fmy-forms&target=_blank" target="_blank" onclick="window.open(this.href, this.target); return false;"></a> <span ng-if="form.isPending || form.rejectedByUser">{{form.name}}</span> <small class="form-user-name" ng-if="!form.userIsPrimary" ss-icon="user" ng-bind="form._employee.name"></small> </h3> <div class="form-meta" data-auto-due-date="{{ form._dueDateUtc }}"> <ul class="ss-pipe-children" ng-class="{\'items-2\': form.dueDateStatus}"> <li class="form-meta-item" ng-bind="form.stepActionName"></li> <li class="form-meta-item" ng-if="form.dueDateStatus"> <strong class="form-due-date" ng-class="{\'{{form.dueDateStatus.class}}\': form.dueDateStatus}" ng-bind="form.dueDateStatus.statusFriendly"></strong> </li> </ul> </div> </div> <div class="form-workflow-status-group"> <div ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <p ng-bind="form.formStatus" ng-class="{\'denied\':form.isRejected && form.isUserStep}" ss-icon="{{form.isRejected && form.isUserStep ? \'thumbsdown-stripes\' : \'\' }}"></p> </div> <div ng-if="routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <div ng-if="!form.isRejected && !form.isCompletedAndDenied"> <p ng-bind="form.formStatus"></p> </div> <div ng-if="form.isRejected || form.isCompletedAndDenied"> <div ng-if="form.isRejected"> <p ng-if="!form.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Step Denied</p> <super-popover ng-if="form.hasValidEnhancedDeniedInfo" class="denied" link="Step Denied" ss-icon="thumbsdown-stripes" title="click to view denier info"> <p>Denied by: {{form._deniedInfo.denier.name}}</p> <p>Comments: {{form._deniedInfo.comments}}</p> </super-popover> </div> <div ng-if="form.isCompletedAndDenied"> <p ng-if="!form.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Form Denied</p> <super-popover ng-if="form.hasValidEnhancedDeniedInfo" class="denied" link="Form Denied" title="click to view denier info" ss-icon="thumbsdown-stripes"> <p>Denied by: {{form._deniedInfo.denier.name}}</p> <p>Comments: {{form._deniedInfo.comments}}</p> </super-popover> </div> </div> </div> </div> <div class="form-actions-group"> <super-button ng-if="!form.isPending && !form.isSubmitted" label="{{form.stepActionLabel}}" ng-click="go.complete(form)" ng-disabled="form.rejectedByUser"></super-button> </div> </div> <div class="form-item-details" ng-if="form.isPacket"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-packet-e-large\' : \'li-packet-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-click="go.toggleDetails(form)">{{form.name}}&nbsp;<small>-&nbsp;Packet</small></a> </h3> <button type="button" class="packet-toggle" ss-icon-after="{{form.showDetails === false ? \'angle-down\': \'angle-up\'}}" ng-click="go.toggleDetails(form)">{{form.showDetails === false ? \'Show\' : \'Hide\'}} Details</button> </div> <div class="form-workflow-status-group"> <p ng-bind="form.formStatus" ng-class="{\'denied\':form.isRejected}" ss-icon="{{form.isRejected ? \'thumbsdown-stripes\' : \'\' }}"></p> </div> <div class="form-actions-group"> <super-button label="{{form.showDetails ? \'Hide\' : \'Show\'}} Details" ng-click="go.toggleDetails(form)"></super-button> </div> </div> </div> <div ng-if="form.isPacket" ng-show="form.showDetails" class="form-packet-details"> <ul class="form-packet-list"> <li class="form-packet-list-item" ng-if="form.content.length < 1"> <p>No Forms are associated with this Package</p> </li> <li class="form-packet-list-item" ng-if="form.content.length > 0" ng-repeat="Pform in form.content | orderBy: \'_packetInstance.sortOrder\'" ng-class="{\'pending\': Pform.isPending}"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': Pform.isRejected, \'{{Pform.dueDateStatus.class}}\' : Pform.dueDateStatus && !Pform.isRejected}"> <div class="form-item-details" data-auto-date-modified="{{ Pform._createdUtc }}" data-auto-due-date="{{ Pform._dueDateUtc }}"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{Pform._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-label="form icon"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-bind="Pform.name" ng-if="!Pform.isPending && !Pform.rejectedByUser" title="Open {{Pform.name}}" data-test="form-instance" href="/ec-forms/form-instance/{{Pform.id}}?returnUrl=%2Fec-forms%2Fmy-forms&target=_blank" target="_blank" onclick="window.open(this.href, this.target); return false;"></a> <span ng-if="Pform.isPending || Pform.rejectedByUser">{{Pform.name}}</span> <small class="form-user-name" ng-if="!Pform.userIsPrimary" class="form-user-name" ss-icon="user" ng-bind="Pform._employee.name"></small> </h3> <div class="form-meta"> <ul class="gd-row items-2 ss-pipe-children"> <li class="form-meta-item" ng-bind="Pform.stepActionName"></li> <li class="form-meta-item" ng-if="Pform._dueDateUtc"> <strong class="form-due-date" ng-class="{\'{{Pform.dueDateStatus.class}}\': Pform.dueDateStatus}" ng-bind="Pform.dueDateStatus.statusFriendly"></strong> </li> </ul> </div> </div> <div class="form-workflow-status-group"> <div ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <p ng-bind="Pform.formStatus" ng-class="{\'denied\':Pform.isRejected && Pform.isUserStep}" ss-icon="{{Pform.isRejected && Pform.isUserStep ? \'thumbsdown-stripes\' : \'\' }}"></p> </div> <div ng-if="routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <div ng-if="!Pform.isRejected && !Pform.isCompletedAndDenied"> <p ng-bind="Pform.formStatus"></p> </div> <div ng-if="Pform.isRejected || Pform.isCompletedAndDenied"> <div ng-if="Pform.isRejected"> <p ng-if="!Pform.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Step Denied</p> <super-popover ng-if="Pform.hasValidEnhancedDeniedInfo" class="denied" link="Step Denied" ss-icon="thumbsdown-stripes" title="click to view denier info"> <p>Denied by: {{Pform._deniedInfo.denier.name}}</p> <p>Comments: {{Pform._deniedInfo.comments}}</p> </super-popover> </div> <div ng-if="Pform.isCompletedAndDenied"> <p ng-if="!Pform.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Form Denied</p> <super-popover ng-if="Pform.hasValidEnhancedDeniedInfo" class="denied" link="Form Denied" title="click to view denier info" ss-icon="thumbsdown-stripes"> <p>Denied by: {{Pform._deniedInfo.denier.name}}</p> <p>Comments: {{Pform._deniedInfo.comments}}</p> </super-popover> </div> </div> </div> </div> <div class="form-actions-group"> <super-button ng-if="!Pform.isPending" ng-disabled="Pform.rejectedByUser" label="{{Pform.stepActionLabel}}" ng-click="go.complete(Pform)"></super-button> </div> </div> </div> </li> </ul> </div> </li> <li ng-if="vm.showInfScroll" ss-pending="vm.loading" infinite-scroll="scrollData()" infinite-scroll-distance="0.5" infinite-scroll-listen-for-event="forms-inbox.data-loaded"></li> <li class="" ng-if="vm.formsAndPackets.length < 1 && !vm.loading">No Forms or Packets found</li> </ul> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-multiple-employee-search/multiple-employee-search.html",'<div class="cmp-multiple-employee-search"> <super-button ss-icon="users" smp ng-click="go.toggleFilter()" label="{{label}}" is-disabled="model.length > 0" data-qa="add-group-control"></super-button> <div class="multiple-employee-search" ng-class="{\'ss-menu-open\' : vm.formOpened}"> <div class="form-error" ng-if="!model.length && vm.attempted && !vm.filtering" role="alert"><p ss-icon="exclamation-circle">These parameters returned 0 results. Please update and try again.</p></div> <form ng-submit="go.add()"> <div class="form-header"> <h5>Define A Group <span class="effective-date-subheading">Employee information effective as of {{vm.asOf}}</span></h5> <button class="close fa-times-before" ss-icon="times" ng-click="go.toggleFilter()"></button> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-job-type"> <super-multi-filter-list label="With this Job Type" selected="vm.selected.jobType"> <super-multi-filter-list-item ng-repeat="jobType in vm.jobTypes | orderBy:\'_name\'" option="jobType"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-location"> <super-multi-filter-list label="At this Location" selected="vm.selected.location"> <super-multi-filter-list-item ng-repeat="location in vm.locations | orderBy:\'_name\'" option="location"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-employment-group"> <super-multi-filter-list ng-if="!featureFlags[\'isHRMSEnabled\']" label="In this Employment Group" selected="vm.selected.employmentGroup" is-disabled="vm.employmentGroupDisabled"> <super-multi-filter-list-item ng-repeat="group in vm.employmentGroups | orderBy:\'_name\'" option="group"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-department"> <super-multi-filter-list label="In this Department" selected="vm.selected.department"> <super-multi-filter-list-item ng-repeat="department in vm.departments | orderBy:\'_name\'" option="department"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-status"> <super-multi-filter-list label="With this Status" selected="vm.selected.status"> <super-multi-filter-list-item ng-repeat="status in vm.status | orderBy:\'_name\' track by $index" option="status"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p"> <div class="main-label"> <label>Hired within this Date Range</label> </div> <super-input-datepicker class="gd-50p hireDateStart" options="" model="vm.selected.hireDateStart"></super-input-datepicker><span class="gd-5p">–</span> <super-input-datepicker id="hireEndDate" class="gd-45p hireDateEnd" options="vm.endDateOptions" model="vm.selected.hireDateEnd" is-disabled="vm.noStartDate"></super-input-datepicker> </div> </div> <div class="gd-row exclusions"> <div class="main-label"> <label>Exclude these Employees</label> </div> <div> <super-employee-search class="exclusions-search" model="exclusions" use-pill="true"></super-employee-search> </div> </div> <div class="gd-row actions-group"> <div class="gd-50p"> <button type="button" class="clear-all-btn" ng-click="go.clearAllFilters()">Clear All Filters</button> </div> <div class="gd-50p flr"> <super-button data-qa="auto-cancel" label="Cancel" ng-click="go.cancel()" class="close-button" ng-disabled="vm.filtering"></super-button> <super-button data-qa="auto-add-group" ng-if="!model.length" pri class="save-button" ss-pending="vm.filtering" ng-click="go.addGroup()" label="Add Group"></super-button> <super-button data-qa="auto-update-group" ng-if="model.length" pri class="save-button" ss-pending="vm.filtering" ng-click="go.addGroup()" label="Update Group"></super-button> </div> </div> </form> </div> <div> <div class="employee-group" ng-show="model.length > 0"> <span ss-icon="users"> <a ng-click="go.toggleFilter()">Employee Group&nbsp;(<span class="users-count" ng-bind="model.length" data-qa="group-total"></span>)</a> <button type="button" class="remove" ss-icon-after="times" ng-click="routeVm.removeGroup()"></button> </span> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-form-send-status/form-send-status.html",'<div class="cmp-form-send-status" ss-pending="vm.loading" ss-pending-status="\'{{vm.loadingMessage}}\'"> <div class="gd-row batch-status-wrapper"> <div class="batch-info-group"> <p><span ng-bind="vm.sendStatusText"></span>&nbsp;<span ng-if="!vm.hasFailures" ng-pluralize count="batch._includedEmployeeIds.length" when="{\'one\' : \'employee\', \'other\' : \'employees\'}"></span>&nbsp;|&nbsp;Sent by <span ng-bind="batch._creator.name"></span></p> <p class="status-helper-text" ng-if="vm.status._status !== 0" ng-bind-html="vm.statusHelperText"></p> </div> <div class="batch-progress-group"> <div class="batch-progress-wrapper"> <div class="progress-text"> <p ng-if="vm.status._status === 0" role="status">{{vm.numInBatch || 0}}&nbsp;of&nbsp;{{vm.formattedRecipientLength}}&nbsp;prepared</p> <p ng-if="vm.status._status !== 0" role="status">{{vm.numComplete}}&nbsp;of&nbsp;{{vm.formattedRecipientLength}}&nbsp;sent</p> </div> <div class="progress-bar-group"> <div class="progress-bar-container" ng-show="vm.inProgress"><div class="progress-bar" ng-style="{\'width\': vm.percentComplete, \'transition\': \'width 3s\'}" role="progressBar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{vm.percentComplete}}" aria-label="batch progress bar"></div></div> <em class="progress-message" ng-show="!vm.inProgress"><span ng-class="[vm.progressMessageClass]" ng-bind="vm.progressMessage"></span></em> </div> </div> </div> </div> <button type="button" class="hide-batch-control" ng-if="vm.hasFailures" ng-click="go.archiveBatch()" ss-icon="times" aria-label="clear status message for {{form._name}}" title="clear status message for {{form._name}}"></button> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-credentials/properties-credentials.html",'<div class="cmp-properties-credentials"> <h4 class="title-properties">Credential Properties</h4> <div> <super-input-checkbox model="vm.showActive" label="Show only active credentials"></super-input-checkbox> <div class="separator"></div> </div> <div class="gd-row fields" data-qa="property-panel-fields" ng-repeat="f in vm.fields"> <div> <super-input-checkbox model="f._active" ng-click="f._required = false" aria-label="click to {{f._active ? \'hide\':\'show\'}} the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-visibility-control"></super-input-checkbox> <label class="sub-title-properties" ng-bind="f._label"> </div> <table class="active-fld-ctrl-list" ng-if="f._active"> <thead> <tr> <th class="fld-ctrl-active" width="13%"><i ss-icon="eye" aria-label="show or hide fields" title="show or hide fields"></i></th> <th class="fld-ctrl-required" width="13%"><i ss-icon="asterisk" aria-label="is field required?" title="make field required"></i></th> <th class="fld-ctrl-label" width="74%">Field Label</th> </tr> </thead> <tbody> <tr ng-repeat="subF in f.config.fields | filter: go.hideHeadings"> <td class="fld-ctrl-active"> <super-input-checkbox model="subF._active" ng-click="subF._required = false" aria-label="click to {{subF._active ? \'hide\':\'show\'}} the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </td> <td class="fld-ctrl-required"> <super-input-checkbox model="subF._required" is-disabled="subF._fieldType.startsWith(\'readOnly\') || !subF._active" aria-label="click to make the {{subF._label ?  subF._label : subF._placeholderLabel}} field {{subF._required ? \'not \' : null}}required" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-requiredness-control"></super-input-checkbox> </td> <td class="fld-ctrl-label"> <i ss-icon="warning" ng-if="subF._sensitive" data-qa="sensitive-field-icon" aria-label="this is a sensitive field"></i> <super-input-text model="subF._label" ss-validate="validator.label(subF._label)" ss-validate-message="Labels must be 25 characters or less" is-disabled="!subF._active" placeholder="{{subF._placeholderLabel}}" aria-label="{{subF._label ? \'edit the\' : \'enter a\'}} value for the label of the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-overlay-builder-toolbox/overlay-builder-toolbox.html",'<div class="cmp-overlay-builder-toolbox" aria-label="overlay builder tools"> <ul class="tools" ng-show="routeVm.formTemplate._printPreviewDefinition && routeVm.formTemplate._printPreviewDefinition.templateFileId"> <li ng-repeat="t in vm.tools" ng-click="routeVm.selectedTool = t" ng-class="{selected: routeVm.selectedTool === t}" ss-tool-tip="{{t.title}}"><span ss-icon="{{t.icon}}"></span></li> </ul> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-date/properties-custom-date.html",'<div class="cmp-properties-custom-date"> <h4 class="title-properties">Date Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-common/properties-custom-common.html",'<div class="cmp-properties-custom-common"> <div class="gd-row" ng-if="vm.showLabel"> <super-input-text label="Label" model="vm.field._label" placeholder="Enter label text..."></super-input-text> </div> <div class="gd-row" ng-if="vm.showRequired"> <super-input-checkbox label="This is a required field" model="vm.field._required"></super-input-checkbox> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-dropdown/properties-custom-dropdown.html",'<div class="cmp-properties-custom-dropdown"> <h4 class="title-properties">Dropdown Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row"> <cmp-dnd-options field="vm.field" options="vm.field._options"></cmp-dnd-options> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-filelink/properties-custom-filelink.html",'<div class="cmp-properties-custom-filelink"> <h4 class="title-properties">Link Properties</h4> <div class="gd-row"><super-input-text label="Insert a Link" model="field.config.location" ss-validate="vm.validator.requiredUrl(field.config.location)">www.link.com</super-input-text></div> <div class="gd-row"><super-input-text label="Link Name (optional)" model="field.config.name"></super-input-text></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-fileupload/properties-custom-fileupload.html",'<div class="cmp-properties-custom-fileupload"> <h4 class="title-properties">File Upload Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <super-input-textarea label="Instructions" model="vm.field._label" initial-height="90"></super-input-textarea> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-input/properties-custom-input.html",'<div class="cmp-properties-custom-input"> <h4 class="title-properties">Input Text Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-select-list label="Height" model="vm.field._fieldType"> <super-select-list-item ng-repeat="option in vm.heights" value="option.value" label="option.name"></super-select-list-item> </super-select-list> <div ng-show="vm.field._fieldType === \'super-input-textarea\'">Multi-line text cannot be added to a PDF overlay.</div> </div> <div class="gd-row"> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.html",'<div class="cmp-properties-custom-sectionhead"> <h4 class="title-properties">Section Head Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields" show-required="false" show-instructions="false"></cmp-properties-custom-common> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-selectbox/properties-custom-selectbox.html",'<div class="cmp-properties-custom-selectbox"> <h4 class="title-properties">Select Box Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-input-checkbox label="Allow user to select multiple choices" model="vm.field.config.multiple"></super-input-checkbox> </div> <div class="gd-row"> <super-select-list label="Columns" model="vm.field.config.colwidth"> <super-select-list-item ng-repeat="option in vm.cols" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <cmp-dnd-options field="vm.field" options="vm.field._options"></cmp-dnd-options> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-signature/properties-custom-signature.html",'<div class="cmp-properties-custom-signature"> <h4 class="title-properties">Signature Properties</h4> <div class="gd-row"> <p>Whose signature do you need on the form?</p> <ul> <li> <super-input-radio is-disabled="!vm.canAssociateSignatures && vm.signatureDisplay !== \'step-participant\'" data-ng-attr-title="{{!vm.canAssociateSignatures && vm.signatureDisplay !== \'step-participant\' ? \'You do not have permission to select this option, contact your admin if you need access.\': \'\'}}" name="signature-type" label="Step Participant" model="vm.signatureDisplay" value="step-participant" data-test="step-participant"> </super-input-radio> </li> <li> <super-input-radio is-disabled="!vm.canAssociateSignatures" data-ng-attr-title="{{!vm.canAssociateSignatures ? \'You do not have permission to select this option, contact your admin if you need access.\': \'\'}}" name="signature-type" label="Add from saved signatures" model="vm.signatureDisplay" value="saved-signatures" data-test="saved-signatures"> </super-input-radio> </li> </ul> <cmp-properties-custom-common fields="fields" ng-if="vm.signatureDisplay === \'step-participant\'"></cmp-properties-custom-common> <div ng-if="vm.signatureDisplay === \'saved-signatures\' && vm.canAssociateSignatures"> <super-multi-filter-list label="Signatures" selected="vm.selectedSignatures" is-disabled="vm.loadingDropdown"> <super-multi-filter-list-item ng-repeat="signature in vm.allSignatures track by $index" option="signature"></super-multi-filter-list-item> </super-multi-filter-list> <h4>Layout</h4> <button type="button" class="orientation" ng-class="{\'selected\': vm.orientation === \'h\'}" ng-click="vm.orientation = \'h\'" ss-icon="ellipsis-h" ng-disabled="!vm.selectedSignatures.length"></button> <button type="button" class="orientation" ng-class="{\'selected\': vm.orientation === \'v\'}" ng-click="vm.orientation = \'v\'" ss-icon="ellipsis-v" ng-disabled="!vm.selectedSignatures.length"></button> <h4>Reorder</h4> <ul class="signature-list-added" dnd-list="vm.selectedSignatures" dnd-drop="go.dropSignature(event, index, type, item)"> <li ng-if="vm.selectedSignatures.length < 1">There are no signatures selected yet</li> <li class="gd-row auto-{{ signature.id }}" ng-repeat="signature in vm.selectedSignatures"> <span ss-icon="navicon" dnd-effect-allowed="move" dnd-draggable="signature" dnd-moved="go.moveOption($index, option)" dnd-type="\'addedType\'">{{signature._name}} ({{signature._title}})</span> </li> </ul> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-text/properties-custom-text.html",'<div class="cmp-properties-custom-text"> <h4 class="title-properties">Text Properties</h4> <super-input-textarea placeholder="Enter text..." model="vm.field._label" ss-validate="go.validate(vm.field)"></super-input-textarea> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> <super-input-checkbox label="Map Text in Overlay Builder" model="vm.field.config.mappable"></super-input-checkbox> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-emp-record/properties-emp-record.html",'<div class="cmp-properties-emp-record"> <button type="button" class="smp" ss-toggle="emp-record-content" ss-toggle-start-expanded="{{vm.commit}}" data-qa="employee-record-toggle">Employee Profile</button> <div class="emp-record-content"> <super-input-checkbox is-disabled="!vm.hasExternalData || !canEdit" model="vm.commit" label="Commit submitted data to Employee\'s profile." data-qa="employee-record-toggle-checkbox"></super-input-checkbox> <super-popover>If enabled, this will overwrite any existing data in the Employee\'s profile. This control will be disabled for for read-only fields and for fields that do not have corresponding fields in the employee record.</super-popover> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-notifications/properties-notifications.html",'<div class="cmp-properties-notifications"> <button type="button" class="smp" ss-toggle-start-expanded="true" ng-disabled="step._stepAction == null" ss-toggle="step-action-content" aria-controls="properties-step-action-content">Step Actions</button> <div id="properties-step-action-content" class="step-action-content"> <div ng-repeat="event in vm.stepEvents"> <div ng-if="step._stepAction === event.eventActionEnum"> <h5><em ng-bind="event.title"></em></h5> <ul class="submit-fld-ctrl-list" data-auto="{{event.dataAuto}}"> <li ng-repeat="action in event.eventActions" class="fld-ctrl-item" data-auto="{{action.dataAuto}}"> <super-input-checkbox label="{{:: action.title }}" model="action.checked" ng-click="go.eventClicked(event, action)" is-disabled="action.isDisabled()"></super-input-checkbox> <super-employee-search ng-if="action.checked && action.emails" model="action.emails" use-pill="true" placeholder="Search by name"> </super-employee-search> </li> </ul> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-form-complete/properties-form-complete.html",'<div class="cmp-properties-form-complete"> <h4 class="title-properties">{{step._name}} - Properties</h4> <div class="gd-row"> <super-input-checkbox label="Add completed form to recipient\'s Employee Profile (will appear in Personnel File)" model="vm.addToEmpRecord"></super-input-checkbox> </div> <div class="gd-row" ng-if="vm.addToEmpRecord"> <super-select-list model="vm.webFormSubCategory"> <super-select-list-item type="heading" label="\'Personnel Documents\'"></super-select-list-item> <super-select-list-item ng-repeat="item in vm.personnel.enums" value="\'0-\' + item.value" label="item.name"></super-select-list-item> <super-select-list-item type="heading" label="\'Medical Documents\'"></super-select-list-item> <super-select-list-item ng-repeat="item in vm.medical.enums" value="\'1-\' + item.value" label="item.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row"> <h5><em>On Complete</em></h5> <ul class="actions"> <li class="fld-ctrl-item"><super-input-checkbox label="Email Employee" model="actions.emailEmployee"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Form Sender" model="actions.emailFormSender"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Employee\'s Supervisor" model="actions.emailSupervisor"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Others" model="actions.emailOthers"></super-input-checkbox></li> </ul> <super-employee-search model="actions.emailIds" ng-if="actions.emailOthers" use-pill="true" placeholder="Search by name"></super-employee-search> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-properties-profile-review/properties-profile-review.html",'<div class="cmp-properties-profile-review"> <h4 class="title-properties">Review Profile Updates</h4> <div class="gd-row auto-step-participants"> <div class="super-select-list"> <div class="main-label"><label>Main Step Participant</label></div> <button type="button" class="super-button std" ss-menu="select-menu" hide-on-select> <label ss-icon-after="caret-down" ng-bind="vm.buttonLabel"></label> </button> <div class="select-menu"> <ul class="select-menu-list"> <li class="super-select-list-item select-menu-list-item" ng-repeat="option in vm.stepParticipant" ng-click="go.selectParticipant(option)"> {{option.name}} <small ng-if="option.desc" ng-bind="option.desc"></small> </li> </ul> </div> </div> <super-employee-search id="step-participant-search" model="vm.specificParticipant" ss-validate="vm.validator.required(vm.specificParticipant[0], \'Step Participant\')" limit="1" ng-if="step._stepParticipant.participantType === vm.stepParticipantType.specificPerson" placeholder="Search by name"></super-employee-search> </div> <div class="gd-row auto-action-performed"> <div class="main-label"> <label>Action Performed</label> </div> <p>Review Employee Profile Updates</p> </div> <cmp-properties-notifications step="step"></cmp-properties-notifications> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-primary-assignment/properties-primary-assignment.html",'<div class="cmp-properties-primary-assignment"> <h4 class="title-properties">Primary Assignment Properties</h4> <div class="gd-row"><super-input-text label="Instructions" model="fields[1]._label"></super-input-text></div> <table> <tbody class="active-fld-ctrl-list" ng-repeat="f in fields | filter: go.showActionableFields" ng-class="{\'header-body\': f._fieldType == \'readOnlyHeading\' || f._fieldType == \'readOnlySubheading\'}"> <tr ng-if="f._fieldType == \'readOnlyHeading\' || f._fieldType == \'readOnlySubheading\'"> <td class="fld-ctrl-active"> <div> <super-input-checkbox model="f._active" aria-label="click to {{f._active ? \'hide\':\'show\'}} the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </div> </td> <td class="fld-ctrl-label"> <label class="sub-title-properties" ng-bind="f._label"> </td> </tr> <tr ng-if="(f._fieldType == \'readOnlyHeading\' || f._fieldType == \'readOnlySubheading\')"> <th class="fld-ctrl-active" width="13%"><i ss-icon="eye" aria-label="show or hide fields" title="show or hide fields"></i></th> <th class="fld-ctrl-label" width="87%">Field Label</th> </tr> <tr ng-if="go.checkIfHeadingOrInstructions(f)" class="active-fld-ctrl-item" tabindex="0" aria-label="configure the {{f._label ?  f._label : f._placeholderLabel}} field"> <td class="fld-ctrl-active" ng-if="go.checkIfHeadingOrInstructions(f)"> <super-input-checkbox model="f._active" ng-click="f._required = false" aria-label="click to {{f._active ? \'hide\':\'show\'}} the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </td> <td class="fld-ctrl-label" ng-if="go.checkIfHeadingOrInstructions(f)"> <i ss-icon="warning" ng-if="f._sensitive" data-qa="sensitive-field-icon" aria-label="this is a sensitive field"></i> <super-input-text model="f._label" ss-validate="validator.label(f._label)" ss-validate-message="Labels must be 30 characters or less" is-disabled="!f._active" placeholder="{{f._placeholderLabel}}" aria-label="{{f._label ? \'edit the\' : \'enter a\'}} value for the label of the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-secondary-assignments/properties-secondary-assignments.html",'<div class="cmp-properties-secondary-assignments"> <div class="main-header"> <h4 class="title-properties">Secondary Assignment(s) Properties</h4> <super-popover class="header-popover">Secondary assignment fields cannot be mapped within the PDF Overlay Builder.</super-popover> </div> <div class="gd-row"><super-input-text label="Instructions" model="vm.fields[0].config.fields[1]._label"></super-input-text></div> <div class="gd-row fields" data-qa="property-panel-fields"> <table class="active-fld-ctrl-list"> <tbody ng-repeat="subF in vm.fields[0].config.fields | filter: go.hideInstructions" ng-class="{\'header-body\': subF._fieldType == \'readOnlyHeading\' || subF._fieldType == \'readOnlySubheading\'}"> <tr ng-if="subF._fieldType == \'readOnlyHeading\' || subF._fieldType == \'readOnlySubheading\'"> <td class="fld-ctrl-active"> <div> <super-input-checkbox model="subF._active" aria-label="click to {{subF._active ? \'hide\':\'show\'}} the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </div> </td> <td class="fld-ctrl-label"> <label class="sub-title-properties" ng-bind="subF._label"> </td> </tr> <tr ng-if="(subF._fieldType == \'readOnlyHeading\' || subF._fieldType == \'readOnlySubheading\')"> <th class="fld-ctrl-active" width="13%"><i ss-icon="eye" aria-label="show or hide fields" title="show or hide fields"></i></th> <th class="fld-ctrl-label" width="87%">Field Label</th> </tr> <tr ng-if="go.checkIfHeadingOrInstructions(subF)"> <td class="fld-ctrl-active" ng-if="go.checkIfHeadingOrInstructions(subF)"> <super-input-checkbox model="subF._active" ng-click="subF._required = false" aria-label="click to {{subF._active ? \'hide\':\'show\'}} the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </td> <td class="fld-ctrl-label"> <i ss-icon="warning" ng-if="subF._sensitive" data-qa="sensitive-field-icon" aria-label="this is a sensitive field"></i> <super-input-text model="subF._label" ss-validate="validator.label(subF._label)" ss-validate-message="Labels must be 25 characters or less" is-disabled="!subF._active" placeholder="{{subF._placeholderLabel}}" aria-label="{{subF._label ? \'edit the\' : \'enter a\'}} value for the label of the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-salary/properties-salary.html",'<div class="cmp-properties-salary"> <div class="main-header"> <h4 class="title-properties">Total Salary Properties</h4> <super-popover class="header-popover">This form field summarizes salary amounts for the Primary Assignment, Secondary Assignment(s), or both.</super-popover> </div> <div class="gd-row"><super-input-checkbox label="Display section label" model="fields[0]._active"></super-input-checkbox></div> <div class="gd-row"><super-input-text label="Instructions" model="fields[1]._label"></super-input-text></div> <div class="gd-row fields" data-qa="property-panel-fields"> <table> <thead> <tr> <th class="fld-ctrl-label">Field Label</th> </tr> </thead> <tbody class="active-fld-ctrl-list"> <tr class="active-fld-ctrl-item" ng-repeat="f in actionableFields" tabindex="0" aria-label="configure the {{f._label ?  f._label : f._placeholderLabel}} field"> <td class="fld-ctrl-label"> <super-input-text model="f._label" ss-validate="validator.label(f._label)" ss-validate-message="Labels must be 30 characters or less" is-disabled="!f._active" placeholder="{{f._placeholderLabel}}" aria-label="{{f._label ? \'edit the\' : \'enter a\'}} value for the label of the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-smart/properties-smart.html",'<div class="cmp-properties-smart"> <h4 class="title-properties">{{fields[0]._label}} Properties</h4> <div class="gd-row"><super-input-checkbox label="Display section label" model="fields[0]._active"></super-input-checkbox></div> <div class="gd-row"><super-input-text label="Instructions" model="fields[1]._label"></super-input-text></div> <div class="gd-row"> <super-input-checkbox label="fields are editable" model="vm.canEdit" ng-click="go.switchFieldTypes(vm.canEdit)" is-disabled="!vm.canToggleFieldTypes" data-qa="toggle-field-type"></super-input-checkbox> </div> <div class="gd-row fields" data-qa="property-panel-fields"> <table> <thead> <tr> <th class="fld-ctrl-active" width="13%"><i ss-icon="eye" aria-label="show or hide fields" title="show or hide fields"></i></th> <th class="fld-ctrl-required" width="13%"><i ss-icon="asterisk" aria-label="is field required?" title="make field required"></i></th> <th class="fld-ctrl-label" width="74%">Field Label</th> </tr> </thead> <tfoot ng-if="vm.hasSensitiveFields"> <tr> <td colspan="3"> <p class="sensitive-field-label" ss-icon="warning" aria-describedby="sensitive-field-description">Sensitive Fields</p> <super-popover aria-label="click here for more information regaridng sensitive fields"> <p id="sensitive-field-description">If "view" access for any sensitive field is not enabled, that field will display as redacted</p> </super-popover> </td> </tr> </tfoot> <tbody class="active-fld-ctrl-list"> <tr class="active-fld-ctrl-item" ng-repeat="f in actionableFields" tabindex="0" aria-label="configure the {{f._label ?  f._label : f._placeholderLabel}} field"> <td class="fld-ctrl-active"> <super-input-checkbox model="f._active" ng-click="f._required = false" aria-label="click to {{f._active ? \'hide\':\'show\'}} the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </td> <td class="fld-ctrl-required"> <super-input-checkbox model="f._required" is-disabled="f._fieldType.startsWith(\'readOnly\') || !f._active" aria-label="click to make the {{f._label ?  f._label : f._placeholderLabel}} field {{f._required ? \'not \' : null}}required" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-requiredness-control"></super-input-checkbox> </td> <td class="fld-ctrl-label"> <i ss-icon="warning" ng-if="f._sensitive" data-qa="sensitive-field-icon" aria-label="this is a sensitive field"></i> <super-input-text model="f._label" ss-validate="validator.label(f._label)" ss-validate-message="Labels must be 30 characters or less" is-disabled="!f._active" placeholder="{{f._placeholderLabel}}" aria-label="{{f._label ? \'edit the\' : \'enter a\'}} value for the label of the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> <cmp-properties-emp-record ng-if="routeVm.featureFlags.isFCSystemOfRecord" fields="fields" can-edit="vm.canEdit"></cmp-properties-emp-record> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-step/properties-step.html",'<div class="cmp-properties-step"> <h4 class="title-properties">Workflow Step {{step.index}} - Properties</h4> <div class="gd-row auto-step-name"> <super-input-text label="Name" model="step._name"></super-input-text> </div> <div class="gd-row auto-step-instructions"> <super-input-text label="Instructions" model="step._instructions"></super-input-text> </div> <div class="gd-row auto-step-participants"> <div class="super-select-list"> <div class="main-label"><label>Step Participant</label></div> <button type="button" class="super-button std" ss-menu="select-menu" hide-on-select> <label ss-icon-after="caret-down" ng-bind="vm.buttonLabel"></label> </button> <div class="select-menu"> <ul class="select-menu-list"> <li class="super-select-list-item select-menu-list-item" ng-repeat="option in vm.stepParticipant.getEnums()" ng-click="go.selectParticipant(option)"> {{option.name}} <small ng-if="option.desc" ng-bind="option.desc"></small> </li> </ul> </div> </div> <p class="support-text" ng-if="step._stepParticipant.participantType === vm.stepParticipant.primaryRecipientChosenWhenSent">Employee is the "main actor" around which the form revolves</p> <super-employee-search model="vm.specificParticipant" ss-validate="vm.validator.required(vm.specificParticipant[0], \'Step Participant\')" limit="1" ng-if="step._stepParticipant.participantType === vm.stepParticipant.specificPerson" placeholder="Search by name"></super-employee-search> </div> <div class="gd-row auto-action-performed"> <super-select-list label="Action Performed" model="step._stepAction"> <super-select-list-item ng-repeat="option in vm.stepActions" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <cmp-properties-step-permissions step="step" form="form"></cmp-properties-step-permissions> <cmp-properties-notifications step="step"></cmp-properties-notifications> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-text-editor/properties-text-editor.html",'<div class="cmp-properties-text-editor"> <p ng-click="go.click()">this is great {{ vm.test }}</p> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-step-permissions/properties-step-permissions.html",'<div class="cmp-properties-step-permissions"> <button class="smp" type="button" ss-toggle="permissions-content-toggle" ss-toggle-start-expanded>Step Access</button> <div class="permissions-content-toggle"> <table> <thead> <tr> <th class="participant">Participant can...</th> <th class="edit">Edit</th> <th class="view">View</th> </tr> </thead> <tfoot ng-if="vm.hasSensitiveFields"> <tr> <td colspan="3"> <i class="fa-warning"></i><strong>Sensitive Fields</strong> <super-popover> <p>If "view" is not enabled, sensitive fields (i.e. SSN) will be redacted</p> </super-popover> </td> </tr> </tfoot> <tbody ng-repeat="p in step._permissions" ng-class="{\'selected\': go.matchByParticipant(p, step._stepParticipant)}" data-auto="{{p.display}}"> <tr class="permissions-content"> <td valign="middle" class="name" ng-bind="p.display || \'None added\'"></td> <td valign="middle" class="edit"> <super-input-checkbox model="p.canEdit" ng-click="go.adjustStepAccess(\'canEdit\', p)" is-disabled="go.matchByParticipant(p, step._stepParticipant)"> </super-input-checkbox> </td> <td valign="middle" class="view"> <super-input-checkbox model="p.canView" ng-click="go.adjustStepAccess(\'canView\', p)" is-disabled="go.matchByParticipant(p, step._stepParticipant)"> </super-input-checkbox> </td> </tr> <tr ng-if="vm.hasSensitiveFields" class="sensitive-field-access"> <td valign="middle" class=""> <i class="fa-warning"></i>Sensitive Fields </td> <td valign="middle" class="edit"> <super-input-checkbox model="p.canEditSensitive" ng-click="go.adjustStepAccess(\'canEditSensitive\', p)" is-disabled="!p.canView"> </super-input-checkbox> </td> <td valign="middle" class="view"> <super-input-checkbox model="p.canViewSensitive" ng-click="go.adjustStepAccess(\'canViewSensitive\', p)" is-disabled="!p.canView"> </super-input-checkbox> </td> </tr> </tbody> <tbody ng-if="!step._permissions || !step._permissions.length"> <tr> <td class="name">None added</td> <td class="edit"> <super-input-checkbox is-disabled="true"> </super-input-checkbox> </td> <td class="view"> <super-input-checkbox is-disabled="true"></super-input-checkbox> </td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-secondary-assignment/secondary-assignment.html",'<div ng-class="vm.formfieldvalues ? \'cmp-secondary-assignment\' : \'\'" ng-show="vm.visibility"> <dl ng-if="!vm.formfieldvalues"> <h4 ng-if="field._fieldType == \'readOnlyHeading\'" class="field-header"> {{field._label}} <em>Read-only</em> </h4> <h5 ng-if="field._fieldType == \'readOnlySubheading\'" class="field-header"> {{field._label}} <em>Read-only</em> </h5> <p ng-if="field._fieldType == \'instructions\'" ng-bind="field._label"></p> <div ng-if="go.checkIfHeadingOrInstructions(field)"> <dt ng-bind="field._label" class="field-label"></dt> <dd ng-if="field._fieldType == \'readOnlyDate\'">--/--/--</dd> <dd ng-if="field._fieldType != \'readOnlyDate\'">--</dd> </div> </dl> <dl ng-if="vm.formfieldvalues"> <div ng-repeat="subField in field.config.fields" ng-style="{\'width\': subField.config.width}" class="assignment-property" ng-show="subField._active"> <h4 ng-if="subField._fieldType == \'readOnlyHeading\'" class="field-header"> {{subField._label}} <em>Read-only</em> </h4> <p ng-if="field._fieldType == \'instructions\'" ng-bind="field._label"></p> <h5 ng-if="subField._fieldType == \'readOnlySubheading\'" class="sub-field-header"> {{field._label}} <em>Read-only</em> </h5> <dt ng-if="go.checkIfHeadingOrInstructions(subField)" class="field-label" ng-bind="subField._label"></dt> <dd ng-if="go.checkIfHeadingOrInstructions(subField) && subField._fieldType != \'readOnlyDate\'" class="field-value" ng-bind="formfieldvalues[subField._formFieldValueProperty] ? formfieldvalues[subField._formFieldValueProperty] : \'--\'"></dd> <dd ng-if="go.checkIfHeadingOrInstructions(subField) && subField._fieldType == \'readOnlyDate\'" class="field-value" ng-bind="formfieldvalues[subField._formFieldValueProperty] ? formfieldvalues[subField._formFieldValueProperty] : \'--/--/--\'"></dd> </div> </dl> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-secondary-assignments/secondary-assignments.html",'<fieldset class="cmp-secondary-assignments"> <div ng-if="!vm.formFieldValues" ng-class="!vm.formfieldvalues ? \'assignment-group\' : \'\'"> <cmp-secondary-assignment ng-repeat="field in field.config.fields" field="field" ng-style="{\'width\': field.config.width}" class="assignment-property"></cmp-secondary-assignment> </div> <cmp-secondary-assignment ng-if="vm.formFieldValues" ng-repeat="ffv in vm.formFieldValues" formfieldvalues="ffv" field="field"></cmp-secondary-assignment> </fieldset> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-step-checkbox-display/step-checkbox-display.html",'<div class="cmp-step-checkbox-display"> <section class="fieldgroup" ng-if="go.showGroup(group)" ng-repeat="group in step.fieldGroups"> <h5 ng-bind="group.fieldGroupName" class="fieldgroup-title" ss-toggle="fields-container" ss-toggle-start-expanded="{{onLoad({group: group})}}"></h5> <div class="fields-container"> <div ng-repeat="field in group.fields | orderBy:group.config.orderBy:false"> <h6 ng-bind="go.numerateLabel(field, group.fields)" class="title" ng-if="field._options.length > 0"></h6> <ol class="fields-list"> <li ng-repeat="opt in field._options" class="field"> <div class="truncation-wrapper"> <div class="super-input-radio"> <input id="chk-{{field.id}}-{{opt}}" type="radio" ng-checked="go.isSelected(field, opt)" ng-click="go.selectOption(field, opt)"> <label ng-bind="opt" for="chk-{{field.id}}-{{opt}}" id="chk-{{field.id}}-{{opt}}-label" class="fa" title="{{:: opt}}"></label> </div> </div> </li> </ol> </div> </div> </section> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-step-date-display/step-date-display.html",'<div class="cmp-step-date-display"> <section class="fieldgroup" ng-repeat="group in step.fieldGroups"> <h5 ng-bind="group.fieldGroupName" class="fieldgroup-title" ss-toggle="fields-container" ss-toggle-start-expanded="{{onLoad({group: group})}}"></h5> <div class="fields-container"> <ol class="fields-list"> <li ng-repeat="field in group.fields | orderBy:group.config.orderBy:false" class="field"> <div class="super-input-radio"> <input id="chk-{{field.id}}-{{opt}}" type="radio" ng-checked="field.isAdded" ng-click="go.selectOption(field)"> <label ng-bind="go.numerateLabel(field, group.fields)" for="chk-{{field.id}}-{{opt}}" id="chk-{{field.id}}-{{opt}}-label" class="fa" title="{{:: opt}}"></label> </div> </li> </ol> </div> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-step-renderer/step-renderer.html",'<section class="fb-step cmp-step-renderer" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': routeVm.vm.selectedFormObject === step}"> <header class="fb-step-header" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false"> <h4 class="fb-step-title">Workflow Step {{vm.stepIndex + 1}} <span ng-if="step._name">-</span> {{step._name}}</h4> <p class="fb-step-instructions" ng-if="step._instructions" ng-bind="step._instructions"></p> <div class="fb-step-meta"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="vm.participantLabel" data-qa="step-participant-assignee"></li> <li ss-icon="wrench">{{step._stepAction | enumByValue: \'stepAction\'}}</li> </ul> </div> <div class="fb-actions fb-step-actions"> <i class="drag-handle" ss-icon="navicon" role="presentation"></i> <b role="presentation">Properties</b> <button type="button" class="ctrl-remove" ss-icon-after="trash-o" ng-if="routeVm.vm.steps.length > 1" ng-click="go.removeStep($event, vm.stepIndex, routeVm.vm.steps)"></button> </div> </header> <ul class="fb-field-groups" dnd-list="step.fieldGroups" dnd-drop="go.dropFieldGroup(event, index, item, type, step)" dnd-allowed-types="[\'fieldType\', \'fieldGroup\']"> <li class="fb-field-group-empty" ng-if="!step.fieldGroups.length"> <i>Drag a field from the left column to add to this workflow step.</i> </li> <li class="fb-field-group" ng-repeat="group in step.fieldGroups" dnd-draggable="group" dnd-moved="go.movedFieldGroup($index, group, step)" dnd-type="\'fieldGroup\'" dnd-effect-allowed="move" ng-click="go.fieldGroupSettings($event, group)" ng-class="{\'is-selected\': routeVm.vm.selectedFormObject === group}"> <dnd-nodrag> <div class="fb-actions fb-field-actions" dnd-handle> <i class="drag-handle" ss-icon="navicon"></i> <b role="presentation">Properties</b> <button type="button" class="ctrl-remove" ss-icon-after="trash-o" ng-click="go.removeFieldGroup(group, step)"></button> </div> <cmp-template-field-renderer ng-repeat="field in group" field="field" group="group"></cmp-template-field-renderer> </dnd-nodrag> </li> </ul> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-step-text-display/step-text-display.html",'<div class="cmp-step-text-display"> <section class="fieldgroup" ng-repeat="group in step.fieldGroups"> <h5 ng-bind="group.fieldGroupName" class="fieldgroup-title" ss-toggle="fields-container" ss-toggle-start-expanded="{{onLoad({group: group})}}"></h5> <div class="fields-container"> <ol class="fields-list"> <li ng-repeat="field in group.fields | filter:go.filterUnmappable | orderBy:group.config.orderBy:false" class="field"> <div class="truncation-wrapper"> <super-input-checkbox title="{{:: field._label }}" label="{{go.numerateLabel(field, group.fields)}}" model="field.isAdded" ng-click="go.selectField(field)"></super-input-checkbox> </div> </li> </ol> </div> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-template-field-renderer/template-field-renderer.html",'<div class="cmp-template-field-renderer {{field._fieldType}}" ng-show="vm.visibility" ng-style="vm.style" ng-class="{\'hide\': !vm.visibility}" ss-validate="go.validate(field)" ss-bind-html="vm.template"></div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-template-list-form/template-list-form.html",'<div class="cmp-template-list-form" ss-pending="template.isPending" ss-pending-status="vm.pendingMessage" ng-class="{\'highlight\': template.isHighlighted}"> <div class="template-details"> <div class="template-icon" ng-if="!template._isEmployeeInitiated"><i ss-icon-before="li-form-large"></i></div> <div class="template-icon" ng-if="template._isEmployeeInitiated"><i ss-icon-before="li-form-e-large"></i></div> <div class="template-info"> <h3 class="template-name"><a ng-href="" ng-click="go.preview(template)" ng-bind="template._name"></a></h3> <div class="form-meta" data-auto-due-date="{{ template._modifiedDt }}"> <ul class="ss-pipe-children"> <li ng-if="template._fromFrontlineLibrary" class="frontline-template" ss-icon="logo-frontline-small">Frontline</li><li ng-if="template._category.name.length > 0" class="form-meta-item" ng-bind="template._category.name"></li><li class="form-meta-item" ng-if="template._steps.length"> Workflow (<span ng-bind="template._steps.length"></span> <ng-pluralize count="template._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow Steps</h6> <ul class="popover-step-list" ng-if="template._steps.length"> <li ng-repeat="step in template._steps track by $index"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step.participantLabel"></span><span ng-bind="step.stepActionLabel"></span> </li> </ul> <p ng-if="!template._steps.length">No Workflow Steps</p> </div> </super-popover> </li><li class="form-meta-item"> <span>Modified {{template.modifiedText}}</span><span ng-if="template._modifier.name">&nbsp;by&nbsp;<span ng-bind="template._modifier.name"></span></span> </li><li class="form-meta-item" ng-if="template._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> </div> <div class="template-status" ng-if="template.status"> <strong ng-class="{\'{{template.status}}\': template.status}" ng-bind="template.statusLabel"></strong> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-primary-action"> <super-button label="Send" ng-if="template.status === \'active\'" ng-click="go.send(template)" ss-permitted-route="/ec-forms/send/FormTemplate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></super-button> <super-button label="Edit" ng-if="template.status === \'inactive\'" ng-click="go.edit(template)" ss-permitted="formTemplates.edit"></super-button> </li> <li class="template-action-list-item template-action-menu"> <super-button ss-icon-after="angle-down"> <item ng-click="go.preview(template)">Preview Form</item> <item ss-permitted="formTemplates.startForMyself" ng-if="template._isEmployeeInitiated && template.status === \'active\'" ng-click="go.sendToSelf(template)">Start Form (about myself)</item> <item class="menu-separator"></item> <item ng-click="go.edit(template)" ss-permitted="formTemplates.edit">Edit Template</item> <item ng-click="go.copy(template)" ss-permitted="formTemplates.create">Create Copy</item> <item ng-click="go.share()" ng-if="go.canShare(template)">Share Template</item> <item ng-click="go.deactivate(template)" ng-if="template.status === \'active\'" ss-permitted="formTemplates.edit">Deactivate Template</item> <item ng-click="go.archive(template)" ss-permitted="formTemplates.archive">Archive Template</item> <item ng-click="go.delete(template)" ss-permitted="formTemplates.delete">Delete Template</item> </super-button> </li> </ul> </div> </div> <cmp-fl-share-form ss-modal-view ng-if="vm.showShare" template="template"></cmp-fl-share-form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-template-list-packet/template-list-packet.html",'<div class="cmp-template-list-packet"> <div class="template-details"> <div class="template-icon"><i ss-icon-before="li-packet-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a ng-bind="template._name" ng-click="go.toggleDetails(template)"></a> <small> - Packet</small> </h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li ng-if="template._category.name.length > 0" class="form-meta-item" ng-bind="template._category.name"></li> <li class="form-meta-item" ng-if="template.packetCount">{{template.packetCount}}&nbsp; <ng-pluralize count="template.packetCount" when="{\'1\': \'form\', \'other\': \'forms\'}"></ng-pluralize> </li> <li class="form-meta-item"> <span>Modified {{template.modifiedText}}</span><span ng-if="template._modifier.name">&nbsp;by&nbsp;<span ng-bind="template._modifier.name"></span></span> </li> </ul> </div> <super-button smp class="details-toggle" label="{{template.detailsOpen === false ? \'Show\' : \'Hide\'}} Details" ss-icon-after="{{template.detailsOpen === false ? \'angle-down\': \'angle-up\'}}" ng-click="go.toggleDetails(template)"></super-button> </div> <div class="template-status"> <strong ng-class="{\'{{template.status}}\': template.status}" ng-bind="template.statusLabel"></strong> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-primary-action"> <super-button label="Send" ng-if="template.status === \'active\'" ng-click="go.send(template)" ss-permitted-route="/ec-forms/send/Packet/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></super-button> <super-button label="Edit" ng-if="template.status === \'inactive\'" ng-click="go.editPacket(template)" ss-permitted="packets.edit"></super-button> </li> <li class="template-action-list-item template-action-menu" ng-if="template.status !== \'inactive\'" ss-permitted="packets.edit"> <super-button ss-icon-after="angle-down"> <item ng-click="go.editPacket(template)">Edit Packet</item> </super-button> </li> </ul> </div> </div> <div ng-if="template.detailsOpen" ss-pending="template.loading" class="packet-details"> <ul> <li class="packet-details-item" ng-show="template.contents.forms.length < 1 && !template.loading"> <p>No Forms are associated with this Package</p> </li> <li class="packet-details-item" ng-show="template.contents.forms.length > 0 && !template.loading" ng-repeat="form in template.contents.forms" ss-pending="form.isPending" ss-pending-status="form.pendingMessage"> <div class="template-details"> <div class="template-icon" ng-if="!form._isEmployeeInitiated"><i ss-icon-before="li-form-large"></i></div> <div class="template-icon" ng-if="form._isEmployeeInitiated"><i ss-icon-before="li-form-e-large"></i></div> <div class="template-info"> <h3 class="template-name"><a ng-href="" ng-click="go.preview(form)" ng-bind="form._name"></a></h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li class="form-meta-item" ng-if="form._category.name.length > 0" ng-bind="form._category.name"></li> <li class="form-meta-item" ng-if="form._steps.length"> Workflow (<span ng-bind="form._steps.length"></span> <ng-pluralize count="form._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow <ng-pluralize count="form._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize> </h6> <ul class="popover-step-list"> <li ng-repeat="step in form._steps track by $index"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step.participantLabel"></span> <span ng-bind="step.stepActionLabel"></span> </li> </ul> </div> </super-popover> </li> <li class="form-meta-item"> <span>Modified {{form.modifiedText}}</span><span ng-if="form._modifier.name">&nbsp;by&nbsp;<span ng-bind="form._modifier.name"></span></span> </li> <li class="form-meta-item" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> </div> <div class="template-action-list-item template-status template-status-packet"> <strong ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.statusLabel"></strong> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-primary-action"> <super-button label="Edit" ng-click="go.editForm(form)" ss-permitted="formTemplates.edit"></super-button> </li> </ul> </div> </div> </li> </ul> </div> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-tracked-form/tracked-form.html",'<div class="cmp-tracked-form" data-auto-due-date="{{ form._dueDateUtc }}" data-auto-create-date="{{ form._createdUtc }}"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': form.isRejected, \'{{form.dueDateStatus.class}}\' : form.dueDateStatus && !form.isComplete && !form.isRejected}"> <div class="form-item-details"> <div class="form-item-group form-recipient-group" data-qa="form-recipient-group"> <h4 ng-if="!vm.showContactToggle && form._employee.meta.permissions.permittedActions.view"><a href="" ng-click="go.resolveEmpRecordPath()" ng-bind="form.primaryRecipient.name || \'N/A\'"></a></h4> <h4 ng-if="!vm.showContactToggle && !form._employee.meta.permissions.permittedActions.view" ng-bind="form.primaryRecipient.name || \'N/A\'"></h4> <div class="contact-toggle-group" ng-if="vm.showContactToggle" data-qa="contact-toggle-group"> <h4 ss-menu="contact-details"><a class="toggle-ctrl" ng-click="go.toggleContact()" ng-bind="form.primaryRecipient.name || \'N/A\'"></a></h4> <div class="select-menu contact-details" ss-pending="vm.loadingContact"> <h4 data-auto="contact-name"><strong ng-bind="\'Contact \' + form.primaryRecipient.name"></strong></h4> <p data-auto="contact-phone" ng-if="form._employee.meta.permissions.permittedActualProperties.phoneNumbers" ss-icon="phone" ng-bind="vm.empPhone"></p> <p data-auto="contact-email" ng-if="form._employee.meta.permissions.permittedActualProperties.emails" ss-icon="envelope" ng-bind="vm.empEmail"></p> <a ng-if="form._employee.meta.permissions.permittedActions.view" href="" ng-click="go.resolveEmpRecordPath()">View Employee Profile</a> </div> </div> </div> <div class="form-item-group form-name-group"> <h4 class="form-name" ss-icon-before="{{go.resolveFormIcon()}}" ng-if="!form.isPacket"> <a ng-bind="form.name" title="Open {{form.name}}" data-test="form-instance" href="/ec-forms/form-instance/{{form.id}}?returnUrl=%2Fec-forms%2Fform-tracking&target=_blank" target="_blank" onclick="window.open(this.href, this.target); return false;"></a> </h4> <h4 class="form-name" ng-if="form.isPacket" ss-icon-before="li-packet-large"><a ng-click="vm.openDetails = !vm.openDetails" ng-bind="form.name"></a></h4> <button ng-if="form.isPacket" smp class="details-toggle" ss-icon-after="{{vm.openDetails === false ? \'angle-down\': \'angle-up\'}}" ng-click="vm.openDetails = !vm.openDetails">{{vm.openDetails === false ? \'Show\' : \'Hide\'}} Details</button> </div> <div class="form-item-group form-due-group" data-auto-due-date="{{form._dueDateUtc}}"> <ul> <li class="form-meta-item" ng-if="form._dueDateUtc && !form.isComplete"> <strong class="form-due-date" ng-bind="form.dueDateStatus.statusFriendly" ng-class="{\'{{form.dueDateStatus.class}}\': form.dueDateStatus}"></strong> </li> <li class="form-meta-item form-sent-date">Sent {{form.sentDate}}</li> </ul> </div> <div class="form-item-group form-step-status-group"> <div ng-if="!form.isPacket && !form.isComplete" class="step-status-chart-container"> <ul class="step-status-chart total-steps-{{form.totalSteps}}"> <li ng-repeat="step in form._steps | limitTo: form.totalSteps" ng-class="{\'{{step.stepStatus}}\' : step.stepStatus}"></li> </ul> <super-popover> <h6>Workflow Steps</h6> <table> <thead> <tr> <th>Participant</th> <th>Action</th> </tr> </thead> <tbody> <tr ng-repeat="step in form._steps | limitTo: form.totalSteps" ng-init="stepIndex = $index + 1"> <td class="participant-col"> <p ng-bind="stepIndex + \'. \' + (step._stepParticipant.name || \'N/A\') + go.displaySubmissionInfo(step)" title="{{(step._stepParticipant.name || \'N/A\') + go.displaySubmissionInfo(step)}}"></p> </td> <td class="action-col"> <p ng-bind="step._stepAction | enumByValue:\'stepAction\'" title="{{step._stepAction | enumByValue:\'stepAction\'}}"></p> </td> </tr> </tbody> </table> </super-popover> </div> <p ng-if="form.isPacket" ng-bind="form.packetCount" ng-class="{\'form-complete\' : form.isComplete}" ss-icon="{{form.isComplete ? \'check\' : \'\'}}"></p> </div> <div class="form-item-group form-step-action-group"> <div ng-if="routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <div ng-if="!form.isPacket && form._statusId === ssEnum.formStatus.completedAndDenied"> <p ng-if="!form.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Form Denied</p> <super-popover ng-if="form.hasValidEnhancedDeniedInfo" class="denied" link="Form Denied" aria-label="Click here for denied info." ss-icon="thumbsdown-stripes" title="click to view denier info"> <p>Denied by: {{form._deniedInfo.denier.name}}</p> <p>Comments: {{form._deniedInfo.comments}}</p> </super-popover> </div> <div ng-if="!form.isPacket && form._statusId === ssEnum.formStatus.rejected"> <p ng-if="!form.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Step Denied</p> <super-popover ng-if="form.hasValidEnhancedDeniedInfo" class="denied" link="Step Denied" ss-icon="thumbsdown-stripes" aria-label="Click here for denied info." title="click to view denier info"> <p>Denied by: {{form._deniedInfo.denier.name}}</p> <p>Comments: {{form._deniedInfo.comments}}</p> </super-popover> </div> <p ng-if="!form.isComplete && !form.isPacket && form._statusId !== ssEnum.formStatus.rejected && form._statusId !== ssEnum.formStatus.completedAndDenied" ng-bind="form.currentStepMeta" ng-class="{\'denied\':form.isRejected}" ss-icon="{{form.isRejected ? \'thumbsdown-stripes\' : \'\' }}" title="{{form.currentStepMeta}}"></p> </div> <div ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <p ng-if="!form.isComplete && !form.isPacket" ng-bind="form.currentStepMeta" ng-class="{\'denied\':form.isRejected}" ss-icon="{{form.isRejected ? \'thumbsdown-stripes\' : \'\' }}" title="{{form.currentStepMeta}}"></p> </div> <p ng-if="form._lastReminderSentUtc != null && !form.isComplete && !form.isPacket"> <em>Reminder sent {{form.reminderSentDate}}</em> </p> </div> <div class="form-item-group file-attachments"> <super-popover ng-if="form.filesOnInstance.length" link="{{ form.filesOnInstance.length }}" ss-icon="paperclip"> <h6>UPLOADED FILES</h6> <ul class="popover-step-list" ng-repeat="file in form.filesOnInstance"> <li ss-icon-before="{{ file.icon }}" ng-bind="file.filename"></li> </ul> <h6>These files were uploaded by a user as part of a workflow step.</h6> </super-popover> </div> <div class="form-item-group form-actions-group" ng-if="!form.isPacket"> <super-button ng-if="!form.isComplete" ss-icon-after="angle-down"> <item class="no-select" ng-if="!form.isUser"><h6><em>Send reminder to</em></h6></item> <item class="divided-bottom" ng-if="!form.isUser" ng-click="go.sendReminder(form)">{{form.currentStepParticipantName}}</item> <item ng-if="form.isRejected && !routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" class="no-select"><h6><em>Resend workflow step to</em></h6></item> <item ng-if="form.isRejected && !routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" class="divided-bottom"><span ng-click="go.updateWorkflowStep(form)">Step {{form.prevStepNum}}- {{form.prevStep._stepParticipant.name}}</span></item> <item ss-permitted="formInstances.delete" ng-click="go.remove(form)">Delete Form</item> <item ng-if="form.filesOnInstance.length" class="divided-top no-select"><h6><em>Uploaded files</em></h6></item> <item ng-if="form.filesOnInstance.length" ng-click="go.download(form.filesOnInstance)">Download ({{ form.filesOnInstance.length }}) <ng-pluralize count="form.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </item> </super-button> <super-button ng-if="form.isComplete && (form._employee.meta.permissions.permittedActions.createEmployeeFile || $root.isPermitted.formInstances.archive)" ss-icon-after="angle-down"> <item ng-if="form._employee.meta.permissions.permittedActions.createEmployeeFile" ng-click="form._sentToEmployeeRecord || go.updateEmpRecord(form)" ng-disabled="form._sentToEmployeeRecord">Move to Employee Record</item> <item ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(form, \'archived\')">Archive Form</item> <item ng-if="form.filesOnInstance.length" class="divided-top no-select"><h6><em>Uploaded files</em></h6></item> <item ng-if="form.filesOnInstance.length" ng-click="go.download(form.filesOnInstance)">Download ({{ form.filesOnInstance.length }}) <ng-pluralize count="form.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </item> </super-button> </div> </div> </div> <div class="form-packet-details" ng-if="form.isPacket" ng-show="vm.openDetails"> <ul class="form-packet-list"> <li ng-show="!routeVm.loading && form.content.length > 0" ng-repeat="Pform in form.content | orderBy: \'_packetInstance.sortOrder\'" class="form-packet-list-item"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': Pform.isRejected, \'{{Pform.dueDateStatus.class}}\' : Pform.dueDateStatus && !Pform.isComplete && !Pform.isRejected}"> <div class="form-item-details" data-auto-create-date="{{Pform._createdUtc}}" data-auto-due-date="{{Pform._dueDateUtc}}"> <div class="form-item-group form-name-group"> <h4 class="form-name" ss-icon-before="li-form-large"> <a ng-bind="Pform.name" title="Open {{Pform.name}}" data-test="form-instance" href="/ec-forms/form-instance/{{Pform.id}}?returnUrl=%2Fec-forms%2Fform-tracking&target=_blank" target="_blank" onclick="window.open(this.href, this.target); return false;"></a> </h4> </div> <div class="form-item-group form-due-group"> <ul> <li class="form-meta-item" ng-if="Pform._dueDateUtc && !Pform.isComplete"> <strong class="form-due-date" ng-class="{\'{{Pform.dueDateStatus.class}}\': Pform.dueDateStatus}" ng-bind="Pform.dueDateStatus.statusFriendly"></strong> </li> <li class="form-meta-item form-sent-date">Sent {{Pform.sentDate}}</li> </ul> </div> <div class="form-item-group form-step-status-group"> <div ng-if="!Pform.isComplete" class="step-status-chart-container"> <ul class="step-status-chart total-steps-{{Pform.totalSteps}}"> <li ng-repeat="step in Pform._steps | limitTo: Pform.totalSteps" ng-class="{\'{{step.stepStatus}}\' : step.stepStatus}"></li> </ul> <super-popover> <h6>Workflow Steps</h6> <table> <thead> <tr> <th>Participant</th> <th>Action</th> </tr> </thead> <tbody> <tr ng-repeat="step in Pform._steps | limitTo: Pform.totalSteps" ng-init="stepIndex = $index + 1"> <td class="participant-col"> <p ng-bind="stepIndex + \'. \' + (step._stepParticipant.name || \'N/A\') + go.displaySubmissionInfo(step)" title="{{(step._stepParticipant.name || \'N/A\') + go.displaySubmissionInfo(step)}}"></p> </td> <td class="action-col"> <p ng-bind="step._stepAction | enumByValue:\'stepAction\'" title="{{step._stepAction | enumByValue:\'stepAction\'}}"></p> </td> </tr> </tbody> </table> </super-popover> </div> </div> <div class="form-step-action-group"> <div ng-if="routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <div ng-if="Pform._statusId === ssEnum.formStatus.completedAndDenied"> <p ng-if="!Pform.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Form Denied</p> <super-popover ng-if="Pform.hasValidEnhancedDeniedInfo" class="denied" link="Form Denied" aria-label="Click here for denied info." ss-icon="thumbsdown-stripes" title="click to view denier info"> <p>Denied by: {{Pform._deniedInfo.denier.name}}</p> <p>Comments: {{Pform._deniedInfo.comments}}</p> </super-popover> </div> <div ng-if="Pform._statusId === ssEnum.formStatus.rejected"> <p ng-if="!Pform.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Step Denied</p> <super-popover ng-if="Pform.hasValidEnhancedDeniedInfo" class="denied" link="Step Denied" ss-icon="thumbsdown-stripes" aria-label="Click here for denied info." title="click to view denier info"> <p>Denied by: {{Pform._deniedInfo.denier.name}}</p> <p>Comments: {{Pform._deniedInfo.comments}}</p> </super-popover> </div> <p ng-if="!Pform.isComplete && Pform._statusId !== ssEnum.formStatus.rejected && Pform._statusId !== ssEnum.formStatus.completedAndDenied" ng-bind="Pform.currentStepMeta" ng-class="{\'denied\':Pform.isRejected}" ss-icon="{{Pform.isRejected ? \'thumbsdown-stripes\' : \'\' }}" title="{{Pform.currentStepMeta}}"></p> </div> <div ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <p ng-if="!Pform.isComplete" ng-bind="Pform.currentStepMeta" ng-class="{\'denied\':Pform.isRejected}" ss-icon="{{Pform.isRejected ? \'thumbsdown-stripes\' : \'\' }}" title="{{Pform.currentStepMeta}}"></p> </div> <p ng-if="Pform._lastReminderSentUtc != null && !Pform.isComplete"> <em>Reminder sent {{Pform.reminderSentDate}}</em> </p> </div> <div class="form-item-group file-attachments"> <super-popover ng-if="Pform.filesOnInstance.length" link="{{ Pform.filesOnInstance.length }}" ss-icon="paperclip"> <h6>UPLOADED FILES</h6> <ul class="popover-step-list" ng-repeat="file in Pform.filesOnInstance"> <li ss-icon-before="{{ file.icon }}" ng-bind="file.filename"></li> </ul> <h6>These files were uploaded by a user as part of a workflow step.</h6> </super-popover> </div> <div class="form-item-group form-actions-group"> <super-button ng-if="!Pform.isComplete" ss-icon-after="angle-down"> <item class="no-select" ng-if="!Pform.isUser"><h6><em>Send reminder to</em></h6></item> <item class="divided-bottom" ng-if="!Pform.isUser" ng-click="go.sendReminder(Pform)">{{Pform.currentStepParticipantName}}</item> <item ng-if="Pform.isRejected" class="no-select"><h6><em>Resend workflow step to</em></h6></item> <item ng-if="Pform.isRejected" class="divided"><span ng-click="go.updateWorkflowStep(Pform)">Step {{Pform.prevStepNum}}- {{Pform.prevStep._stepParticipant.name}}</span></item> <item ng-if="Pform.$permitted.actions.delete" ng-click="go.remove(Pform)">Delete Form</item> <item ng-if="Pform.filesOnInstance.length" class="divided-top no-select"><h6><em>Uploaded files</em></h6></item> <item ng-if="Pform.filesOnInstance.length" ng-click="go.download(Pform.filesOnInstance)">Download ({{ Pform.filesOnInstance.length }}) <ng-pluralize count="Pform.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </item> </super-button> <super-button ng-if="Pform.isComplete && (Pform._employee.meta.permissions.permittedActions.createEmployeeFile || $root.isPermitted.formInstances.archive)" ss-icon-after="angle-down"> <item ng-if="Pform._employee.meta.permissions.permittedActions.createEmployeeFile" ng-click="Pform._sentToEmployeeRecord || go.updateEmpRecord(Pform)" ng-disabled="Pform._sentToEmployeeRecord">Move to Employee Record</item> <item ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(Pform, \'archived\')">Archive Form</item> <item ng-if="Pform.filesOnInstance.length" class="divided-top no-select"><h6><em>Uploaded files</em></h6></item> <item ng-if="Pform.filesOnInstance.length" ng-click="go.download(Pform.filesOnInstance)">Download ({{ Pform.filesOnInstance.length }}) <ng-pluralize count="Pform.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </item> </super-button> </div> </div> </div> </li> </ul> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-text-editor/text-editor.html",'<div class="cmp-text-editor" ng-class="{\'hide\': !field._active}"> <div class="top" id="{{vm.editorId}}-top" ng-if="!field.step"> </div> <div ng-model="field._label" contenteditable="{{!field.step}}" id="{{vm.editorId}}"></div> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-tracked-form-group/tracked-form-group.html",'<div class="cmp-tracked-form-group"> <div ss-pending="vm.loading && !vm.scrolling" ss-pending-status="\'Loading Form Instances...\'"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-if="vm.formsAndPackets.length" ng-repeat="form in vm.formsAndPackets track by $index"> <cmp-tracked-form form="form" type="type" employee-permissions="employeePermissions" status-updated="go.refreshData()"></cmp-tracked-form> </li> <li class="ss-panel-list-item" ng-if="!vm.loading && !vm.formsAndPackets.length"> <div class="form-list-item-wrapper">No Forms or Packets found</div> </li> </ul> </div> <div class="scroller" ng-if="vm.showInfScroll" ss-pending="vm.scrolling" ss-pending-status="\'Loading more results...\'" infinite-scroll="scrollData()" infinite-scroll-distance="1"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/builder.html",'<route folder="/form-builder/builder"> <div class="gd-row"> <aside class="panel fields-panel"><segment name="fields"></segment></aside> <section class="panel builder-panel"><segment name="builder"></segment></section> <aside class="panel properties-panel"><segment name="properties"></segment></aside> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/overlay-builder/overlay-builder.html",'<route folder="/form-builder/overlay-builder"> <form id="form-controls" class="gd-row route-wrapper form-controls" ng-submit="routeVm.saveFormTemplate()" ss-validate-form> <section class="overlay-builder-overlay"> <segment name="overlay"></segment> </section> <aside class="overlay-builder-data-panel"> <segment name="data-panel"></segment> </aside> </form> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/segment-content/content.html",'<section class="segment-form-builder-content" aria-label="form builder section"> <ui-view id="formBuilder-builder" aria-controlled-by="content-nav"></ui-view> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/preview.html",'<route folder="/form-builder/preview" id="form-preview"> <segment name="page-header"></segment> <section class="full-screen-content"> <div ng-show="!routeVm.showPDFOverlay" class="gd-row"> <section class="gd-60p content"> <segment name="form-workflow"></segment> </section> <aside class="gd-40p sidebar" ss-window-anchor> <segment name="attachments"></segment> <segment name="steps-summary"></segment> </aside> </div> <div ng-show="routeVm.showPDFOverlay"> <iframe id="form-overlay-frame" src="{{routeVm.PDFOverlayUrl}}"></iframe> </div> </section> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/settings/settings.html",'<route folder="/form-builder/settings"> <segment name="settings"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/segment-header/header.html",'<header class="segment-form-builder-header" ss-window-anchor> <div class="form-title-group" aria-label="form title section" role="region" tabindex="0"> <i ss-icon-before="{{routeVm.formData._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="presentation"></i> <div class="form-title-ctrl" ng-class="{\'is-editing\' : vm.editTitle}"> <span class="locked-state" title="{{ routeVm.formData._name }}" ng-bind="routeVm.formData._name"></span> <span class="non-locked-stated" ng-if="!vm.editTitle" ng-bind="routeVm.formData._name"></span> <super-input-text id="formTitle" model="routeVm.formData._name" ng-if="vm.editTitle" ss-validate="validator.required(routeVm.formData._name, \'Form Name\')" ;> </super-input-text> <p class="form-status" ng-bind="vm.formStatusLabel"></p> </div> <div class="form-title-edit-actions"> <button type="button" ng-if="!vm.editTitle" class="edit" ss-icon="pencil" ng-click="go.editTitle()" aria-label="edit the form name"></button> <button type="button" ng-if="vm.editTitle" class="save" ss-icon="check-circle" ng-click="vm.editTitle = false" ng-disabled="!routeVm.formData._name.length" aria-label="confirm form name change"></button> <button type="button" ng-if="vm.editTitle" class="cancel" ss-icon="times" ng-click="go.cancelTitleEdit()" aria-label="cancel edit for form name"></button> </div> </div><div class="form-control-actions" role="region"> <div class="status-messages" role="status"> <strong class="auto-saved" ng-show="vm.autoSaved">Auto-Saved</strong> </div> <ul> <li class="form-save"> <super-button class="save-button" pri label="{{routeVm.saving ? \'Saving\' : \'Save\'}}" type="submit" ng-class="{\'saving\': routeVm.saving}" ng-disabled="routeVm.saving" ss-icon="spinner" ng-click="go.setActivationConfig(false)"></super-button> </li> <li class="form-activate"> <super-button label="Activate" ss-icon-after="angle-down" ss-menu="activate-menu" ng-disabled="routeVm.saving"></super-button> <div class="activate-menu" data-qa="form-activation-menu"> <ul class="select-menu-list"> <li class="select-menu-list-item" data-qa="activate-immediately"> <button type="submit" class="activation-btn" ng-click="go.setActivationConfig(true, false)">Activate immediately<small>Will become sendable</small></button> </li> <li class="select-menu-list-item gd-row"> <div class="gd-55p"> <button type="submit" class="activation-btn" ng-click="go.setActivationConfig(true)" data-qa="activate-on-date">Activate on<small>Set a future \'active\' date</small> </button> </div> <div class="gd-45p"> <super-input-datepicker model="vm.activationDate"></super-input-datepicker> </div> </li> </ul> </div> </li> <li class="form-preview"> <super-button label="Preview" ng-click="go.preview()" is-disabled="routeVm.saving"></super-button> </li> </ul> </div> <nav id="content-nav" aria-controls="formBuilder-builder"> <super-tab-list class="flat"> <super-tab-list-item label="Form Builder" state="base.formBuilder.builder"></super-tab-list-item> <super-tab-list-item label="Form Settings" state="base.formBuilder.settings" params=""></super-tab-list-item> <super-tab-list-item ng-if="vm.printViewBuilderEnabled" label="Overlay Builder" state="base.formBuilder.overlayBuilder" params=""></super-tab-list-item> </super-tab-list> </nav> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/segment-attachments/attachments.html",'<article class="segment-form-instance-attachments" role="complimentary"> <header class="sidebar-article-header"> <h4 class="">Attachments</h4> </header> <div class="sidebar-article-content" ss-pending="vm.loading"> <div class="main-content"> <ul class="form-attachment-list" ng-if="vm.files.length && !vm.loading"> <li class="list-item form-attachment-item" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment)" title="Open {{attachment._filename}}" target="_blank"></a> </li> </ul> <p ng-if="!vm.files.length && !vm.loading">No attachments</p> </div> </div> </article> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/form-instance/segment-form/form.html",'<div class="segment-form-instance-form"> <form autocomplete="off" ss-validate-form ng-submit="go.submitForm(vm.selectedStep)" ss-pending="vm.loading"> <section class="fb-step" ng-class="{\'is-selected\': vm.selectedStep.id === step.id, \'is-denied\': step.isDenied}" ng-repeat="step in vm.steps track by $id(step)" ng-click="go.selectStep(step)" ng-if="!vm.loading && vm.steps" data-qa="step-{{ step.id }}" ng-keypress="$event.stopPropagation()" id="fb-step-{{$index}}" tabindex="0"> <div ng-disabled="step.disabled" ng-if="step._stepAction !== ssEnum.stepAction.employeeProfileReview"> <header class="fb-step-header"> <h3 class="fb-step-title" data-qa="step-title"> <span ng-if="!step._name">Workflow Step {{$index + 1}}</span><span ng-if="step._name">{{step._name}}</span><label ng-show="step.isDenied && routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" class="tag denied-tag" role="alert" aria-label="this step has been denied for the following reason:" aria-flowto="{{step.id}}-denied-comments">denied</label> </h3> <p id="{{step.id}}-denied-comments" class="denied-comments" ng-show="step.isDenied && routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" ng-bind="routeVm.formInstance._deniedInfo.comments"></p> <p ng-if="step._instructions" ng-bind="step._instructions" data-qa="step-instructions"></p> </header> <ul> <li class="field-group" ng-repeat="group in step.fieldGroups" ss-hide-when-empty tabindex="0"> <cmp-field-renderer ng-repeat="field in group" field="field" group="group" org="routeVm.org" ng-style="{width: field.config.width}" ss-hide-when-empty></cmp-field-renderer> </li> </ul> <footer class="fb-step-footer"> <super-input-textarea label="Comments - Visible to all participants {{routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\'] && step._stepAction === ssEnum.stepAction.reviewApproveOrDeny ? \'(required for deny action)\' : \'\'}}" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div class="step-action" ng-if="!formIsComplete"> <div ng-if="step.id === vm.currentStepId"> <super-button pri label="Submit Form" type="submit" ng-if="step._stepAction === ssEnum[\'stepAction\'].formEntry" ng-click="go.submitStep(step)" data-qa="submit-step-button"></super-button> <super-button pri label="Form Has Been Reviewed" type="submit" ng-if="step._stepAction === ssEnum[\'stepAction\'].reviewForm" ng-click="go.acknowledgeStep(step)" data-qa="review-step-button"></super-button> <div ng-if="step._stepAction === ssEnum[\'stepAction\'].reviewApproveOrDeny"> <super-button pri label="Approve Form" type="submit" ng-click="go.approveStep(step)" data-qa="approve-step-button"></super-button> <super-button neg label="Deny Form" type="button" ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" ng-click="go.denyStep($event,step)" data-qa="deny-step-button"></super-button> <super-button neg label="Deny Form" type="button" ng-if="routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" data-qa="deny-step-button" is-disabled="!step.instance._stepComments.length"> <item ng-if="step.deniableStepOptions.length > 1" class="no-select">Send back to:</item> <item ng-repeat="config in step.deniableStepOptions" ng-click="go.denyAndResetWorkflowStep(step, config)">{{config.optionText}}</item> </super-button> </div> </div> </div> </footer> </div> <div ng-disabled="step.disabled" ng-if="step._stepAction === ssEnum.stepAction.employeeProfileReview"> <header class="fb-step-header"> <h4 class="fb-step-title">Review Employee Profile Updates</h4> <p data-qa="step-instructions">The following will be updated in <b>{{routeVm.formInstance._employee.name}}\'s</b> employee profile:</p> </header> <table class="form-review-fields fb-fields" ng-if="step.instance._employeeProfileReviewStepFieldValues.length > 0"> <thead class="form-review-fields-head"> <tr> <th>&nbsp;</th> <th class="current">Current</th> <th class="will-change-to">Will Change To</th> <th ng-show="routeVm.featureFlags.isFCSystemOfRecord" class="update-profile">Update Profile</th> </tr> </thead> <tbody class="form-review-fields-body"> <tr ng-repeat="employeeProfileReviewStepField in step.instance._employeeProfileReviewStepFieldValues track by $id(employeeProfileReviewStepField)"> <td class="step-field"> <p ng-bind="employeeProfileReviewStepField.sourceField.step._name"></p> <p class="field-label" ng-bind="employeeProfileReviewStepField.sourceField._label"></p> </td> <td class="current" data-qa="profile-value-{{ employeeProfileReviewStepField.formFieldId}}" ng-bind="go.profileValueDisplay(employeeProfileReviewStepField, step)"></td> <td class="will-change-to"> <cmp-field-renderer field="employeeProfileReviewStepField.sourceField" org="routeVm.org"></cmp-field-renderer> </td> <td ng-if="routeVm.featureFlags.isFCSystemOfRecord" class="update-profile"> <super-input-checkbox data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" is-disabled="step._stepAction !== ssEnum.stepAction.employeeProfileReview || formIsComplete" model="employeeProfileReviewStepField.updateEmployeeProfile"> </super-input-checkbox> </td> </tr> </tbody> </table> <footer class="fb-step-footer"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="!formIsComplete" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.reviewProfile(step)"></super-button> </div> </div> </footer> </div> </section> <section class="fb-step" ng-if="!vm.loading && !vm.steps.length"> <header class="fb-step-header"> <h4 class="fb-step-title">No Steps Found</h4> </header> <p>Either there was a problem retrieving workflow steps for this form, or you do not have permission to see any steps.</p> </section>  </form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/segment-header/header.html",'<header class="segment-form-instance-header"> <div class="page-header"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="actions"> <super-button class="delete-button" neg ng-if="go.showDelete()" label="Delete" ng-click="go.deleteForm()" ng-class="{\'saving\': vm.deleting}" ss-icon="spinner" ng-disabled="vm.deleting" data-qa="form-instance-delete-button"></super-button> <super-button class="print-button" label="print form" is-disabled="routeVm.showPDFOverlay" ng-click="go.print()" data-qa="form-instance-print-button"></super-button> <super-button class="save-button" label="save progress" ng-if="!vm.formIsComplete && vm.fromView !== \'sent\'" ng-click="go.save()" data-qa="form-instance-save-button"></super-button> <button type="button" aria-label="close this page" class="close-x" ng-click="go.close()" ss-tooltip="close" data-qa="form-instance-close-button"></button> </div> </div> <div class="form-header"> <div class="form-header-row"> <div class="form-header-row-group form-info-group"> <h2 ss-icon="{{routeVm.formTemplate._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" class="form-instance-title" ng-bind="routeVm.formInstance.name" data-qa="form-instance-title"></h2> <ul class="form-meta ss-pipe-children"> <li class="form-meta-item"><abbr class="form-instance-version" title="version {{routeVm.formTemplate._templateVersion || 1}}">v{{routeVm.formTemplate._templateVersion || 1}}</abbr></li> <li class="form-meta-item">sent {{routeVm.formInstance.sentDate}} by {{routeVm.formInstance._creator.name}}</li> </ul> <p ng-if="routeVm.formTemplate._instructions" ng-bind="routeVm.formTemplate._instructions"></p> </div> <div class="form-header-row-group form-controls-group" ss-hide-when-empty> <div class="form-control-group sensitive-field-toggle-control-group" data-qa="sensitive-field-toggle-control-group" ng-if="routeVm.showToggle"> <label for="sensitive-field-toggle">display sensitive info</label> <fluid-toggle label="\'this control will toggle the visibility of sensitive fields\'" checked="false" warning="" on:checked-change="go.toggleSensitiveFields($event)" is-disabled="routeVm.isLoading"></fluid-toggle> </div> <div class="form-control-group form-display-control-group" ng-if="routeVm.hasPDFOverlay"> <super-button ng-class="{active: !routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = false)" label="Web Form" smp></super-button><super-button ng-class="{active: routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = true)" label="PDF Overlay" smp></super-button> </div> </div> </div> <div class="form-header-row" ss-hide-when-empty> <div class="form-header-row-group form-error-group" ng-if="formIsCompleteAndDenied && routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" ss-hide-when-empty> <label class="tag denied-tag" role="alert" aria-label="this form has been denied for the following reason:" aria-flowto="{{step.id}}-denied-comments">denied</label> <span id="{{step.id}}-denied-comments" class="denied-comments" ng-bind="routeVm.formInstance._deniedInfo.comments"></span> </div> </div> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/segment-steps-summary/steps-summary.html",'<article class="segment-form-instance-steps-summary"> <header class="sidebar-article-header"> <h4 class="">Form Workflow</h4> </header> <div class="sidebar-article-content" ng-if="!vm.loading && vm.steps.length" ss-pending="vm.loading"> <section class="fb-step fb-summary-step" ng-class="{\n\t\t\t\t\'is-selected\': vm.selectedStep === step,\n\t\t\t\t\'is-disabled\': step.disabled,\n\t\t\t\t\'is-denied\': step.isDenied\n\t\t\t}" ng-repeat="step in vm.steps" ng-click="go.selectStep(step)" role="region"> <header class="fb-step-header"> <h4 class="fb-step-title">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span><label ng-show="step.isDenied && routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" class="tag denied-tag" role="alert" aria-label="this step has been denied for the following reason:" aria-flowto="{{step.id}}-denied-comments">denied</label></h4> </header> <div class="main-content" ng-show="vm.selectedStep === step" ng-cloak> <dl class="step-summary-list"> <dt>main participant</dt> <dd> <ul class="fb-step-meta"> <li class="list-item-row" ss-icon="user" ng-if="step.instance._stepParticipant.name" ng-bind="step.instance._stepParticipant.name"></li> <li class="list-item-row" ng-if="step.stepActionName"> <ul class="ss-pipe-children"> <li class="item" ss-icon="wrench" ng-if="step.stepActionName" ng-bind="step.stepActionName"></li> <li class="item" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants</dt> <dd ng-if="step.otherParticipants.length"> <ul class="fb-step-meta"> <li class="list-item-row" ng-repeat="other in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="other.name" title="{{other.name}}"></li> <li ss-icon="key" ng-bind="other.permissions" title="{{other.name}}"></li> </ul> </li> </ul> </dd> <dd ng-if="!step.otherParticipants.length">No additional participants</dd> </dl> </div> </section> <section class="fb-summary-step" ng-if="!vm.loading && !vm.steps.length"> <div class="pad-box"><p>No Workflow Steps found</p></div> </section> </div> </article> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-templates/segment-content/content.html",'<div class="segment-form-templates-content"> <div class="gd-row content-header"> <div class="gd-35p"> <super-input-text size="large" ss-icon-before="search" model="vm.search" name="search" debounce="400">Find Form or Packet</super-input-text> </div> <div class="filter-group"> <super-select-list type="filter" label="Filter Status" model="vm.selectedStatus"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="status in vm.statuses" value="status.value" label="status.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Filter Category" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.label"></super-select-list-item> </super-select-list> </div> </div> <div ss-pending="routeVm.loading && !vm.scrolling" ss-pending-status="routeVm.loadingMessage"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-if="routeVm.displayTemplates.length " ng-repeat="template in routeVm.displayTemplates track by $index"> <cmp-template-list-form template="template" org="routeVm.org" ng-if="template.isForm"></cmp-template-list-form> <cmp-template-list-packet template="template" ng-if="template.isPacket"></cmp-template-list-packet> </li> <li ng-if="!routeVm.displayTemplates.length && !routeVm.loading">No Forms or Packets found</li> </ul> </div> <div class="scroller" ng-if="vm.showInfScroll" ss-pending="vm.scrolling" ss-pending-status="\'Loading more results...\'" infinite-scroll="scrollData()" infinite-scroll-distance="1"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-templates/segment-header/header.html",'<header class="gd-row segment-index-header"> <div> <h1 class="gd-70p page-title">Form Templates</h1> <div class="gd-30p form-create-menu-group" ss-permitted="formTemplates.create,packets.create"> <button class="super-button std" ng-click="go.toggleMenu()"> <label ss-icon-after="angle-down">Create Template or Packet</label> </button> <form ng-submit="go.create()" ss-validate-form class="form-create-menu" ng-class="{\'ss-menu-open\': vm.openMenu}"> <fieldset> <h4 class="form-create-heading"><em>Are you creating a Form Template or a Packet?</em></h4> <button type="button" class="close" ss-icon="times" ng-click="go.cancel()"></button> <div class="gd-row"> <div class="gd-50p create-form-control"><super-input-radio label="Form Template" model="vm.form.instanceType" name="formTypeGroup" value="form"></super-input-radio></div> <div class="gd-50p create-packet-control"><super-input-radio label="Packet" model="vm.form.instanceType" name="formTypeGroup" value="packet"></super-input-radio></div> </div> </fieldset> <div ng-if="vm.form.instanceType !== null"> <hr class="divider"> <fieldset> <div class="field-group form-name-field"> <super-input-text model="vm.form.instanceTitle" label="{{vm.form.instanceType}} {{vm.altLabel}} name" label-weight="heavy" ss-validate="validator.required(vm.form.instanceTitle, \'Name\')" placeholder="This will be the title of the {{vm.form.instanceType}} {{vm.altLabel}}" required="true"></super-input-text> </div> <div class="field-group emp-initiate-control-field" ng-if="vm.form.instanceType === \'form\'"> <super-input-checkbox model="vm.form.isEmployeeInitiated" label="Employees can start this {{vm.form.instanceType}} {{vm.altLabel}} without admin assistance"></super-input-checkbox> <p ng-if="vm.form.instanceType === \'form\'" class="help-text emp-initiate-help-text"><em>This {{vm.form.instanceType}} {{vm.altLabel}} will be available for employees to start (complete and/or submit) without admin assistance.</em></p> </div> </fieldset> <hr class="divider"> <fieldset> <div class="field-group form-category-field"> <super-select-list default-option-label="Select Category" label="Category" label-weight="heavy" model="vm.form.category.id" ss-validate="validator.required(vm.form.category.id,\'Category\')" required="true"> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div ng-if="vm.form.instanceType === \'form\'" class="field-group form-admin-field"> <super-select-list label="{{vm.form.instanceType}} administrator" default-option-label="Select Form Administrator" label-weight="heavy" model="vm.form.formAdministrator.formAdministratorType" ss-validate="validator.required(vm.form.formAdministrator.formAdministratorType,\'form administrator\')" required="true"> <super-select-list-item ng-repeat="type in vm.formAdminTypes" value="type.value" label="type.name"></super-select-list-item> </super-select-list> <p class="help-text form-admin-help-text"><em>The Form Administrator can track the progress of the form.</em></p> <super-employee-search class="emp-search-field" ng-if="vm.form.formAdministrator.formAdministratorType === formAdminEnums.specificPerson" model="vm.specificAdmin" ss-validate="validator.required(vm.form.formAdministrator.employeeId, \'Employee\')" limit="1" placeholder="Find Employee"></super-employee-search> </div> </fieldset> <hr class="divider"> <fieldset> <p class="help-text form-help-text">These selections can also be managed through the Form Settings tab.</p> <fieldset class="form-create-controls"> <super-button class="cancel" label="Cancel" ng-click="go.cancel()" data-qa="form-create-cancel-btn"></super-button> <super-button class="submit" pri label="Create" type="submit" ss-pending="vm.isCreating" ng-disabled="vm.invalidConfig" data-qa="form-create-confirm-btn"></super-button> </fieldset> </fieldset> </div> </form> </div> </div> <p class="gd-100p" ng-if="routeVm.featureFlags[\'isHRMSEnabled\']"><strong>Note:</strong>&nbsp;Details collected in <em>Frontline Central</em> forms will not appear in other applications.</p> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/form-instance.html",'<route folder="/inbox/form-instance"> <div class="full-screen"> <header class="full-screen-header"> <segment name="close"></segment> <segment name="header"></segment> </header> <section class="full-screen-content" ss-pending="routeVm.isLoading" ss-pending-status="routeVm.loadingStatus"> <div class="full-screen-content-wrapper"> <div ng-show="!routeVm.showPDFOverlay" class="gd-row"> <div class="gd-65p content"> <segment name="form"></segment> </div> <div class="gd-35p sidebar"> <segment name="attachments"></segment> <segment name="steps"></segment> </div> </div> <div ng-show="routeVm.showPDFOverlay"> <iframe id="form-overlay-frame" src="" title="PDF overlay for {{routeVm.formInstance.name}}"></iframe> </div> </div> </section> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/segment-content/content.html",'<div class="segment-inbox-content"> <div class="gd-row forms-list-filter-group"> <div class="forms-list-filter-tabs"> <ul> <li ng-class="{\'is-selected\': vm.selectedFilter === \'current\'}" ng-click="go.filter(\'current\')">current forms <span class="count-display filter-count" ng-bind="vm.currentCount"></span></li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'sent\'}" ng-click="go.filter(\'sent\')">sent forms</li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'completed\'}" ng-click="go.filter(\'completed\')">completed Forms</li> </ul> <ul> <li ss-permitted="formTemplates.startForMyself" ss-icon-before="mail-forward" ng-class="{\'is-selected\': vm.selectedFilter === \'initiate\'}" ng-click="go.filter(\'initiate\')">forms i can start</li> </ul> </div> </div> <cmp-form-list-group ng-if="vm.selectedFilter === \'current\'" type="current" search="routeVm.search" endpoint="go.getCurrentForms()" count="vm.currentCount" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'sent\'" type="sent" search="routeVm.search" endpoint="go.getSentForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'completed\'" type="completed" search="routeVm.search" endpoint="go.getCompletedForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-emp-initiated-template ng-if="vm.selectedFilter === \'initiate\'" type="initiate" search="routeVm.search" endpoint="go.getInitiatedForms()" filter="vm.selectedFilter"></cmp-emp-initiated-template> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/segment-header/header.html",'<div class="segment-inbox-header"> <div class="gd-70p"> <h1 class="page-title">My Forms</h1> </div> <div class="gd-30p"> <super-input-text size="large" debounce="750" ss-icon="search" model="routeVm.search">Find Form or Packet</super-input-text> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/segment-content/content.html",'<div class="segment-form-tracking-content"> <cmp-tracked-form-group type="urgent" search="routeVm.search" endpoint="go.urgent()" sent-by-sort="routeVm.sentByParticipant" sort-by="routeVm.sortBy" category="routeVm.selectedCategory" location="routeVm.sentToLocation" count="routeVm.counts._urgent" template-filter-selections="routeVm.templateFilterSelections" template-filter-options="routeVm.templateFilterOptions" empl-id="vm.emplId" employee-permissions="vm.permissions" , ng-if="routeVm.selectedCategory === \'urgent\'"></cmp-tracked-form-group> <cmp-tracked-form-group type="denied" search="routeVm.search" endpoint="go.denied()" sent-by-sort="routeVm.sentByParticipant" sort-by="routeVm.sortBy" category="routeVm.selectedCategory" location="routeVm.sentToLocation" count="routeVm.counts._denied" template-filter-selections="routeVm.templateFilterSelections" template-filter-options="routeVm.templateFilterOptions" empl-id="vm.emplId" employee-permissions="vm.permissions" , ng-if="routeVm.selectedCategory === \'denied\' && !routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"></cmp-tracked-form-group> <cmp-tracked-form-group type="not-started" search="routeVm.search" endpoint="go.notStarted()" sent-by-sort="routeVm.sentByParticipant" sort-by="routeVm.sortBy" category="routeVm.selectedCategory" location="routeVm.sentToLocation" count="routeVm.counts._notStarted" template-filter-selections="routeVm.templateFilterSelections" template-filter-options="routeVm.templateFilterOptions" empl-id="vm.emplId" employee-permissions="vm.permissions" , ng-if="routeVm.selectedCategory === \'not-started\'"></cmp-tracked-form-group> <cmp-tracked-form-group type="in-progress" search="routeVm.search" endpoint="go.inProgress()" sent-by-sort="routeVm.sentByParticipant" sort-by="routeVm.sortBy" filter-by="routeVm.filterBy" category="routeVm.selectedCategory" location="routeVm.sentToLocation" count="routeVm.counts._inProgress" template-filter-selections="routeVm.templateFilterSelections" template-filter-options="routeVm.templateFilterOptions" empl-id="vm.emplId" employee-permissions="vm.permissions" , ng-if="routeVm.selectedCategory === \'in-progress\'"></cmp-tracked-form-group> <cmp-tracked-form-group type="complete" search="routeVm.search" endpoint="go.complete()" sent-by-sort="routeVm.sentByParticipant" sort-by="routeVm.sortBy" filter-by="routeVm.filterBy" category="routeVm.selectedCategory" location="routeVm.sentToLocation" count="routeVm.counts._complete" template-filter-selections="routeVm.templateFilterSelections" template-filter-options="routeVm.templateFilterOptions" empl-id="vm.emplId" , employee-permissions="vm.permissions" , ng-if="routeVm.selectedCategory === \'complete\'"></cmp-tracked-form-group> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/segment-header/header.html",'<header class="segment-form-tracking-header"> <h1>Track Forms</h1> <div class="gd-row form-list-filters"> <div ng-class="{ \'gd-40p\': !routeVm.featureFlags.fc_enhanced_form_filtering, \'gd-20p\': routeVm.featureFlags.fc_enhanced_form_filtering}"> <div class="form-search-filter"> <label for="search-filter" ng-if="!routeVm.featureFlags.fc_enhanced_form_filtering">Filter by Form, Packet or Employee</label> <label for="search-filter" ng-if="routeVm.featureFlags.fc_enhanced_form_filtering">Filter by Employee</label> <super-input-text id="search-filter" debounce="750" ss-icon="search" model="routeVm.search">Type here to filter</super-input-text> </div> </div> <div class="gd-20p" ng-if="routeVm.featureFlags.fc_enhanced_form_filtering"> <super-multi-filter-list label="Form/Packet Template" label-weight="heavy" display="tags" selected="routeVm.templateFilterSelections"> <super-multi-filter-list-group label="Forms"> <super-multi-filter-list-item ng-repeat="formTemplate in vm.formTemplates | orderBy:\'_name\'" option="formTemplate"></super-multi-filter-list-item> </super-multi-filter-list-group> <super-multi-filter-list-group label="Packets"> <super-multi-filter-list-item ng-repeat="packet in vm.packets | orderBy:\'_name\'" option="packet"></super-multi-filter-list-item> </super-multi-filter-list-group> </super-multi-filter-list> </div> <div class="gd-20p"> <super-select-list label="Date Sent" label-weight="heavy" model="vm.dateSentIdx"> <super-select-list-item ng-repeat="dateSent in vm.dateSentOptions" label="dateSent.title" value="$index"></super-select-list-item> </super-select-list> </div> <div class="gd-20p"> <super-select-list label="Results (Sender/Admin)" label-weight="heavy" model="routeVm.sentByParticipant"> <super-select-list-item ng-repeat="sent in vm.sentByCriteria" value="sent.value" label="sent.name"></super-select-list-item> </super-select-list> </div> <div class="gd-20p"> <super-select-list label="Employee location" label-weight="heavy" model="routeVm.sentToLocation"> <super-select-list-item ng-repeat="loc in vm.locations" value="loc.id" label="loc._name"></super-select-list-item> </super-select-list> </div> </div> <div class="forms-list-filter-header"> <ul class="forms-list-filter-tabs"> <li ss-icon-before="calendar-o" ng-class="{\'is-selected\': routeVm.selectedCategory === \'urgent\'}" ng-click="go.filter(\'urgent\')">Urgent <abbr title="urgent forms count" class="count-display" ng-bind="routeVm.counts._urgent || \'0\'"></abbr></li> <li ss-icon-before="thumbsdown-stripes" ng-class="{\'is-selected\': routeVm.selectedCategory === \'denied\'}" ng-click="go.filter(\'denied\')" ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']">Denied <abbr title="denied forms count" class="count-display" ng-bind="routeVm.counts._denied || \'0\'"></abbr></li> <li ss-icon-before="square-o" ng-class="{\'is-selected\': routeVm.selectedCategory === \'not-started\'}" ng-click="go.filter(\'not-started\')">Not Started <abbr title="not started forms count" class="count-display" ng-bind="routeVm.counts._notStarted || \'0\'"></abbr></li> <li ss-icon-before="pencil" ng-class="{\'is-selected\': routeVm.selectedCategory === \'in-progress\'}" ng-click="go.filter(\'in-progress\')">In-Progress <abbr title="in progress forms count" class="count-display" ng-bind="routeVm.counts._inProgress || \'0\'"></abbr></li> <li ss-icon-before="check" ng-class="{\'is-selected\': routeVm.selectedCategory === \'complete\'}" ng-click="go.filter(\'complete\')">Completed <abbr title="complete forms count" class="count-display" ng-bind="routeVm.counts._complete || \'0\'"></abbr></li> </ul> </div> <div class="sort-by-filter"> <super-select-list type="filter" label="Filter Status" model="routeVm.filterBy" ng-if="go.showFilter()"> <super-select-list-item ng-repeat="filter in vm.filterOptions" ng-if="filter.categories.includes(routeVm.selectedCategory)" value="filter.value" label="filter.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="routeVm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortOptions" ng-if="sort.categories.includes(routeVm.selectedCategory)" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> <super-button ng-if="routeVm.featureFlags.fc_track_forms_export" label="Export" ng-click="go.handleExportFormsClick()"></super-button> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/segment-content/content.html",'<section class="segment-index-content"> <div class="gd-row content-header"> <div class="gd-35p"> <super-input-text size="large" ss-icon-before="search" model="vm.search" name="search">Find Form or Packet</super-input-text> </div> <div class="filter-group"> <super-select-list type="filter" label="Filter Status" model="vm.selectedStatus"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="status in vm.statuses" value="status.value" label="status.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Filter Category" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.label"></super-select-list-item> </super-select-list> </div> </div> <div ss-pending="routeVm.loading && !vm.scrolling" ss-pending-status="routeVm.loadingMessage"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-if="routeVm.displayTemplates.length " ng-repeat="template in routeVm.displayTemplates"> <cmp-template-list-form template="template" org="routeVm.org" ng-if="template.isForm"></cmp-template-list-form> <cmp-template-list-packet template="template" ng-if="template.isPacket"></cmp-template-list-packet> </li> <li ng-if="!routeVm.displayTemplates.length && !routeVm.loading">No Forms or Packets found</li> </ul> </div> <div class="scroller" ng-if="vm.showInfScroll" ss-pending="vm.scrolling" ss-pending-status="\'Loading more results...\'" infinite-scroll="scrollData()" infinite-scroll-distance="1"></div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/index/segment-header/header.html",'<section class="gd-row segment-index-header"> <h1 class="gd-70p page-title">Form Templates</h1> <div class="gd-30p form-create-menu-group" ss-permitted="formTemplates.create,packets.create"> <button class="super-button std" ng-click="go.toggleMenu()"> <label ss-icon-after="angle-down">Create Template or Packet</label> </button> <form ng-submit="go.create()" ss-validate-form class="form-create-menu" ng-class="{\'ss-menu-open\': vm.openMenu}"> <fieldset> <h4 class="form-create-heading"><em>Are you creating a Form Template or a Packet?</em></h4> <button type="button" class="close" ss-icon="times" ng-click="go.cancel()"></button> <div class="gd-row"> <div class="gd-50p create-form-control"><super-input-radio label="Form Template" model="vm.form.instanceType" name="formTypeGroup" value="form"></super-input-radio></div> <div class="gd-50p create-packet-control"><super-input-radio label="Packet" model="vm.form.instanceType" name="formTypeGroup" value="packet"></super-input-radio></div> </div> </fieldset> <div ng-if="vm.form.instanceType !== null"> <hr class="divider"> <fieldset> <div class="field-group form-name-field"> <super-input-text model="vm.form.instanceTitle" label="{{vm.form.instanceType}} {{vm.altLabel}} name" label-weight="heavy" ss-validate="validator.required(vm.form.instanceTitle, \'Name\')" placeholder="This will be the title of the {{vm.form.instanceType}} {{vm.altLabel}}" required="true"></super-input-text> </div> <div class="field-group emp-initiate-control-field" ng-if="vm.form.instanceType === \'form\'"> <super-input-checkbox model="vm.form.isEmployeeInitiated" label="Employees can start this {{vm.form.instanceType}} {{vm.altLabel}} without admin assistance"></super-input-checkbox> <p ng-if="vm.form.instanceType === \'form\'" class="help-text emp-initiate-help-text"><em>This {{vm.form.instanceType}} {{vm.altLabel}} will be available for employees to start (complete and/or submit) without admin assistance.</em></p> </div> </fieldset> <hr class="divider"> <fieldset> <div class="field-group form-category-field"> <super-select-list default-option-label="Select Category" label="Category" label-weight="heavy" model="vm.form.category.id" ss-validate="validator.required(vm.form.category.id,\'Category\')" required="true"> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div ng-if="vm.form.instanceType === \'form\'" class="field-group form-admin-field"> <super-select-list label="{{vm.form.instanceType}} administrator" default-option-label="Select Form Administrator" label-weight="heavy" model="vm.form.formAdministrator.formAdministratorType" ss-validate="validator.required(vm.form.formAdministrator.formAdministratorType,\'form administrator\')" required="true"> <super-select-list-item ng-repeat="type in vm.formAdminTypes" value="type.value" label="type.name"></super-select-list-item> </super-select-list> <p class="help-text form-admin-help-text"><em>The Form Administrator can track the progress of the form.</em></p> <super-employee-search class="emp-search-field" ng-if="vm.form.formAdministrator.formAdministratorType === formAdminEnums.specificPerson" model="vm.specificAdmin" ss-validate="validator.required(vm.form.formAdministrator.employeeId, \'Employee\')" limit="1" placeholder="Find Employee"></super-employee-search> </div> </fieldset> <hr class="divider"> <fieldset> <p class="help-text form-help-text">These selections can also be managed through the Form Settings tab.</p> <fieldset class="form-create-controls"> <super-button class="cancel" label="Cancel" ng-click="go.cancel()"></super-button> <super-button class="submit" pri label="Create" type="submit" ss-pending="vm.isCreating" ng-disabled="vm.invalidConfig"></super-button> </fieldset> </fieldset> </div> </form> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-forms/segment-content/content.html",'<div class="segment-my-forms-content"> <div class="gd-row forms-list-filter-group"> <div class="forms-list-filter-tabs"> <ul> <li ng-class="{\'is-selected\': vm.selectedFilter === \'current\'}" ng-click="go.filter(\'current\')">current forms <span class="count-display filter-count" ng-bind="vm.currentCount"></span></li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'sent\'}" ng-click="go.filter(\'sent\')">sent forms</li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'completed\'}" ng-click="go.filter(\'completed\')">completed Forms</li> </ul> <ul> <li ss-permitted="formTemplates.startForMyself" ss-icon-before="mail-forward" ng-class="{\'is-selected\': vm.selectedFilter === \'initiate\'}" ng-click="go.filter(\'initiate\')">forms i can start</li> </ul> </div> </div> <cmp-form-list-group ng-if="vm.selectedFilter === \'current\'" type="current" search="routeVm.search" endpoint="go.getCurrentForms()" count="vm.currentCount" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'sent\'" type="sent" search="routeVm.search" endpoint="go.getSentForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'completed\'" type="completed" search="routeVm.search" endpoint="go.getCompletedForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-emp-initiated-template ng-if="vm.selectedFilter === \'initiate\'" type="initiate" search="routeVm.search" endpoint="go.getInitiatedForms()" filter="vm.selectedFilter"></cmp-emp-initiated-template> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-forms/segment-header/header.html",'<div class="segment-my-forms-header"> <div class="gd-70p"> <h1 class="page-title">My Forms</h1> </div> <div class="gd-30p"> <super-input-text size="large" debounce="750" ss-icon="search" model="routeVm.search">Find Form or Packet</super-input-text> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/builder/builder.html",'<route folder="/packet-builder/builder"> <segment name="builder"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/segment-header/header.html",'<header class="segment-packet-builder-header"> <div class="gd-row form-title-actions-group"> <div class="gd-85p form-title-group" aria-label="packet name section"> <div class="icon"><i ss-icon-before="li-packet-large" role="presentation"></i></div> <div class="form-name"> <fieldset> <div class="form-title-ctrl" ng-class="{\'is-editing\' : vm.editTitle}"> <span ng-if="!vm.editTitle" class="title" ng-bind="vm.formTitle" title="{{vm.formTitle}}"></span> <super-input-text title="{{vm.formTitle}}" id="formTitle" model="vm.formTitle" ng-if="vm.editTitle" ss-validate="validator.required(vm.formTitle, \'packet name\')" required="true"></super-input-text> </div> </fieldset> <div class="form-title-edit-actions"> <button type="button" ng-if="!vm.editTitle" class="edit" ss-icon="pencil" ng-click="go.editTitle()" aria-label="edit the form name"></button> <button type="button" ng-if="vm.editTitle" class="save" ss-icon="check-circle" ng-click="go.confirmTitleEdit()" ng-disabled="!vm.formTitle.length" aria-label="save the form name"></button> <button type="button" ng-if="vm.editTitle" class="cancel" ss-icon="times" ng-click="go.cancelTitleEdit()" aria-label="cancel edit for form name"></button> </div> <div class="form-status"><strong ng-bind="vm.packetStatusLabel"></strong></div> </div> </div> <div class="gd-15p form-control-actions" aria-label="packet save amd activate section"> <fieldset> <div class="form-save"> <strong ng-if="vm.autoSaved" class="auto-saved">Auto Saved</strong> <super-button class="save-button" pri label="{{routeVm.saving ? \'Saving\' : \'Save Packet\'}}" type="submit" ng-class="{\'saving\': routeVm.saving}" ng-disabled="vm.nothingToSave || routeVm.saving" ss-icon="spinner"></super-button> </div> </fieldset> </div> </div> <nav id="content-nav" aria-controls="packet-builder"> <super-tab-list class="flat"> <super-tab-list-item label="Packet Builder" state="base.packetBuilder.Builder"></super-tab-list-item> <super-tab-list-item label="Packet Settings" state="base.packetBuilder.Settings"></super-tab-list-item> </super-tab-list> </nav> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/segment-content/content.html",'<div class="segment-packet-builder-content" aria-label="packet builder section"> <ui-view id="packet-builder" aria-controlled-by="content-nav"></ui-view> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/settings/settings.html",'<route folder="/packet-builder/settings"> <segment name="settings"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/segment-header/header.html",'<div class="segment-send-header gd-row"> <div class="batch-status-group ss-panel"> <ul class="batch-list" ng-style="vm.batchStyles"> <li class="batch-list-item" ng-repeat="batch in vm.batches"> <cmp-form-send-status org="routeVm.org" form="vm.item" batch="batch" on-complete="go.removeBatch(batch)" data-qa="batch-list-item"></cmp-form-send-status> </li> </ul> </div> <div class="send-control-group"> <div class="form-control-title gd-70p"> <h2 class="form-title" ng-bind="vm.item._name" data-qa="form-name-page-title"></h2> </div> <div class="form-control-actions"> <super-button pri label="Preview Form &amp; Workflow" ng-click="go.preview(vm.item)" ng-if="vm.isForm" ng-disabled="vm.isSending" data-qa="form-preview-button"></super-button> <super-button pri label="{{vm.isPacket?\'Send Packet\':\'Send Form\'}}" type="submit" ng-disabled="(!routeVm.postData.recipients.length && !routeVm.postData.bulkRecipients.length) || vm.isSending" ss-pending="vm.sending" data-qa="send-form-button"></super-button> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/segment-content/content.html",'<div class="segment-send-content"> <section class="gd-row"> <header class="gd-25p"> <h3>FORM DETAILS</h3> </header> <div class="gd-60p"> <div class="gd-50p form-sender"> <div class="label">Form Sender</div> <div ng-class="{\'pending\' : vm.loadingFormSender}" ng-bind="vm.resolvedFormSender" data-cy="form-sender"></div> </div> <div class="gd-50p form-administrator" ng-if="vm.isForm"> <div class="label">Form Administrator</div> <div ng-bind="vm.formAdministrator"></div> </div> </div> </section> <section class="gd-row"> <header class="gd-25p"> <h3>EFFECTIVE DATE</h3> </header> <div class="gd-60p"> <p class="effective-date-instruction">You can use an ‘as-of’ date to determine an employee’s information on a form.<br><em>Example: Employee information (assignment, etc.) for this form should be based on employee record data as of August 1.</em></p> <super-input-checkbox label="Select an effective date to determine employee information" model="vm.useEffectiveDating"></super-input-checkbox> <p><super-input-datepicker model="vm.asOf" ng-if="vm.useEffectiveDating"></super-input-datepicker></p> <super-button pri label="Export" ng-disabled="!routeVm.postData.recipients.length && !routeVm.postData.bulkRecipients.length" ng-click="go.export()" ss-pending="vm.exporting"></super-button> </div> </section> <section class="gd-row"> <header class="gd-25p"> <h3>EMPLOYEE(S)</h3> </header> <div class="gd-60p"> <p>"Who" the form is about; information from their employee record will auto-populate certain form fields.</p> <super-employee-search placeholder="Add an employee by name" model="routeVm.postData.recipients" status-types="1" use-pill="true" query-limit="50" data-qa="add-employee-single" include-active-only-status-filter="true">Add an employee by name</super-employee-search> <cmp-multiple-employee-search model="routeVm.postData.bulkRecipients" exclusions="routeVm.postData.exclusions" label="Need to send to a group of employees?"></cmp-multiple-employee-search> </div> </section> <section class="gd-row"> <header class="gd-25p"> <h3>DUE DATE FOR EMPLOYEE(S)</h3> </header> <div class="gd-60p"> <p ng-if="vm.isForm">This date applies to the <em>Workflow Step </em>assigned to the Employee (whom the form is about). This is not a due date for the form as a whole.</p> <p ng-if="vm.isPacket">This date applies to the <em>Workflow Step</em>(in each form) assigned to Employee (whom the forms are about). This is not a due date for the packet as a whole.</p> <ul> <li> <super-input-radio model="vm.hasSubmissionDueDate" value="false" label="No Due Date"></super-input-radio> </li> <li> <super-input-radio model="vm.hasSubmissionDueDate" value="true" label="Employee submission due by"> </super-input-radio> <super-input-datepicker name="submissionDueDate" options="vm.datePickerOptions" model="routeVm.postData.submissionDueDate" is-disabled="vm.hasSubmissionDueDate === \'false\'"> </super-input-datepicker> </li> </ul> </div> </section> <section class="gd-row packet-email-preview" ng-if="vm.isPacket"> <header class="gd-25p"> <h3>PACKET EMAIL PREVIEW</h3> </header> <div class="gd-60p"> <dl class="packet-email-meta"> <div> <dt>From:&nbsp;</dt> <dd>do-not-reply@frontlineed.com</dd> </div> <div> <dt>Subject:&nbsp;</dt> <dd ng-bind="vm.item._startupEmail.subject || \'A packet is ready for you\'"></dd> </div> </dl> <div class="step-notification-message-group"> <p class="message-preview-header"><i>"Packet Ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="vm.item._startupEmail.notificationPrefix"></i></p> <div class="form-list-wrapper" ss-pending="vm.loadingPacket" ng-class="{\'add-height\' : vm.loadingPacket}"> <ul class="forms-list"> <li class="forms-list-item" ng-repeat="form in vm.item.forms"><i ng-bind="form._name"></i></li> </ul> </div> <p ng-if="vm.item._startupEmail.useStartupEmail"><i ng-bind="vm.item._startupEmail.message"></i></p> <small class="message-suffix"><i ng-bind="vm.item._startupEmail.notificationSuffix"></i></small> </div> </div> </div> </section> <section class="gd-row" ng-if="vm.isForm"> <header class="gd-25p"> <h3><strong>Form Workflow & Notifications</strong></h3> </header> <div class="gd-60p details"> <ul class="form-step-list"> <li class="form-step" ng-repeat="step in vm.item._steps track by $index"> <div class="form-step-group"> <h4 ng-if="!$last">Workflow Step {{$index + 1}}<span ng-if="step._name">&nbsp;-&nbsp;{{::step._name}}</span></h4> <h4 ng-if="$last">Form & Workflow Complete Step</h4> </div> <div class="form-step-group" ng-if="!$last"> <dl class="form-step-meta"> <div> <dt>Step Participant</dt> <dd ng-bind="step.resolvedParticipant" data-cy="step-meta-step-participant"></dd> </div> <div> <dt>Step Action</dt> <dd data-cy="step-meta-step=-action">{{step._stepAction | enumByValue: \'stepAction\'}}</dd> </div> </dl> </div> <div class="form-step-group step-notification-message-group" ng-if="!$last"> <p class="message-preview-header"><i>"Step Ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <p ng-if="step._notificationBody.length"><i ng-bind="step._notificationBody"></i></p> <small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small> </div> </div> <div ng-if="!$last && step.showResendMessage" class="form-step-group step-notification-message-group"> <p class="message-preview-header"><i>"Step Resent"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <p ng-if="step._resendNotificationBody.length"><i ng-bind="step._resendNotificationBody"></i></p> <small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small> </div> </div> <div class="form-step-group" ng-if="!$last && step._stepParticipant.participantType === vm.recipient && vm.hasSubmissionDueDate && routeVm.postData.submissionDueDate != null"> <p class="gd-100p due-date" ss-icon="calendar-o">This step due on {{routeVm.postData.submissionDueDate | date:\'MM/dd/yyyy\'}}</p> </div> <div class="form-step-group" ng-if="$last"> <p>Sender will be notified</p> </div> </li> </ul> </div> </section> <section class="gd-row packet-detail-preview" ng-if="vm.isPacket" data-qa="forms-in-packet"> <header class="gd-25p"> <h3><strong>packet detail review </strong><em>"Form Complete" emails to sender are suppressed for forms in packets.</em></h3> </header> <div class="gd-60p packet-detail-preview-wrapper" ss-pending="vm.loadingPacket" ss-pending-status="\'loading packet...\'"> <ul class="gd-70p forms-list"> <li class="forms-list-item" ng-repeat="form in vm.item.forms" data-qa="form-{{ form.id }}"> <h4><a href="/ec-forms/form-builder/{{form.id}}/preview" ng-bind="form._name"></a></h4> <ul class="form-meta-info ss-pipe-children"> <li class="form-meta-item">Workflow ({{form.steps.length}} Steps) <super-popover> <div> <h6>Workflow <ng-pluralize count="form.steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></h6> <ul class="popover-step-list"> <li ng-repeat="step in form.steps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> </li> <li class="form-meta-item">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} <span ng-if="form._modifier.name">by {{form._modifier.name}}</span></li> </ul> </li> <li class="forms-list-item final-step" ng-if="!vm.loadingPacket"> <h4>Packet Complete</h4> <p>Sender will be notified</p> </li> </ul> </div> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/segment-builder/builder.html",'<div class="segment-form-builder-builder-builder"> <ol ng-if="!formVm.loading" class="fb-form-list"> <li class="fb-form-list-item"> <ol class="fb-step-list" ng-class="{\'fb-dragging-fields\': routeVm.draggingFields}" dnd-list="vm.steps" dnd-allowed-types="[\'stepType\']" dnd-drop="go.dropStep(event, index, item)" ng-if="vm.steps.length"> <li class="fb-step-list-item" ng-click="go.stepSettings(step, $index)" ng-repeat="step in vm.steps" dnd-draggable="step" dnd-type="\'stepType\'" dnd-moved="go.movedStep($index, step)" dnd-effect-allowed="move"> <cmp-step-renderer step="step" step-index="$index"></cmp-step-renderer> </li> </ol> </li> <li class="fb-form-list-item"> <div class="fb-step-add"> <super-button ss-icon="plus-circle" smp class="" label="Add new workflow step" ng-click="go.addStep()"></super-button> </div> </li> <li class="fb-form-list-item fb-step-review" ng-click="go.reviewStep()" ng-mouseenter="vm.reviewStep.hoverState = true" ng-mouseleave="vm.reviewStep.hoverState = false" ng-if="vm.reviewStep"> <div class="fb-step" ng-class="{\'is-hover\': vm.reviewStep.hoverState, \'is-selected\': vm.selectedFormObject === vm.reviewStep}"> <div class="fb-step-header"> <h4 class="fb-step-title" ng-bind="vm.reviewStep._name"></h4> <div class="fb-actions fb-step-actions"> <span>Properties</span> </div> </div> <ul class="fb-field-groups"> <li class="fb-field-group fb-field-group-review"> <i>A summary of potential employee profile updates will display here for final review when the form is sent.</i> </li> </ul> </div> </li> <li class="fb-form-list-item fb-step-final" ng-click="go.formComplete()" ng-mouseenter="vm.lastStep.hoverState = true" ng-mouseleave="vm.lastStep.hoverState = false"> <div class="fb-step" ng-class="{\'is-hover\': vm.lastStep.hoverState, \'is-selected\': vm.selectedFormObject === vm.lastStep}"> <div class="fb-step-header"> <h4 class="fb-step-title" ng-bind="vm.lastStep._name"></h4> <div class="fb-actions fb-step-actions"> <span>Properties</span> </div> </div> <div class="fb-field-groups"> <p class="fb-field-group-empty">Define what happens when the form\'s workflow is complete.</p> </div> </div> </li> <li class="fb-form-list-item"><cmp-attachments label="Add Attachments"></cmp-attachments></li> </ol> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/segment-properties/properties.html",'<div class="segment-form-builder-builder-properties" ss-window-anchor> <div class="view-props sidebar"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/segment-fields/fields.html",'<div class="segment-form-builder-builder-fields" ss-window-anchor window-anchor-top="140"> <section class="form-builder-field-item" data-qa="template-employee-record-fields"> <h4 ss-toggle="emp-fields" ss-toggle-start-expanded aria-controls="emp-fields">Employee Record Tools<em>of who the form is about</em></h4> <ul id="emp-fields" class="emp-fields"> <li id="employee-field-{{field.fields}}" class="fb-field auto-{{ field.fields }}" ng-repeat="field in vm.fields.employee | filter: go.filterEmployeeRecordTools" dnd-draggable="field" dnd-effect-allowed="copy" dnd-type="\'fieldType\'" dnd-disable-if="!field.allowMultiple && routeVm.added[field.fields]" dnd-dragstart="routeVm.draggingFields = true" dnd-dragend="routeVm.draggingFields = false" ng-class="{disabled: !field.allowMultiple && routeVm.added[field.fields]}">{{field.label}}</li> </ul> </section> <section class="form-builder-field-item" data-qa="template-custom-fields"> <h4 ss-toggle="custom-fields" ss-toggle-start-expanded aria-controls="custom-fields">Custom Tools</h4> <ul id="custom-fields" class="custom-fields"> <li id="custom-field-{{field.fields}}" class="fb-field auto-{{ field.fields }}" ng-repeat="field in vm.fields.custom | filter: go.filterEmployeeRecordTools | orderBy: \'label\'" dnd-draggable="field" dnd-dragstart="routeVm.draggingFields = true" dnd-dragend="routeVm.draggingFields = false" dnd-effect-allowed="copy" dnd-type="\'fieldType\'">{{field.label}}</li> </ul> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/overlay-builder/segment-data-panel/data-panel.html",'<div class="segment-form-builder-overlay-builder-data-panel" aria-label="print view builder data"> <div class="steps" ng-show="routeVm.formTemplate._printPreviewDefinition && routeVm.formTemplate._printPreviewDefinition.templateFileId"> <section class="step-panel" ng-repeat="step in vm.steps"> <div class="step-panel-header"> <h4 class="step-title" ng-bind="step._name || \'Workflow Step \' + ($index + 1)"></h4> <super-popover ng-if="step.hasUnmappableFields">Some fields in this step are not displayed because they cannot be mapped to a PDF.</super-popover> </div> <cmp-step-text-display step="step" on-load="go.startExpanded(group)" ng-if="routeVm.selectedBox.type === \'text\'"></cmp-step-text-display> <cmp-step-date-display step="step" on-load="go.startExpanded(group)" ng-if="routeVm.selectedBox.type === \'date\'"></cmp-step-date-display> <cmp-step-checkbox-display step="step" on-load="go.startExpanded(group)" ng-if="routeVm.selectedBox.type === \'checkbox\'"></cmp-step-checkbox-display> </section> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/overlay-builder/segment-overlay/overlay.html",'<div class="segment-form-builder-overlay-builder-overlay" aria-label="overlay builder"> <header class="gd-row"> <div class="gd-75p uploader"> <div ng-if="!vm.processing && !routeVm.formTemplate._hasPrintPreviewDefinition"> <h4>Add a file to the builder:</h4> <div class="upload-action-group"> <button class="add-attachment super-button std upload" value="" title="Upload PDF"><label>Upload PDF</label></button> <input class="btn" id="underlay-uploader" type="file" nv-file-select name="fileUpload" uploader="uploader"> </div> </div> <div ng-if="!vm.processing && routeVm.formTemplate._hasPrintPreviewDefinition"> <label class="file-name" ng-bind="vm.file._filename" title="{{ vm.file._filename }}"></label> <super-button label="Remove" ss-icon="trash-o" ng-click="go.remove()" ng-show="vm.explodedImageUrls.length"> </super-button> </div> </div> <div ng-show="!vm.processing && routeVm.formTemplate._hasPrintPreviewDefinition" class="gd-25p pager"> <button class="prev" type="button" value="Previous" ng-click="go.previousPage()" ng-disabled="vm.currentPage === 1" ss-icon="chevron-left"></button> <span class="page">Page {{ vm.currentPage }} of {{ vm.explodedImageUrls.length; }}</span> <button class="next" type="button" value="Next" ng-click="go.nextPage()" ng-disabled="vm.currentPage === vm.explodedImageUrls.length" ss-icon="chevron-right"></button> </div> </header> <div class="mapping-canvas" ng-class="{\'box-selected\': routeVm.selectedBox != null}" ng-click="routeVm.selectedBox = null" ss-pending="vm.processing" ss-pending-status="vm.processingStatus"> <div ng-show="!vm.processing && routeVm.formTemplate._hasPrintPreviewDefinition"> <cmp-overlay-builder-toolbox ss-window-anchor> </cmp-overlay-builder-toolbox> <cmp-box-resizer ng-repeat="data in vm.data" box="data" text="data.templateString" is-active="data === routeVm.selectedBox" is-drawing="data === vm.drawingBox" ng-class="{selected: data === routeVm.selectedBox}" ng-mousedown="go.selectBox(data, $event)" ng-click="go.selectBox(data, $event)" on-delete="go.removeBox(data)" title="{{ data.templateString || data.matchValue }}"></cmp-box-resizer> <cmp-box-creator starting-point="vm.newBoxStartingPoint" box-created="go.createdBox($box)"> </cmp-box-creator> <canvas ng-style="{{ go.calculateImageWidth() }}"></canvas> <ul class="pages"> <li ng-repeat="img in vm.explodedImageUrls" ng-class="{\'visible\': vm.currentPage === $index+1}"> <img ng-show="vm.currentPage === $index+1" cross-origin="anonymous" ng-src="{{ img }}" class="bg-image" ng-style="{{ go.calculateImageWidth() }}"> </li> </ul> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-attachments/attachments.html",'<section class="segment-form-builder-preview-attachments"> <header class=""> <h4 class="">Attachments</h4> </header> <div class="main-content"> <div class="pad-12" ss-pending="vm.isLoading"> <ul class="form-attachment-list"> <li class="list-item form-attachment-item" ng-if="vm.files.length && !vm.isLoading" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment._url)" title="Open {{attachment._filename}}" target="_blank"></a> </li> <li class="list-item form-attachment-item" ng-if="!vm.files.length && !vm.isLoading">No attachments</li> </ul> </div> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-page-header/page-header.html",'<header class="segment-form-builder-preview-page-header"> <div class="page-header-group"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="title"><h2>Form Preview</h2></div> <div class="close"> <super-button label="Close Preview" ng-click="go.close()"></super-button> </div> </div> <div class="form-header-group"> <div class="form-meta-group"> <h2 ss-icon="li-form-large" class="form-name" ng-bind="vm.form._name" data-qa="form-template-title"></h2> <ul class="form-meta ss-pipe-children"> <li class="form-meta-item status" ng-bind="vm.formStatusLabel"></li> <li class="form-meta-item"><abbr class="form-instance-version" title="version {{routeVm.formTemplate._templateVersion || 1}}">v{{routeVm.formTemplate._templateVersion || 1}}</abbr></li> <li class="form-meta-item modified">{{vm.modifiedDate}}</li> </ul> </div> <div class="form-display-toggle-group" ng-if="routeVm.hasPDFOverlay"> <div class="form-display-toggle-control-group"> <super-button ng-class="{active: !routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = false)" label="Web Form" smp></super-button> <super-button ng-class="{active: routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = true)" label="PDF Overlay" smp></super-button> </div> </div> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/form-builder/preview/segment-form-workflow/form-workflow.html",'<div class="segment-form-builder-preview-form-workflow" ss-pending="vm.loading"> <ul class="fb-step-list"> <li class="fb-step-list-item" ng-repeat="step in vm.steps" ng-click="go.selectStep($index, step)" id="fb-step-{{$index}}" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false"> <section class="fb-step" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': vm.selectedStepId === step.id}"> <header class="fb-step-header"> <h4 class="fb-step-title"> <span ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview">Workflow Step {{$index + 1}}</span> <span ng-if="step._name && step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview">&nbsp;-&nbsp;</span> <span ng-if="step._name">{{step._name}}</span> </h4> <div ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview"> <p class="fb-step-instructions" ng-if="step._instructions" ng-bind="step._instructions"></p> <div class="fb-step-meta"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="step.participantLabel" title="{{step.participantLabel}}"></li> <li ss-icon="wrench">{{step._stepAction | enumByValue: \'stepAction\'}}</li> </ul> </div> </div> </header> <div ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview"> <ul class="fb-field-groups"> <li class="fb-field-group" ng-repeat="group in step.fieldGroups" ss-hide-when-empty> <cmp-template-field-renderer ng-repeat="field in group" field="field" group="group" ss-hide-when-empty></cmp-template-field-renderer> </li> </ul> <footer class="fb-step-footer"> <div class="fb-comments"> <super-input-textarea model="" label="Comments (visible to all participants)"></super-input-textarea> </div> <div ng-if="step._stepAction === vm.stepAction.formEntry" class="form-entry step-action"> <super-button pri label="Submit Form"></super-button> </div> <div ng-if="step._stepAction === vm.stepAction.reviewForm" class="review-form step-action"> <super-button pri label="Form Has Been Reviewed"></super-button> </div> <div ng-if="step._stepAction === vm.stepAction.reviewApproveOrDeny" class="approve-deny step-action"> <super-button pri label="Approve Form"></super-button> <super-button neg label="Deny Form"></super-button> </div> </footer> </div> </section> </li> </ul> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-steps-summary/steps-summary.html",'<section class="segment-form-builder-preview-steps-summary"> <header class=""> <h4 class="">Form Workflow</h4> </header> <div class="main-content"> <div ss-pending="vm.loading"> <ul class="fb-steps-summary"> <li class="fb-summary-step" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': vm.selectedStepId === step.id}" ng-repeat="step in vm.steps" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false" ng-click="go.selectStep($index, step)" ng-if="!vm.loading"> <h4 class="step-heading">Workflow Step {{$index + 1}}<span ng-if="step._name">&nbsp;-&nbsp;{{step._name}}</span></h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStepId === step.id"> <dt>main participant:</dt> <dd> <ul class="fb-step-meta"> <li class="list-row" ss-icon="user"> <span ng-if="step.participantLabel.length" title="{{step.participantLabel}}">{{step.participantLabel}}</span> <em ng-if="!step.participantLabel.length">no participant selected</em> </li> <li class="list-row"> <ul class="ss-pipe-children"> <li class="" ss-icon="wrench"> <span ng-if="step.stepActionLabel.length">{{step.stepActionLabel}}</span> <em ng-if="!step.stepActionLabel.length">no action chosen</em> </li> <li class="" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants:</dt> <dd> <ul class="fb-step-meta"> <li ng-if="step.otherParticipants.length" class="list-row" ng-repeat="others in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-show="others.name.length" ng-bind="others.name" title="{{others.name}}"></li> <li ss-icon="key" ng-bind="others.permissions.length ? others.permissions : \'No Access\'"></li> </ul> </li> <li ng-if="!step.otherParticipants.length"><em>no additional participants</em></li> </ul> </dd> <dt>Actions:</dt> <dd ng-if="step.eventDetails.length" ng-repeat="event in step.eventDetails"> <dl class="step-summary-sub-list"> <dt ss-icon="envelope-o">{{ event.title }}</dt> <dd ng-repeat="action in event.actions track by $index">- {{ action }}</dd> </dl> </dd> <dd class="event-actions" ng-if="!step.eventDetails.length"><em>no additional actions</em></dd> </dl> </li> <li class="fb-summary-step fb-step-review" ng-class="{\'is-hover\': vm.reviewStep.hoverState, \'is-selected\': vm.selectedStepId === vm.reviewStep.id}" ng-if="vm.reviewStep" ng-mouseenter="vm.reviewStep.hoverState = true" ng-mouseleave="vm.reviewStep.hoverState = false" ng-click="go.selectStep(\'review\', vm.reviewStep)"> <h4 class="step-heading">Review Profile Updates</h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStepId === vm.reviewStep.id"> <dt>main participant:</dt> <dd> <ul class="fb-step-meta"> <li class="list-row" ss-icon="user"> <span ng-if="vm.reviewStep.participantLabel.length">{{vm.reviewStep.participantLabel}}</span> <em ng-if="!vm.reviewStep.participantLabel.length">no participant selected</em> </li> <li class="list-row"> <ul class="ss-pipe-children"> <li class="" ss-icon="wrench"> <span ng-if="vm.reviewStep.stepActionLabel.length">{{vm.reviewStep.stepActionLabel}}</span> <em ng-if="!vm.reviewStep.stepActionLabel.length">no action chosen</em> </li> <li class="" ss-icon="key" ng-if="vm.reviewStep.participantPermission.length" ng-bind="vm.reviewStep.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>Actions:</dt> <dd ng-if="vm.reviewStep.eventDetails.length" ng-repeat="event in vm.reviewStep.eventDetails"> <dl class="step-summary-sub-list"> <dt ss-icon="envelope-o">{{ event.title }}</dt> <dd ng-repeat="action in event.actions track by $index">- {{ action }}</dd> </dl> </dd> <dd class="event-actions" ng-if="!vm.reviewStep.eventDetails.length"><em>no additional actions</em></dd> </dl> </li> <li class="fb-summary-step fb-step-final" ng-class="{\'is-hover\': vm.finalStep.hoverState, \'is-selected\': vm.selectedStepId === vm.finalStep.id}" ng-mouseenter="vm.finalStep.hoverState = true" ng-mouseleave="vm.finalStep.hoverState = false" ng-click="go.selectStep(\'final\', vm.finalStep)"> <h4 class="step-heading">Form &amp; Workflow Complete</h4> <div ng-show="vm.selectedStepId === vm.finalStep.id"> <dl class="step-summary-list pad-12"> <dt ng-if="vm.finalStep.employeeRecord" ss-icon="copy">copy to personnel document category:</dt> <dd ng-if="vm.finalStep.employeeRecord" ng-bind="vm.finalStep.employeeRecord"></dd> <dt ng-if="vm.finalStep.eventDetails.length" ss-icon="envelope-o">{{ vm.finalStep.eventDetails[0].title }}</dt> <dd ng-if="vm.finalStep.eventDetails.length" ng-repeat="action in vm.finalStep.eventDetails[0].actions">- {{ action }}</dd> <dt ng-if="!vm.finalStep.employeeRecord && !vm.finalStep.eventDetails.length">Actions: </dt> <dd ng-if="!vm.finalStep.employeeRecord && !vm.finalStep.eventDetails.length"><em>no additional actions</em></dd> </dl> </div> </li> </ul> </div> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/settings/segment-settings/settings.html",'<div class="segment-form-builder-settings-settings"> <section class="gd-row template-details"> <header class="gd-25p"> <h4>Template Details</h4> </header> <div class="gd-60p"> <div class="gd-row"> <p>This information determines who can access the form template as well as track a form after it has been sent.</p> </div> <div class="gd-row settings-allow-employee-initiate"> <super-input-checkbox label="Allow employees to initiate this form template" required model="vm.form._isEmployeeInitiated"></super-input-checkbox> <small class="inset">This template will be available for employees to start (complete and/or submit) without admin assistance.</small> </div> <div class="gd-row settings-category"> <super-select-list model="vm.form._category.id" label="Category" required="true" ss-validate="validator.required(vm.form._category.id, \'Category\')"> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row settings-form-administrator"> <super-select-list label="Form Administrator (can track progress of the form)" model="vm.form._formAdministrator.formAdministratorType" default-option-label="Select Form Administrator" required="true" ss-validate="validator.required(vm.form._formAdministrator.formAdministratorType, \'Form Administrator\')"> <super-select-list-item ng-repeat="item in vm.formAdminList" value="item.value" label="item.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row settings-specific-employee" ng-if="vm.form._formAdministrator.formAdministratorType === 3"> <super-employee-search id="form-admin-employee-search" model="vm.specificEmployeeHolder" limit="1" use-pill="false" placeholder="Find Employee" ss-validate="validator.required(vm.form._formAdministrator.employeeId, \'Specific person\')"> </super-employee-search> </div> </div> </section> <section class="gd-row step" ng-repeat="step in vm.steps"> <header class="gd-25p"> <h4 data-qa="step-name"><span class="step-name-prefix">Workflow Step {{$index+1}}</span><span ng-if="step._name" class="step-name-custom"> - {{::step._name}}</span></h4> </header> <div class="gd-60p"> <dl class="gd-row step-properties-group"> <div class="gd-50p"> <dt>Step Participant</dt> <dd data-qa="step-participant" ng-bind="step.participantLabel" title="{{step.participantLabel}}"></dd> </div> <div class="gd-50p"> <dt>Step Action</dt> <dd data-qa="step-action">{{step._stepAction | enumByValue: \'stepAction\'}}</dd> </div> </dl> <div class="step-notification-message-group" data-qa="step-ready-message-group"> <p class="message-preview-header"><i>"Step Ready"</i> Email Message Preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <super-input-textarea ng-if="step._useCustomNotification" model="step._notificationBody" placeholder="Type optional custom message here" id="step-ready-message-{{step.id}}"></super-input-textarea> <div><small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small></div> </div> <super-input-checkbox class="add-step-message" model="step._useCustomNotification" aria-controls="step-ready-message-{{step.id}}"></super-input-checkbox><label>Add Custom Message</label> </div> <div ng-if="step.showResendMessage" class="step-notification-message-group" data-qa="step-resent-message-group"> <hr class="divider"> <p class="message-preview-header"><i>"Step Resent"</i> Email Message Preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <super-input-textarea ng-if="step._useCustomResendNotification" model="step._resendNotificationBody" placeholder="Type optional custom message here" id="step-resent-message-{{step.id}}"></super-input-textarea> <div><small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small></div> </div> <super-input-checkbox class="add-step-message" model="step._useCustomResendNotification" aria-controls="step-resent-message-{{step.id}}"></super-input-checkbox><label>Add Custom Message</label> </div> </div> </section> <section ng-if="vm.lastStepText.length"> <h4>Form Complete</h4> <p>{{vm.lastStepText}}</p> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-attachments/attachments.html",'<section class="segment-inbox-form-instance-attachments"> <header class=""> <h4 class="">Attachments</h4> </header> <main class="main-content" ss-pending="vm.loading"> <div class="pad-12"> <ul class="form-attachment-list" ng-if="vm.files.length && !vm.loading"> <li class="list-item form-attachment-item" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment)" title="Open {{attachment._filename}}" target="_blank"></a> </li> </ul> <p class="" ng-if="!vm.files.length && !vm.loading">No attachments</p> </div> </main> </section>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-close/close.html",'<div class="segment-inbox-form-instance-close"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="close"> <super-button class="delete-button" neg ng-if="go.showDelete()" label="Delete" ng-click="go.deleteForm()" ng-class="{\'saving\': vm.deleting}" ss-icon="spinner" ng-disabled="vm.deleting" data-qa="form-instance-delete-button"></super-button> <super-button class="print-button" label="print form" is-disabled="routeVm.showPDFOverlay" ng-click="go.print()" data-qa="form-instance-print-button"></super-button> <super-button class="save-button" label="save progress" ng-if="!vm.formIsComplete && vm.fromView !== \'sent\'" ng-click="go.save()" data-qa="form-instance-save-button"></super-button> <button type="button" class="close-x" ng-click="go.close()" ss-tooltip="close" data-qa="form-instance-close-button"></button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-form/form.html",'<div class="segment-inbox-form-instance-form" ss-pending="vm.loading"> <form autocomplete="off" ss-validate-form ng-submit="go.submitForm(vm.selectedStep)"> <ul class="fb-steps"> <li class="fb-step" ng-class="{\'is-hover\': step.hoverState,\'is-selected\': vm.selectedStep === step}" ng-repeat="step in vm.steps" ng-click="go.selectFormObject($index, step)" ng-if="!vm.loading && vm.steps" data-qa="step-{{ step.id }}" ng-keypress="$event.stopPropagation()" id="fb-step-{{$index}}"> <fieldset ng-disabled="step.disabled" ng-if="step._stepAction !== vm.employeeProfileReview"> <div class="fb-step-header"> <h4 class="fb-step-title" data-qa="step-title">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> <p ng-if="step._instructions" ng-bind="step._instructions" data-qa="step-instructions"></p> </div> <ul class="fb-fields"> <li class="fb-field" ng-repeat="group in step.fieldGroups" ng-click="go.fieldGroupSettings($event, group)"> <ul><li> <cmp-field-renderer ng-repeat="field in group" field="field" group="group" org="routeVm.org" ignore-validations="go.ignoreValidations(step, vm.selectedStep)" ng-style="{width: field.config.width}"></cmp-field-renderer> </li></ul> </li> </ul> <div class="actions"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step.showFormEntry" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.submitStep(step)" data-qa="submit-step-button"></super-button> </div> </div> <div ng-if="step.showReviewForm" class="review-form step-action"> <div class="buttons"> <super-button pri label="Form Has Been Reviewed" type="submit" ng-click="go.acknowledgeStep(step)" data-qa="review-step-button"></super-button> </div> </div> <div ng-if="step.showReviewApproveOrDeny" class="approve-deny step-action"> <div class="buttons"> <super-button pri label="Approve Form" type="submit" ng-click="go.approveStep(step)" data-qa="approve-step-button"></super-button> <super-button neg label="Deny Form" type="submit" ng-click="go.denyStep(step)" data-qa="deny-step-button"></super-button> </div> </div> </div> </fieldset> <fieldset ng-disabled="step.disabled" ng-if="step._stepAction === vm.employeeProfileReview"> <div class="fb-step-header"> <h4 class="fb-step-title">Review Employee Profile Updates</h4> <p data-qa="step-instructions">The following will be updated in <b>{{routeVm.formInstance._employee.name}}\'s</b> employee profile:</p> </div> <table class="form-review-fields fb-fields" ng-if="step.instance._employeeProfileReviewStepFieldValues.length > 0"> <thead class="form-review-fields-head"> <tr> <th>&nbsp;</th> <th class="current">Current</th> <th class="will-change-to">Will Change To</th> <th class="update-profile">Update <br>Profile</th> </tr> </thead> <tbody class="form-review-fields-body"> <tr ng-repeat="employeeProfileReviewStepField in step.instance._employeeProfileReviewStepFieldValues"> <td class="step-field"> <div ng-bind="employeeProfileReviewStepField.sourceField.step._name"></div> <div class="field-label" ng-bind="employeeProfileReviewStepField.sourceField._label"></div> </td> <td class="current" data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" ng-bind="go.profileValueDisplay(employeeProfileReviewStepField, step)"></td> <td class="will-change-to"> <cmp-field-renderer field="employeeProfileReviewStepField.sourceField" ignore-validations="ignoreValidations"></cmp-field-renderer></td> <td class="update-profile"><super-input-checkbox data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" is-disabled="step._stepAction !== vm.employeeProfileReview || routeVm.formInstance._statusId === vm.formComplete" model="employeeProfileReviewStepField.updateEmployeeProfile"></super-input-checkbox></td> </tr> </tbody> </table> <div class="actions"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step._stepAction === vm.employeeProfileReview && routeVm.formInstance._statusId !== vm.formComplete" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.reviewProfile(step)"></super-button> </div> </div> </div> </fieldset> </li> <li class="fb-step" ng-if="!vm.loading && !vm.steps.length"> <div class="fb-step-header"> <h4 class="fb-step-title">No Steps Found</h4> </div> <ul class="fb-fields"> <li class="fb-field">Either there was a problem retrieving workflow steps for this form, or you do not have permission to see any steps.</li> </ul> </li> </ul> </form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-header/header.html",'<div class="segment-inbox-form-instance-header"> <div class="gd-row form-header-wrapper"> <div class="form-header-group form-info-group"> <h2 ss-icon="{{routeVm.formTemplate._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" class="form-instance-title" ng-bind="routeVm.formInstance.name" data-qa="form-instance-title"></h2> <ul class="form-meta ss-pipe-children"> <li class="form-meta-item"><abbr class="form-instance-version" title="version {{routeVm.formTemplate._templateVersion || 1}}">v{{routeVm.formTemplate._templateVersion || 1}}</abbr></li> <li class="form-meta-item">sent {{routeVm.formInstance.sentDate}} by {{routeVm.formInstance._creator.name}}</li> </ul> <p ng-if="routeVm.formTemplate._instructions" ng-bind="routeVm.formTemplate._instructions"></p> </div> <div class="form-header-group form-controls-group"> <div class="form-control-group sensitive-field-toggle-control-group" data-qa="sensitive-field-toggle-control-group" ng-if="vm.hasSensitiveFields"> <label for="sensitive-field-toggle">display sensitive info</label> <fluid-toggle label="\'this control will toggle the visibility of sensitive fields\'" checked="false" warning="" on:checked-change="go.toggleSensitiveFields($event)" is-disabled="vm.loading"></fluid-toggle> </div> <div class="form-control-group form-display-control-group" ng-if="routeVm.hasPDFOverlay"> <super-button ng-class="{active: !routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = false)" label="Web Form" smp></super-button><super-button ng-class="{active: routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = true)" label="PDF Overlay" smp></super-button> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-steps/steps.html",'<section class="segment-inbox-form-instance-steps"> <header class=""> <h4 class="">Form Workflow</h4> </header> <main class="main-content" ss-pending="vm.loading"> <ul class="fb-steps-summary" ng-if="!vm.loading && vm.steps.length"> <li class="fb-summary-step" ng-class="{\n\t\t\t\t\t\'is-hover\': step.hoverState,\n\t\t\t\t\t\'is-selected\': vm.selectedStep === step,\n\t\t\t\t\t\'is-disabled\': step.disabled\n\t\t\t\t}" ng-repeat="step in vm.steps" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false" ng-click="go.selectStep($index, step)"> <h4 class="step-heading">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStep === step" ng-cloak> <dt>main participant</dt> <dd> <ul class="fb-step-meta"> <li class="list-item-row" ss-icon="user" ng-if="step.instance._stepParticipant.name" ng-bind="step.instance._stepParticipant.name"></li> <li class="list-item-row" ng-if="step.stepActionName"> <ul class="ss-pipe-children"> <li class="item" ss-icon="wrench" ng-if="step.stepActionName" ng-bind="step.stepActionName"></li> <li class="item" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants</dt> <dd ng-if="step.otherParticipants.length"> <ul class="fb-step-meta"> <li class="list-item-row" ng-repeat="other in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="other.name" title="{{other.name}}"></li> <li ss-icon="key" ng-bind="other.permissions" title="{{other.name}}"></li> </ul> </li> </ul> </dd> <dd ng-if="!step.otherParticipants.length">No additional participants</dd> </dl> </li> <li class="fb-summary-step" ng-if="!vm.loading && !vm.steps.length"> <div class="pad-box"><p>No Workflow Steps found</p></div> </li> </ul> </main> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/builder/segment-builder/builder.html",'<div class="segment-packet-builder-builder-builder" ss-pending="packetVm.saving"> <div class="gd-row"> <section class="gd-55p"> <div class="filters"> <div class="search-form"> <super-input-text model="vm.search" ss-icon="li-search" data-qa="packet-template-search-form">Find Form</super-input-text> </div> <div class="gd-row"> <div class="gd-50p select-filter-category"> <super-select-list label="Filter Category" type="filter" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div class="gd-50p select-filter-sortby"> <super-select-list label="Sort By" type="filter" model="vm.sortBy"> <super-select-list-item ng-repeat="option in vm.sortCriteria" label="option.name" value="option.field"></super-select-list-item> </super-select-list> </div> </div> </div> <div ss-pending="vm.loading" ss-pending-status="\'Loading form templates...\'"> <ul class="gd-row ss-panel-list form-list-full"> <li ng-if="!vm.loading && !vm.forms.length">No forms found</li> <li class="gd-row auto-{{ form.id }}" ng-repeat="form in vm.forms" dnd-draggable="form" dnd-type="\'formType\'" dnd-effect-allowed="copyMove" dnd-disable-if="form.inPacket"> <div class="form-icon"><i class="icon" ss-icon="li-form-large"></i> </div> <div class="form-info"> <h4><a href="" ng-click="go.preview(form)" ng-bind="form._name"></a>&nbsp;<strong class="form-status" ng-if="form.status !== \'active\'" ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.statusLabel"></strong></h4> <ul class="form-meta-info ss-pipe-children"> <li class="form-meta-item" ng-if="form._steps.length"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover ng-if="form._steps.length > 0"> <h6>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize> </h6> <ol class="popover-step-list"> <li ng-repeat="step in form._steps" ng-if="step._stepAction !== vm.stepAction.formCompleted" title="{{step.participantLabel}} | {{step.stepActionLabel}}"><span>{{step.participantLabel}} | {{step.stepActionLabel}}</span></li> </ol> </super-popover> </li> <li class="form-meta-item" ng-if="form._modifiedDt">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</li> <li class="form-meta-item" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> <div class="action"> <p id="form-added-status" class="form-added" ng-if="form.inPacket" ss-icon="check" role="status" aria-label="form has been added">Added</p> <super-button ng-if="!form.inPacket" ng-click="go.add($index, form)" label="Add" aria-controls="form-added-status"></super-button> </div> </li> </ul> </div> <div class="infinite-scrolling" ng-if="vm.showInfScroll" infinite-scroll="go.scrollData()" ss-pending="vm.scrolling" ss-pending-status="\'Loading form templates...\'" infinite-scroll-distance="0.5"></div> </section> <section class="added-packets gd-45p" ss-window-anchor> <h3 ss-icon="li-packet-large">Packet</h3> <div ss-pending="vm.loadingPacket" ss-pending-status="\'Loading packet...\'"> <ul class="form-list-added" dnd-list="added" dnd-drop="go.dropForm(event, index, type, item)" dnd-allowed-types="[\'formType\', \'addedType\']"> <li ng-if="!vm.loadingPacket && !added.length">There are no forms in this packet</li> <li class="gd-row auto-{{ form.id }}" ng-repeat="form in added" dnd-draggable="form" dnd-type="\'addedType\'" dnd-moved="go.moveForm($index, form)" dnd-effect-allowed="move"> <h4><a href="" ng-click="go.preview(form)" ng-bind="form._name"></a>&nbsp;<strong class="form-status" ng-if="form.status !== \'active\'" ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.statusLabel"></strong></h4> <ul class="gd-85p form-meta-info ss-pipe-children"> <li class="form-meta-item" ng-if="form._steps.length"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <h6>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></h6> <ol class="popover-step-list"> <li ng-repeat="step in form._steps" ng-if="step._stepAction !== vm.stepAction.formCompleted" title="{{step.participantLabel}} | {{step.stepActionLabel}}"><span>{{step.participantLabel}} | {{step.stepActionLabel}}</span></li> </ol> </super-popover> </li> <li class="form-meta-item" ng-if="form._modifiedDt">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</li> <li class="form-meta-item" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o"> PDF Overlay available</li> </ul> <div class="form-remove gd-15p" ng-click="go.remove($index, form)"> <button class="action" ss-icon="minus-circle" aria-controls="form-added-status" aria-label="remove {{form._name}}"></button> </div> </li> </ul> </div> </section> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/settings/segment-settings/settings.html",'<div class="segment-packet-builder-settings-settings"> <section class="gd-row category"> <div class="gd-25p"> <h4>Category<em class="required" aria-label="category is required"></em></h4> </div> <div class="gd-75p"> <super-select-list model="vm.packet._category.id"> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> </section> <section class="gd-row"> <div class="gd-25p"> <h4><i>"Packet Ready"</i> Message</h4> <em class="section-subhead">Initial step ready notifications for forms in this packet will be suppressed when this packet is sent.</em> </div> <div class="gd-55p"> <div class="step-notification-message-group" data-qa="packet-ready-message-group"> <p class="message-preview-header"><i>"packet ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="vm.packet._startupEmail.notificationPrefix"></i></p> <ul class="forms-list" ss-pending="vm.loading" ss-pending-status="\'loading forms in packet...\'" aria-busy="vm.loading"> <li ng-repeat="form in vm.forms"><i ng-bind="form._name"></i></li> </ul> <p><super-input-textarea id="message-textarea" model="vm.packet._startupEmail.message" ng-if="vm.packet._startupEmail.useStartupEmail" placeholder="Type optional custom message here"></super-input-textarea></p> <div><small class="message-suffix"><i ng-bind="vm.packet._startupEmail.notificationSuffix"></i></small></div> </div> <super-input-checkbox class="add-step-message" label="Customize Packet Message" model="vm.packet._startupEmail.useStartupEmail" aria-controls="message-textarea"></super-input-checkbox> </div> </div> </section> <section class="gd-row workflow"> <div class="gd-25p"> <h4>Packet Workflow &amp; Notifications</h4> <em class="section-subhead"><i>"Step Ready"</i> email notifications to the primary recipient of the first step and <i>"Form Complete"</i> email notifications to sender are suppressed for any form in a packet</em> </div> <div class="gd-75p"> <ul class="packet-forms-list" ss-pending="vm.loading" ss-pending-status="\'loading forms in packet...\'" aria-busy="vm.loading"> <li class="form" ng-repeat="form in vm.forms"> <p class="form-name" ng-bind="form._name" ss-icon-before="li-form-large"></p> <div class="form-meta-info"> <span ng-if="form._steps.length > 0"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <p>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></p> <ul class="popover-step-list"> <li ng-repeat="step in form.steps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> | </span> <span>Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</span> </div> </li> </ul> </div> </section> </div> ')}])}()},{}],67:[function(e,t,n){"use strict";var r=e("base-state"),i={added:[],addingFields:!1,featureFlags:{isHRMSEnabled:!1},props:!1},o={url:"/builder?deactivate",
templateUrl:"routes/form-builder/builder/builder.html",resolve:{$title:["$title",function(e){return e+" (Form Builder)"}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.builder",new r.State(o,i))}])},{"base-state":56}],68:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$location","ssAsync","ssFormTemplatesApi","ssEventSvc","ssEnum","formsHlp","fieldsHlp","ssArrayHlp","ssToastHlp","ssModalSvc",function(e,t,n,i,o,a,s,l,c,p,u,d,m,f){function g(){var e=D.steps.find(function(e){return e._stepAction===c.stepAction.formCompleted});null==e?(e=D.steps.pop(),e.last=!0,e._stepAction=c.stepAction.formCompleted,e._stepParticipant.participantType=D.stepParticipant.employeeChosenWhenSent,e._name="Form and Workflow is Complete"):(e.last=!0,D.steps.splice(D.steps.indexOf(e),1)),e._stepParticipant.participantType=D.stepParticipant.employeeChosenWhenSent,D.lastStep=e}function y(){if(D.reviewStep=P(D.form._steps),O=b(),D.reviewStep)D.steps.splice(D.steps.indexOf(D.reviewStep),1);else{if(!O.length)return;h(!0)}}function b(){var e=[];return D.steps.forEach(function(t){t.fieldGroups.length>0&&t.fieldGroups.forEach(function(t){var n=t.map(function(e){if(!0===e._updateEmployeeRecord)return e._fieldGroup});e=e.concat(n)})}),d.unique(e.filter(function(e){return null!=e}))}function h(e){if(e)null==P(D.form._steps)&&v();else{if(e||!(O.length<1))return;_()}T.modelChanged()}function v(){var e=p.makeStep({_name:"Review Profile Updates",_stepAction:c.stepAction.employeeProfileReview,_stepEvents:[{eventType:D.stepEventType.onEmployeeProfileReview,eventActions:[]}],_permissions:[{canView:!0,canEdit:!0,canViewSensitive:!0,canEditSensitive:!0,employeeId:""}]});D.form._steps.splice(D.form._steps.length-1,0,e),D.reviewStep=e}function _(){var e=D.form._steps.find(function(e){return e._stepAction===c.stepAction.employeeProfileReview});null!=e&&(D.form._steps.splice(D.form._steps.indexOf(e),1),D.reviewStep=null)}function w(e,t){e?O.includes(t[0]._fieldGroup)||O.push(t[0]._fieldGroup):O.includes(t[0]._fieldGroup)&&O.splice(O.indexOf(t[0]._fieldGroup),1)}function P(e){return e.find(function(e){return e._stepAction===c.stepAction.employeeProfileReview})}var S=t.routeVm,T=t.formVm,x=(e.get("segmentFormBuilderBuilderBuilderLogic"),null),O=[],D=t.vm=S.vm={form:T.formData,steps:[],selectedFormObject:null,stepAction:c.stepAction,stepEventType:c.stepEventType,stepParticipant:c.stepParticipantType},A=t.go={stepSettings:function(e,n){D.selectedFormObject=e,e.index=n+1,t.$emit("component-properties","cmp-properties-step",e)},formComplete:function(){D.selectedFormObject=D.lastStep,t.$emit("component-properties","cmp-properties-form-complete",D.lastStep)},reviewStep:function(){D.selectedFormObject=D.reviewStep,t.$emit("component-properties","cmp-properties-profile-review",D.reviewStep)},addStep:function(){var e=D.form._steps.length,t=p.makeStep();D.form._steps.splice(e-1,0,t),D.steps.push(t),T.modelChanged(),A.stepSettings(t,D.steps.length-1)},movedStep:function(e,t){D.steps[x]=t,D.steps.splice(e,1)},dropStep:function(e,t,n){return T.modelChanged(),x=t,{}}};T.updateStepOrder=function(){return p.updateStepOrder(D.form,D.steps)},T.updateFieldOrder=function(){return p.updateFieldOrder(D.steps)},T.addStepIdToField=function(){return u.addStepIdToField(D.steps)},T.updateFormFields=function(){var e,t=D.steps.reduce(function(e,t){return[].concat.apply(e,t.fieldGroups)},[]),n=D.form._formFields.filter(function(e){return e._tokenField&&!0===e._tokenField}),i=[].concat(r(t),r(n));(e=D.form._formFields).splice.apply(e,[0,D.form._formFields.length].concat(r(i)))},l.on("ss-json-api.addedRecord.formFields",function(e,t){var n=D.steps.find(function(t){return t.id===e._step.id});if(null!=n){var r=n.fieldGroups.findIndex(function(t){return t.includes(e)});if(-1!==r){var i=n.fieldGroups[r].indexOf(e);-1!==i&&(n.fieldGroups[r][i]=t)}}},t),l.on("ss-json-api.addedRecord.steps",function(e,t){var n=D.steps.indexOf(e);-1!==n&&(D.steps[n]=t)},t),l.on("emp-record-commit",function(e,t){w(e,t),h(e)},t),T.processTemplate=function(){return a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.form.$refresh();case 2:return t=[],D.steps=[],p.sortByOrderField(D.form._steps,D.form._stepOrder),D.form._steps.forEach(function(e){e.fields=[],D.steps.push(e)}),D.steps.forEach(function(e){e.fieldGroups=[],e.fields=D.form._formFields.filter(function(t){return!t._tokenField&&t._step&&t._step.id===e.id}),p.sortByOrderField(e.fields,e._fieldOrder),e.fields.forEach(function(n){if(null!=n._fieldGroup&&(S.added[n._fieldGroup]=!0),["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(n._fieldDefId)&&null!==n._fieldGroup&&(n._fieldGroup=null),null!=n._fieldDefId){var i=u.updateFieldAttributes(n),o=u.updateFieldOptions(n);t=[].concat(r(i),r(o))}if("super-input-datepicker"===n._fieldType&&(n._fieldType="super-iso-org-date"),0===e.fieldGroups.length)return void e.fieldGroups.push([n]);var a=e.fieldGroups[e.fieldGroups.length-1];null!=n._fieldGroup&&a[0]._fieldGroup===n._fieldGroup?a.push(n):e.fieldGroups.push([n])}),delete e.fields}),g(),y(),t.length&&t.forEach(function(e){e.$isDirty&&e.$$forceChangedState("_options")}),e.next=12,D.form.$save();case 12:p.initSaveInterrupter(D.form);case 13:case"end":return e.stop()}},e,this)}))()},a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"true"!==i.deactivate&&D.form._statusId!==c.formTemplateStatus.active||(t={title:"Edit Form Template",content:"This is an active template and will need to be deactivated to continue",primaryText:"Deactivate and continue",secondaryText:"Cancel",alwaysOnTop:!0},f.showStandard(t).then(function(){T.loading=!0,T.loadingMsg='Deactivating "'+D.form._name+'"',s.editActive(D.form).then(function(e){o.url("/ec-forms/form-builder/"+e.id+"/builder")}).catch(function(e){m.error("there was an error deactivating the form template",""),n.go("base.formTemplates")})}).catch(function(){n.go("base.formTemplates")})),T.loading=!0,T.loadingMsg="loading form template...",T.modelChanged(!1),Object.keys(S.added).forEach(function(e){return S.added[e]=!1}),e.next=8,T.processTemplate();case 8:T.loading=!1,T.loadingMsg="",A.stepSettings(D.steps[0],0),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),T.loading=!1,T.loadingMsg="",console.error(e.t0);case 18:case"end":return e.stop()}},e,this,[[0,13]])}))()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderBuilderBuilder",function(){return new c("builder")})},{"base-segment":55}],69:[function(e,t,n){"use strict";function r(e){return{}}r.$inject=["ssEnum"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderBuilderBuilderLogic",r)},{}],70:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("base-segment"),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssArrayHlp","ssStorage","ssMultiInitiativeFeatureDetectorCCSvc","ngIntroService",function(e,t,n,i,o,a,l){function c(e){return!e.featureFlag||(t.featureFlags[e.featureFlag.name]?e.featureFlag.showIfActive:!e.featureFlag.showIfActive)}function p(){var e=[],t={},n=!0,o=!1,a=void 0;try{for(var l,c=Object.entries(d.fields)[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var p=s(l.value,2),u=(p[0],p[1]);e=[].concat(r(e),r(u.filter(function(e){return e.featureFlag}).map(function(e){return e.featureFlag.name})))}}catch(e){o=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw a}}return i.unique(e).forEach(function(e){t[e]="false"}),t}var u=t.routeVm;e.get("segmentFormBuilderBuilderFieldsLogic");t.ngIntroService=l,t.ssStorage=o,t.featureFlags={};var d=t.vm={fields:{custom:[{component:"cmp-properties-custom-input",fields:"custom_input",label:"Input"},{component:"cmp-properties-custom-dropdown",fields:"custom_dropdown",label:"Dropdown"},{component:"cmp-properties-custom-selectbox",fields:"custom_selectGroup",label:"Multiple Choice"},{component:"cmp-properties-custom-signature",fields:"custom_signatures",label:"Signatures"},{component:"cmp-properties-custom-date",fields:"custom_date",label:"Date"},{component:"cmp-properties-custom-fileupload",fields:"custom_fileUpload",label:"File Upload"},{component:"cmp-properties-custom-filelink",fields:"custom_fileLink",label:"Link"},{component:"cmp-properties-custom-text",fields:"custom_text",label:"Simple Text"},{component:"",fields:"custom_textEditor",label:"Text Editor"}],employee:[{component:"cmp-properties-smart",fields:"legalName",label:"Legal Name",allowMultiple:!1},{component:"cmp-properties-smart",fields:"aliasName",label:"Other Name",allowMultiple:!1},{component:"cmp-properties-smart",fields:"address",label:"Address",allowMultiple:!1},{component:"cmp-properties-smart",fields:"contact",label:"Contact",allowMultiple:!1},{component:"cmp-properties-smart",fields:"personal",label:"Personal",allowMultiple:!1},{component:"cmp-properties-credentials",fields:"credentials",label:"Credentials",allowMultiple:!1,featureFlag:{name:"isCredentialsFormGroupEnabled",showIfActive:!0}},{component:"cmp-properties-smart",fields:"employment",label:"Employment",allowMultiple:!1},{component:"cmp-properties-primary-assignment",fields:"primaryAssignmentNew",label:"Primary Assignment",allowMultiple:!1},{component:"cmp-properties-secondary-assignments",fields:"assignments",label:"Secondary Assignments",allowMultiple:!1},{component:"cmp-properties-salary",fields:"assignmentsTotalSalary",label:"Total Salary",allowMultiple:!1,showIfHRMS:!1},{component:"cmp-properties-smart",fields:"financial",label:"Financial",allowMultiple:!1,showIfHRMS:!1},{component:"cmp-properties-smart",fields:"emergency",label:"Emergency",allowMultiple:!1,showIfHRMS:!1}]}};t.go={filterEmployeeRecordTools:function(e){return u.featureFlags.isHRMSEnabled&&e.hasOwnProperty("showIfHRMS")?e.showIfHRMS:c(e)}};n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.featureFlags=Object.assign(t.featureFlags,p()),e.next=4,a.resolveAll(t.featureFlags);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}]},{key:"link",value:function(e,t){angular.element(document).ready(function(){!function(){var t=[];t.length>0&&(e.ngIntroService.setOptions({steps:t,doneLabel:"Got it!",showBullets:!1,showStepNumbers:!1,disableInteraction:!0}),e.ngIntroService.onExit(function(){}))}()})}}]),t}(c.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderBuilderFields",function(){return new p("fields")})},{"base-segment":55}],71:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderBuilderFieldsLogic",r)},{}],72:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$element","$compile","$animate",function(e,t,n,r,i){var o=(t.routeVm,e.get("segmentFormBuilderBuilderPropertiesLogic"),t.formVm),a={left:"-120%"},s={left:0},l=void 0,c=!1,p=document.getElementsByClassName("view-props")[0],u=angular.element(p),d=void 0;t.vm={form:o.formData};t.formVm.suppressEditAccessModal=!1,t.$on("$destroy",t.$root.$on("component-properties",function(e,o,p){if(t.data!==p||!c){if(!o)return void(c&&i.animate(n,s,a,"",{duration:"0.3"}).then(function(){i.leave(d),u.html(""),c=!1}));null!=l&&l.$destroy(),l=t.$new(!1),t.data=p;var m="fields",f=o;["cmp-properties-step","cmp-properties-form-complete","cmp-properties-profile-review"].includes(o)&&(m="step"),c?i.animate(n,s,a,"",{duration:"0.3"}).then(function(){u.html(""),i.leave(d).then(function(){d=r("<"+f+" "+m+'="data" form="vm.form"></'+f+">")(l),i.enter(d,u).then(function(){i.animate(n,a,s,"",{duration:"0.3"})})})}):(d=r("<"+f+" "+m+'="data" form="vm.form"></'+f+">")(l),i.enter(d,u).then(function(){i.animate(n,a,s,"",{duration:"0.3"})}),c=!0),e.stopPropagation()}}))}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderBuilderProperties",function(){return new l("properties")})},{"base-segment":55}],73:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderBuilderPropertiesLogic",r)},{}],74:[function(e,t,n){"use strict";var r=e("base-state"),i=e("../../components/cmp-text-editor/plugins/placeholder_select.js"),o={},a={url:"/form-builder/{formId:[0-9A-Za-z-]+}",templateUrl:"routes/form-builder/form-builder.html",resolve:{form:["$stateParams","ssAsync","ssFormTemplatesApi","ssOrganizationSvc",function(e,t,n,r){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.formId,include:"steps,formFields,statusHistory"});case 3:return o.formData=t.sent,t.next=6,r.getActiveOrg();case 6:o.org=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}},t,this,[[0,9]])}))()}],$title:["form",function(e){return"Frontline Central - "+o.formData._name}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formInstances","send")}};angular.module("ec-forms").run(function(e){var t=e.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://cdn.ckeditor.com/4.13.1/full-all/ckeditor.js",e.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){CKEDITOR.plugins.add(i.PLUGIN_DEF.name,i.PLUGIN_DEF.definition)}}(window.document)),angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder",new r.State(a,o))}])},{"../../components/cmp-text-editor/plugins/placeholder_select.js":50,"base-state":56}],75:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{isHRMSEnabled:!1}},o={url:"/overlay-builder",templateUrl:"routes/form-builder/overlay-builder/overlay-builder.html",resolve:{getTemplate:["$rootScope","$stateParams","ssPermissionsSvc","ssAsync","ssFormTemplatesApi",function(e,t,n,r,o){return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.formId){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,o.get({id:t.formId,include:"steps,formFields,files"});case 4:i.formTemplate=r.sent,i.canViewOverlayBuilder=n.isPermittedAction("formTemplates","buildOverlay")||!!e.isPermitted.activeUser.idmAdministrator;case 6:case"end":return r.stop()}},r,this)}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central"},featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return!!e.permittedActions.activeUser.idmAdministrator||!!e.permittedActions.formTemplates.buildOverlay}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.overlayBuilder",new r.State(o,i))}])},{"base-state":56}],76:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssArrayHlp","ssStringHlp","formsHlp","fieldsHlp",function(e,t,n,i,o,a,s){function l(e){var t=y.selectedBox.formFieldGuids.indexOf(e.id);t>=0?y.selectedBox.formFieldGuids.splice(t,1):y.selectedBox.formFieldGuids.push(e.id)}function c(e,t){y.selectedBox.formFieldGuids=[e.id],null!=t&&(y.selectedBox.matchValue=t)}function p(e){P.forEach(function(t){switch(y.selectedBox.type){case"text":case"date":t.isAdded=e.includes(t.uniqueId)}})}function u(e){var t=a.sortByOrderField(y.formTemplate._steps,y.formTemplate._stepOrder);t.forEach(function(t){b=new Set,t.fieldGroups=[],t.hasUnmappableFields=!1;var n=[],r=[],a=[];n=_.filterAndSortByIdList(P,t._fieldOrder,{_tokenField:!1}),t.hasUnmappableFields=d(n,e),n.forEach(function(n){if(m(n,e)){n.uniqueId="id"+n.id.split("-").join(""),n.config=JSON.parse(n._configJson),n.resolvedLabel=g(n);var i=n._fieldGroup?n._fieldGroup.search(v):-1;if(-1!==i&&(n._fieldGroup=n._fieldGroup.slice(0,i)),Array.isArray(n._tokenFields)&&n._tokenFields.length)return void n._tokenFields.forEach(function(e){var t=P.find(function(t){return!0===t._tokenField&&t._fieldDefId===e.fieldDefId});t&&(t.uniqueId="id"+t.id.split("-").join(""),t.config=JSON.parse(t._configJson),t.resolvedLabel=g(t),a.push(t))});if(null==n._fieldGroup)return void r.push(n);if(0===t.fieldGroups.length)return void t.fieldGroups.push({fieldGroupName:o.toTitleCase(n._fieldGroup)||"Field Group",fields:[n]});var s=t.fieldGroups[t.fieldGroups.length-1];null==n._fieldGroup||s.fields[0]._fieldGroup!==n._fieldGroup||s.fields.find(function(e){return e._fieldDefId===n._fieldDefId})?t.fieldGroups.push({fieldGroupName:o.toTitleCase(n._fieldGroup)||"Field Group",fields:[n]}):s.fields.push(n)}}),r.length&&r.some(f)&&t.fieldGroups.push({fieldGroupName:"custom fields",fields:r}),a.length&&a.some(f)&&(a=i.unique(a.filter(function(t){return h[e.type].includes(t._fieldType)})),t.fieldGroups.push({fieldGroupName:"token fields",fields:a,config:{orderBy:"resolvedLabel"}}))}),t.forEach(function(e){e.fieldGroups=e.fieldGroups.filter(function(e){return e.fields.length&&e.fields.some(f)})}),w.steps=t.filter(function(e){return e.fieldGroups.length})}function d(e,t){return e.reduce(function(e,t){return JSON.parse(t._configJson).fields?[].concat(r(e),r(JSON.parse(t._configJson).fields)):[].concat(r(e),[t])},[]).filter(function(e){return m(e,t)}).some(function(e){return!f(e)})}function m(e,t){return h[t.type].includes(e._fieldType)||e._tokenFields&&e._tokenFields.length}function f(e){var t=e.config?e.config||{}:JSON.parse(e._configJson);return!t.hasOwnProperty("mappable")||!0===t.mappable}function g(e){try{return s.getFieldById(e)._label===e._label&&e.config.uniqueLabel?e.config.uniqueLabel:e._label}catch(e){return""}}var y=t.routeVm,b=null,h={text:["super-select-list","super-input-text","super-input-redacted","readOnlyText","super-digital-signature","text"],date:["super-input-datepicker","super-iso-org-date","readOnlyDate"],checkbox:["cmp-checkbox-group","super-select-list","readOnlyText"]},v=/-(\d{13})?$/,_=e.get("segmentFormBuilderOverlayBuilderDataPanelLogic"),w=t.vm={steps:[],fields:[],fieldGroups:[]},P=(t.go={startExpanded:function(e){var t=e.fields.map(function(e){return e.id});return!!y.selectedBox.formFieldGuids.filter(function(e){return-1!==t.indexOf(e)}).length}},y.formTemplate._formFields.filter(function(e){return e._active}));y.featureFlags.isHRMSEnabled&&(P=P.filter(function(e){var t=s.getFieldById(e);return null==t||!t._hideForHRMS})),n.on("pvb.select-field",l,t),n.on("pvb.select-option",c,t),t.$watch("routeVm.selectedBox",function(e){if(null==e)return void(w.steps=[]);u(e),p(e._template||"")}),t.$watch("routeVm.selectedBox._template",function(e){null!=e&&p(e)})}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderOverlayBuilderDataPanel",function(){return new c("data-panel")})},{"base-segment":55}],77:[function(e,t,n){"use strict";function r(){return{filterAndSortByIdList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.split(",").map(function(t){return e.find(function(e){return e.id===t})}).filter(function(e){if(null!=e)return Object.keys(n).every(function(t){return null!=e[t]&&n[t]===e[t]})})}}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderOverlayBuilderDataPanelLogic",r)},{}],78:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,l,c,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("base-segment"),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),p(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$interpolate","$q","$location","rAF","ssAsync","FileUploader","ssAuthSvc","ssToastHlp","ssFormTemplatesApi","ssModalSvc","ssSaveInterrupterSvc","ssEventSvc","ssEnum","formsHlp","filenameHlp","viewportOffsetHlp",function(e,t,n,i,o,a,p,u,d,m,f,g,y,b,h,v,_,w,P,S){function T(e){var t,n=k.formTemplate._printPreviewDefinition;R.data=[],null!=n&&null!=n.printPreviewPages&&0!==n.printPreviewPages.length&&(e>R.explodedImageUrls.length&&(e=R.explodedImageUrls.length),e<1&&(e=1),t=n.printPreviewPages,R.data=c.definitiontoLocalData(t[e-1],R.labelsById),R.currentPage=e)}function x(){E&&E(),E=t.$watch("vm.data",function(e,t){if(null!=e&&e!==t&&null!=k.formTemplate._printPreviewDefinition){var n=R.currentPage-1;k.formTemplate._printPreviewDefinition.printPreviewPages[n]=O(e),k.formTemplate.$$forceChangedState("_printPreviewDefinition"),F.modelChanged()}},!0)}function O(e){return{pageNumber:R.currentPage-1,pageObjects:e.map(function(e){return{fieldType:e.type,locationY:e.top,locationX:e.left,width:100-e.right-e.left,height:100-e.bottom-e.top,formFieldGuids:e.formFieldGuids,matchValue:e.matchValue,stringFormat:e.stringFormat||null}})}}function D(e){R.processing=!0,R.processingStatus="Adding PDF Overlay...",y.attachFile({},{filename:e.file.name,fileType:I}).then(function(n){t.ctxDomEl.style.display="block",R.file=n,R.file.filename=n._filename,e.updatedUrl=y.getUploadFileUrl({id:R.file.id}),e.upload()}).catch(function(e){g.error("File upload cancelled.")})}function A(){return d(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(F.modelChanged(!1),k.selectedBox=null,e.prev=2,"true"!==i.deactivate&&k.formTemplate._statusId!==_.formTemplateStatus.active||(r={title:"Edit Form Template",content:"This is an active template and will need to be deactivated to continue",primaryText:"Deactivate and continue",secondaryText:"Cancel",alwaysOnTop:!0},b.showStandard(r).then(function(){F.loading=!0,F.loadingMsg='Deactivating "'+k.formTemplate._name+'"',y.editActive(k.formTemplate).then(function(e){p.url("/ec-forms/form-builder/"+e.id+"/overlay-builder"),F.loading=!1,F.loadingMsg=""}).catch(function(e){g.error("there was an error deactivating the form template",""),n.go("base.formTemplates")})}).catch(function(){n.go("base.formTemplates")})),!k.formTemplate._printPreviewDefinition||!k.formTemplate._printPreviewDefinition.templateFileId){e.next=17;break}return R.processing=!0,R.processingStatus="Loading PDF overlay",e.next=9,y.getFile({id:k.formTemplate._printPreviewDefinition.templateFileId});case 9:R.file=e.sent,R.explodedImageUrls=R.file._explodedImageUrls,u.raw(function(){document.querySelector(".pages img:first-child").onload=function(){R.bgImageLoaded=!0,t.$digest(),t.$emit("canvas-resize")}}),w.initSaveInterrupter(k.formTemplate),T(1),x(),R.processing=!1,R.processingStatus="";case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),g.error("There was an error initializing the overlay builder","Error"),R.processing=!1,R.processingStatus="";case 24:case"end":return e.stop()}},e,this,[[2,19]])}))()}s=o,l=S;var k=t.routeVm,F=t.formVm,E=null;c=e.get("segmentFormBuilderOverlayBuilderOverlayLogic");var I=3,j={withCredentials:!1,headers:{Authorization:"Bearer "+f.token.access},filters:[{name:"validExt",fn:function(e){return!(!P.getExtension(e.name)||"pdf"!==P.getExtension(e.name))||(g.error('The selected file does not have a valid extension. Please choose a file with the ".pdf" extension.',"File Upload Failed"),!1)}},{name:"fileSize",fn:function(e){return!(null!=e.size&&e.size>=0&&e.size>=52428800)||(g.error("The file upload size cannot exceed 50MB. Please upload a smaller file.","File Upload Failed"),!1)}}]},C={title:"You will lose all your overlay mappings",content:"Uploading a new file will result in losing all the mappings done on the current form.",primaryText:"Continue",secondaryText:"Cancel"},R=t.vm={explodedImageUrls:[],currentPage:-1,bgImageLoaded:!1,newBoxStartingPoint:null,labelsById:function(e){return k.formTemplate._formFields.reduce(function(t,n){if(!n._fieldDefId)return t;var r=null!=e&&n._options.length?n._options[n._options.indexOf(e)]:n._label;return t["id"+n.id.split("-").join("")]=""+r,t},{})}(),data:[],processing:!1,processingStatus:"",canViewOverlayBuilder:!1},L=t.go={nextPage:function(){R.explodedImageUrls.length!==R.currentPage&&(R.currentPage++,T(R.currentPage))},previousPage:function(){1!==R.currentPage&&(R.currentPage--,T(R.currentPage))},selectBox:function(e,n){t.$root.safeApply(function(){return k.selectedBox=e}),v.emit("pvb.select-box",e),null!=n&&n.stopPropagation()},createdBox:function(e){e.type=k.selectedTool.type,e.shape=k.selectedTool.shape,e.template="",e.formFieldGuids=[],R.data=[].concat(r(R.data),[e]),u(function(){return L.selectBox(e)},t)},removeBox:function(e){R.data=R.data.filter(function(t){return t!==e})},calculateImageWidth:function(){return{"max-width":t.canvasWidth+"px"}},remove:function(){var e=a.when(),t={title:"You will lose all your overlay mappings",
content:"Removing this file will result in losing all the mappings done on the current form.",primaryText:"Continue",secondaryText:"Cancel",alwaysOnTop:!0};R.data.length&&(e=b.showDestructive(t)),e.then(function(){R.processing=!0,R.processingStatus="Removing PDF Overlay...",c.removeFile(k.formTemplate).then(function(e){E(),E=null,h.clear(),R.explodedImageUrls=[],R.processing=!1,R.processingStatus=""})})}},$=t.uploader=new m(j);$.onAfterAddingFile=function(e){var t=a.when();R.explodedImageUrls.length&&(t=b.showDestructive(C)),t.then(function(){D(e)},function(){e.cancel()})},$.onBeforeUploadItem=function(e){e.url=e.updatedUrl},$.onErrorItem=function(e,t,n,r){R.processing=!1,R.processingStatus="",g.error("The selected file did not upload correctly. Please try again.","File Upload Failed"),e.remove()},$.onCancelItem=function(e,t,n,r){g.info("File upload cancelled."),e.remove(),document.getElementById("underlay-uploader").value="",R.bgImageLoaded=!1},$.onSuccessItem=function(e,t,n,r){d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.associateFile({id:k.formTemplate.id},{fileId:R.file.id});case 3:return null==k.formTemplate._printPreviewDefinition&&(k.formTemplate._printPreviewDefinition={}),k.formTemplate._printPreviewDefinition.templateFileId=R.file.id,k.formTemplate._printPreviewDefinition.printPreviewPages=t.explodedImageUrls.map(function(e){return{pageNumber:0,pageObjects:[]}}),e.next=8,k.formTemplate.$save();case 8:return e.next=10,A();case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),R.processing=!1,R.processingStatus="";case 16:return e.prev=16,$.clearQueue(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[0,12,16,19]])}))()},A()}]},{key:"link",value:function(e,t,n){function r(){var e=b.clientWidth;e!==S&&a(e)}function i(){e.$root.safeApply(function(){return f.newBoxStartingPoint=null})}function o(t){if(p(),null==g.selectedBox){var n=v[0].getBoundingClientRect();e.$root.safeApply(function(){var e=l.getViewportOffsets(window);f.newBoxStartingPoint={x:t.pageX-n.left-e.left,y:t.pageY-n.top-e.top}})}}function a(t){var n=document.querySelector(".pages .visible img"),r=0;n&&(P=n.height/n.width,t=n.width,r=n.height),t>m&&(t=m),0===r&&(r=t*P),S=t,T=r,_.width=e.canvasWidth=_.style.width=S,_.height=e.canvasHeight=_.style.height=T,p()}function p(){w.clearRect(0,0,S,T),e.vm.data instanceof Array&&(w.fillStyle="#000000",e.vm.bgImageLoaded?(w.strokeStyle="#000000",w.lineWidth=2,e.vm.data=e.vm.data.filter(function(t){return 100-t.left-t.right>1||t===e.vm.drawingBox}),e.vm.data.forEach(u)):w.fillRect(0,0,S,T))}function u(t){var n=d(t);if(["text","date","checkbox"].includes(t.type)){if(n.width<10||n.height<10)return;var r;try{t._template="{{"+t.formFieldGuids.map(function(e){return"id"+e.split("-").join("")}).join("}} {{")+"}}",r=s(t._template)(e.vm.labelsById),t.templateString=c.convertBracketValueToCsv(r)}catch(e){r="TEMPLATE ERROR"}w.font="12px monospace",w.textBaseline="ideographic";for(var i=n.top+n.height,o=w.measureText(r).width;o>n.width;)r=r.slice(0,-1),o=w.measureText(r).width;w.fillText(r,n.left,i)}}function d(e){var t={},n=T/100,r=S/100;return t.top=n*e.top,t.right=r*(100-e.right),t.bottom=n*(100-e.bottom),t.left=r*e.left,t.width=t.right-t.left,t.height=t.bottom-t.top,t.top<0&&(t.top=0),t.left<0&&(t.left=0),t}var m=907,f=e.vm,g=e.routeVm,y=angular.element(window),b=t[0],h=t.find("canvas"),v=angular.element(b.getElementsByClassName("mapping-canvas")[0]),_=h[0];e.ctxDomEl=_;var w=_.getContext("2d"),P=1.6471,S=_.offsetWidth,T=0;a(v.width),y.on("resize",r),y.on("scroll",r),e.$on("$destroy",function(){return y.off("resize",r)}),e.$on("$destroy",function(){return y.off("scroll",r)}),e.$on("canvas-resize",r),sidekick.events.on("nav.expanded-footprint",function(){setTimeout(function(){return r()},0)}),h.on("mousedown",o),h.on("mouseup",i),e.$watch("vm.data",p,!0),e.$watch("vm.bgImageLoaded",p)}}]),t}(u.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderOverlayBuilderOverlay",function(){return new d("overlay")})},{"base-segment":55}],79:[function(e,t,n){"use strict";function r(e,t){function n(e,n){if(null!=e)return e.pageObjects.map(function(e){var r={type:e.fieldType||"text",top:e.locationY,left:e.locationX,right:100-(e.width+e.locationX),bottom:100-(e.height+e.locationY),formFieldGuids:e.formFieldGuids,stringFormat:e.stringFormat||null,matchValue:e.matchValue};if(["text","date"].includes(r.type)){r._template="{{"+e.formFieldGuids.map(function(e){return"id"+e.split("-").join("")}).join("}} {{")+"}}";var o=t(r._template)(n);r.templateString=i(o)||""}return r})}function r(t){return e(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t._files.find(function(e){return e._fileId===t._printPreviewDefinition.templateFileId}))){e.next=4;break}return e.next=4,n.$remove();case 4:return t._printPreviewDefinition.printPreviewPages=[],t._printPreviewDefinition.templateFileId=null,e.next=8,t.$save();case 8:return e.next=10,t.$refresh();case 10:case"end":return e.stop()}},e,this)}))()}function i(e){return e.length?e.split("] [").join(",").replace("[","").replace("]",""):""}return{definitiontoLocalData:n,removeFile:r,convertBracketValueToCsv:i}}r.$inject=["ssAsync","$interpolate"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderOverlayBuilderOverlayLogic",r)},{}],80:[function(e,t,n){"use strict";var r=e("base-state"),i={added:[],featureFlags:{isHRMSEnabled:!1},props:!1,addingFields:!1},o={url:"/preview?returnTo&showPDFoverlay",templateUrl:"routes/form-builder/preview/preview.html",resolve:{form:["$stateParams","ssAsync","ssFormTemplatesApi","$sce",function(e,t,n,r){return i.hasPDFOverlay=i.showPDFOverlay=!1,t(regeneratorRuntime.mark(function t(){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.formId,include:"steps,formFields,statusHistory,files"});case 3:if(i.formData=t.sent,!i.formData._printPreviewDefinition||null==i.formData._printPreviewDefinition.templateFileId){t.next=9;break}return t.next=7,n.generatePDFOverlay({formTemplateId:i.formData.id});case 7:o=t.sent,null!==o._string&&(i.PDFOverlayUrl=r.trustAsResourceUrl(o._string),i.hasPDFOverlay=!0,i.showPDFOverlay=JSON.parse(e.showPDFoverlay));case 9:t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}},t,this,[[0,11]])}))()}],$title:["$title",function(e){return e+" (Preview)"}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("formTemplates","view")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.preview",new r.State(o,i))}])},{"base-state":56}],81:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,r,i,o){var a=t.routeVm,s=(e.get("segmentFormBuilderPreviewAttachmentsLogic"),t.vm={isLoading:!0});t.go={download:function(e){n.open(e,"_blank")}};r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.formData._files.map(function(e){return e._fileId}),e.prev=1,e.next=4,o.getFiles({},{ids:t});case 4:s.files=e.sent,s.files=s.files.filter(function(e){return!a.formData._printPreviewDefinition||e.id!==a.formData._printPreviewDefinition.templateFileId}).map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,s.isLoading=!1,e.finish(10);case 13:case"end":return e.stop()}},e,this,[[1,8,10,13]])}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewAttachments",function(){return new l("attachments")})},{"base-segment":55}],82:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewAttachmentsLogic",r)},{}],83:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$anchorScroll","ssEventSvc","ssEnum","formsHlp","fieldsHlp",function(e,t,n,r,i,o,a){var s=t.routeVm,l=(e.get("segmentFormBuilderPreviewFormWorkflowLogic"),new Map),c=t.vm={steps:[],reviewStep:{_name:"Review Profile Updates",review:!0},stepAction:i.stepAction,selectedStep:null,loading:!0};t.go={selectStep:function(e,t){c.selectedStepId=t.id,r.emit("form-builder.builder.step-clicked",e,t)}};r.on("form-builder.summary.step-clicked",function(e,t){c.selectedStepId=l.get(t.id).id,n("fb-step-"+e)},t),function(){o.sortByOrderField(s.formData._steps,s.formData._stepOrder),s.formData._steps.forEach(function(e){e.fields=[],"string"==typeof e.id&&l.set(e.id,e)});for(var e=s.formData._formFields.length;e--;){var t=s.formData._formFields[e];!t._tokenField&&t._step&&l.has(t._step.id)?l.get(t._step.id).fields.push(t):s.formData._formFields.splice(e,1)}s.formData._steps.forEach(function(e){o.sortByOrderField(e.fields,e._fieldOrder),e.participantLabel=e._stepParticipant.name||i.stepParticipantType.byValue(e._stepParticipant.participantType),e.fieldGroups=[],e.fields.forEach(function(t){if(s.featureFlags.isHRMSEnabled){var n=a.getFieldById(t);if(null!=n&&n._hideForHRMS)return}if(["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(t._fieldDefId)&&t.fieldGroup&&(t._fieldGroup=null),t.disabled=!1,0===e.fieldGroups.length)return void e.fieldGroups.push([t]);var r=e.fieldGroups[e.fieldGroups.length-1];null!=t._fieldGroup&&r[0]._fieldGroup===t._fieldGroup?r.push(t):e.fieldGroups.push([t])}),delete e.fields}),c.steps=s.formData._steps,c.selectedStepId=c.steps[0].id,c.loading=!1}()}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){t.find("input").on("focus",function(e){e.preventDefault(),e.target.blur()})})}}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewFormWorkflow",function(){return new l("form-workflow")})},{"base-segment":55}],84:[function(e,t,n){"use strict";function r(){return{makeStep:function(){return{_name:"",_fieldOrder:"",fieldGroups:[]}}}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewFormWorkflowLogic",r)},{}],85:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","ssAsync","ssEventSvc","ssOrganizationSvc","rAF","ssDateHlp","ssDateByOrgHlp","ssFormTemplatesApi","$sce",function(e,t,n,r,i,o,a,s,l,c,p,u){function d(e){return!l.isForeverFuture(e)&&!l.isForeverPast(e)}var m=t.routeVm,f=t.formVm,g=e.get("segmentFormBuilderPreviewPageHeaderLogic");s(function(){o.emit("allow-fullscreen")},t);var y=t.vm={form:f.formData};t.go={close:function(){r.url(n.returnTo)},toggleFormView:function(e){e?i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.generatePDFOverlay({formTemplateId:m.formData.id});case 3:n=t.sent,null!==n._string?(m.PDFOverlayUrl=u.trustAsResourceUrl(n._string),m.showPDFOverlay=e):ssToastHlp.error("There was a problem generating the PDF Overlay preview. Please refresh the page and try again."),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}))():m.showPDFOverlay=e}};i(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getActiveOrg();case 2:t=e.sent,y.formStatusLabel=g.getStatusLabel(f.formData,t),y.formStatus=g.getStatus(f.formData,t),d(y.form._modifiedDt)&&(n=c.utcIsoToRelativeMoment(y.form._modifiedDt,t),r=n.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"}),y.modifiedDate="Modified "+r+" by "+y.form._modifier.name);case 6:case"end":return e.stop()}},e,this)}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewPageHeader",function(){return new l("page-header")})},{"base-segment":55}],86:[function(e,t,n){"use strict";function r(e){function t(t,n){return e.getLabel(t,n).status}function n(t,n){return e.getLabel(t,n).statusLabel}return{getStatusLabel:n,getStatus:t}}r.$inject=["statusLabelHlp"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewPageHeaderLogic",r)},{}],87:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","formsHlp",function(e,t,n,r,i){function o(){var e=Array.from(arguments),t={};return e.forEach(function(e,n){e.forEach(function(e){t[n+"-"+e.value]=e.name})}),t}var a=t.routeVm,s=(t.formVm,e.get("segmentFormBuilderPreviewStepsSummaryLogic")),l=r.personnelCategory.getEnums(),c=r.medicalCategory.getEnums(),p=new Map,u=t.vm={steps:[],stepAction:r.stepAction,selectedStep:null,loading:!0};t.go={selectStep:function(e,t){u.selectedStepId=t.id,n.emit("form-builder.summary.step-clicked",e,t)}};n.on("form-builder.builder.step-clicked",function(e,t){u.selectedStepId=p.get(t.id).id},t),function(){u.steps=angular.copy(a.formData._steps),i.sortByOrderField(u.steps,a.formData._stepOrder);var e=s.buildParticipantList(u.steps);u.steps.forEach(function(t){if("string"==typeof t.id&&p.set(t.id,t),t._stepAction!==r.stepAction.formCompleted){var n=e.find(function(e){return e.stepIds.includes(t.id)});t.participantLabel=n?n.participantName:"",t.participantPermission=s.getPermissionLabel(t),t.stepActionLabel=r.stepAction.byValue(t._stepAction)}t.eventDetails=s.getEventDetails(t),t.otherParticipants=s.getOtherParticipants(e,t)});var t=u.steps.find(function(e){return e._stepAction===r.stepAction.formCompleted}),n=u.steps.find(function(e){return e._stepAction===r.stepAction.employeeProfileReview});if(u.finalStep=u.steps.splice(u.steps.indexOf(t),1)[0],n&&(u.reviewStep=u.steps.splice(u.steps.indexOf(n),1)[0]),a.formData._employeeRecord.addToEmployeeRecord){var d=o(l,c),m=a.formData._employeeRecord.category,f=a.formData._employeeRecord.subCategory;u.finalStep.employeeRecord=d[m+"-"+f]}u.selectedStepId=u.steps[0].id,u.loading=!1}()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewStepsSummary",function(){return new l("steps-summary")})},{"base-segment":55}],88:[function(e,t,n){"use strict";function r(e){function t(t){var n=[];return t.forEach(function(t){if(t._stepParticipant&&t._stepAction!=e.stepAction.formCompleted){var r=angular.isArray(t._stepParticipant.employeeIds)&&t._stepParticipant.employeeIds.length?t._stepParticipant.employeeIds[0]:"",i=t._stepParticipant.name?t._stepParticipant.name:e.stepParticipantType.byValue(t._stepParticipant.participantType),o=n.find(function(e){return a(e,t)});if(o)return void o.stepIds.push(t.id);n.push({stepIds:[t.id],participantName:i,participantType:t._stepParticipant.participantType,employeeId:r})}}),n}function n(t){return t._stepEvents?t._stepEvents.reduce(function(t,n){return n.eventActions.length?(t.push({title:e.stepEventType.byValue(n.eventType),actions:n.eventActions.reduce(function(t,n){return n.eventAction===e.stepEventAction.stopWorkFlow?t:(t.push(e.stepEventAction.byValue(n.eventAction)),t)},[])}),t):t},[]):[]}function r(e,t){return e.length?e.reduce(function(e,n){if(n.stepIds.includes(t.id))return e;var r=t._permissions.find(function(e){return a(e,n)});return r&&r.canView?(e.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),e):e},[]):[]}function i(e){if(!e._permissions)return"";var t=e._permissions.find(function(t){return a(t,e)});return t?"view"+(t.canEdit?" & edit":""):""}function o(){return{_name:"",_fieldOrder:"",fieldGroups:[]}}function a(t,n){var r=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,i=n._stepParticipant?n._stepParticipant.participantType:n.participantType;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===r:t.participantType===i}return{buildParticipantList:t,getEventDetails:n,getPermissionLabel:i,getOtherParticipants:r,makeStep:o,matchByParticipants:a}}r.$inject=["ssEnum"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewStepsSummaryLogic",r)},{}],89:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","ssPermissionsSvc",function(e,t,n){var r=t.routeVm;e.get("segmentFormBuilderContentLogic");t.formVm=r;t.vm={},t.go={}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderContent",function(){return new l("content")})},{"base-segment":55}],90:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderContentLogic",r)},{}],91:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$state","$window","$q","$rootScope","$timeout","ssAsync","ssEventSvc","ssStatusApi","ssToastHlp","rAF","ssValidationHlp","ssPermissionsSvc","ssStorage","ssDateByOrgHlp","statusLabelHlp","ssModalSvc","ssSaveInterrupterSvc","ssSleepHlp","ssEnum","fieldsHlp",function(e,t,n,r,i,o,a,s,l,c,p,u,d,m,f,g,y,b,h,v,_,w){function P(e,t,n,r,i){["fieldOrder","fieldGroup","stepOrder"].includes(t)||x.modelChanged()}function S(){var e,t=document.querySelectorAll(".form-title-ctrl"),n=angular.element(t[0]).find("input");null!=n.val()&&(e=n.val().length,n.attr("size",e))}function T(){var e=[];return O._formFields.forEach(function(t){var n=w.getValidator(t._fieldType);if("function"==typeof n){var r=n.call(null,t);!0!==r&&e.push({field:t,error:r})}}),e}var x=t.routeVm,O=(e.get("segmentFormBuilderHeaderLogic"),x.formData),D=x.org.id+"_formbuilder_"+O.id;t.validator={required:d.required()};t.activate=!1;var A=t.vm={savedFormTitle:JSON.parse(JSON.stringify(O._name)),activationDate:g.todaysStartRelativeTo(x.org).format("MM/DD/YYYY"),formStatusLabel:y.getLabel(O,x.org).statusLabel,activate:null,editTitle:!1,modelHasChanged:!1,autoSaved:!1,printViewBuilderEnabled:!1,statusConfig:{statusId:1}},k=t.go={editTitle:function(){A.editTitle=!0,A.previousAutoSaved=A.autoSaved},preview:function(){if(!x.saving){if(A.modelHasChanged){var e={title:"Preview Form Template",content:"You will need to save this form template in order to preview it.",primaryText:"save and continue",secondaryText:"cancel",alwaysOnTop:!0};return b.showStandard(e).then(function(e){var t=T();t.length?t.forEach(function(e){p.error((e.field._label?'The field group labeled "'+e.field._label+'" ':e.field.config.fieldGroup+" field groups")+" "+e.error,"Validation Error")}):k.saveFormTemplate().then(function(){h.clear(),n.go("base.formBuilder.preview",{returnTo:n.href(n.current.name),showPDFoverlay:n.is("base.formBuilder.overlayBuilder")})})})}h.clear(),n.go("base.formBuilder.preview",{returnTo:n.href(n.current.name),showPDFoverlay:n.is("base.formBuilder.overlayBuilder")})}},saveFormTemplate:function(){return x.saving||!A.modelHasChanged?i.when():(x.saving=!0,x.loadingMsg="saving form template...",A.editTitle=!1,O._steps.forEach(function(e){e._permissions=angular.copy(e._permissions,[])}),s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O._steps.forEach(function(e){e._permissions=angular.copy(e._permissions,[])}),e.next=4,O.$save(!1);case 4:return e.next=6,O._steps.$save();case 6:return x.updateStepOrder&&(O._stepOrder=x.updateStepOrder()),x.addStepIdToField&&x.addStepIdToField(),x.updateFormFields&&x.updateFormFields(),e.next=12,O.$save();case 12:return x.updateFieldOrder&&x.updateFieldOrder(),e.next=15,O._steps.$save();case 15:if(!x.processTemplate){e.next=18;break}return e.next=18,x.processTemplate();case 18:A.modelHasChanged=!1,e.next=23;break;case 21:e.prev=21,e.t0=e.catch(0);case 23:return e.prev=23,x.saving=!1,x.loadingMsg="",e.finish(23);case 28:case"end":return e.stop()}},e,this,[[0,21,23,28]])}))())},cancelTitleEdit:function(){A.editTitle=!1,O._name=A.savedFormTitle,A.autoSaved=A.previousAutoSaved},setActivationConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments[1];t.activate=e,n&&!1===n&&(A.activationDate=null)},submitForm:function(){!1===t.activate?k.saveFormTemplate():k.activateForm()},activateForm:function(){if(!x.saving){if(!O._formAdministrator.formAdministratorType)return p.error("Form Administrator is required","Select Form Administrator"),void t.$root.$emit("ss-menu-close");if(O._steps[0].fieldGroups&&!O._steps[0].fieldGroups.length)return p.warn("Step 1 of this form template contains no fields. Please add fields in order to activate.",""),void t.$root.$emit("ss-menu-close");for(var e=0;e<O._steps.length;e++){var r=O._steps[e];if(r._stepAction!==_.stepAction.formCompleted){if(null==r._stepParticipant.participantType)return p.error("Step Participant is required for each step","Activation Failed"),void t.$root.$emit("ss-menu-close");if(null==r._stepAction)return p.error("Action Performed is required for each step","Activation Failed"),void t.$root.$emit("ss-menu-close")}}if(null==O._category.id)return p.error("Category is required to activate this form.","Activation Failed"),t.$root.$emit("ss-menu-close"),void n.go("base.formBuilder.settings");null!==A.activationDate&&(A.statusConfig.from=g.startOfDayRelativeTo(moment(A.activationDate),x.org)),t.$root.$emit("ss-menu-close"),s(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!A.modelHasChanged){e.next=4;break}return e.next=4,k.saveFormTemplate();case 4:return x.saving=!0,x.loadingMsg="Activating form template...",e.next=8,c.update({id:O.id},A.statusConfig,!1);case 8:return e.next=10,v.sleep();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0.data?(t=e.t0.data.errors.Title.substr(e.t0.data.errors.Title.indexOf(":")+1),t=t.split(","),t.forEach(function(e){p.error(e,"Activation Failed")})):p.error(e.t0,"");case 15:return e.prev=15,x.saving=!1,x.loadingMsg="",n.go("base.formTemplates"),e.finish(15);case 20:case"end":return e.stop()}},e,this,[[0,12,15,20]])}))()}}};x.submitForm=k.submitForm,A.printViewBuilderEnabled=m.isPermittedAction("formTemplates","buildOverlay")||!!t.$root.isPermitted.activeUser.idmAdministrator,l.on("ss-json-api.changedRecord.formFields",P,t),l.on("ss-json-api.changedRecord.formTemplates",P,t),l.on("ss-json-api.changedRecord.steps",P,t),o.$on("$stateChangeStart",function(e,t,n,r,i,o){"base.formBuilder.preview"===t.name&&f.save(D,{y:window.scrollY})}),o.$on("$stateChangeSuccess",function(e,t,n,i,o){if("base.formBuilder.preview"===i.name){var s=f.load(D);s&&(f.clear(D),a(function(){r.scrollTo(0,s.y)},1e3))}}),t.$watch("routeVm.formData._name",function(e,t){u.raw(function(){S()})}),x.modelChanged=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];A.modelHasChanged=e}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderHeader",function(){return new l("header")})},{"base-segment":55}],92:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderHeaderLogic",r)},{}],93:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssListSvc","ssEmployeeApi","ssEnum","ssToastHlp","ssModalSvc","formsHlp","rAF",function(e,t,n,r,i,o,a,s,l,c){var p=(t.routeVm,e.get("segmentFormBuilderSettingsSettingsLogic")),u=t.formVm,d=o.formAdministratorType.getEnums();t.validator=p.validator;var m=t.vm={loading:!1,form:u.formData,showSpecificPerson:!1,formAdminList:d,specificEmployeeHolder:[],lastStepText:""};t.go={};t.$watch("vm.form._formAdministrator.formAdministratorType",function(e,t){!e||e<=0||e===t||e!==o.formAdministratorType.specificPerson&&(m.form._formAdministrator.employeeId=null,m.specificEmployeeHolder=[])}),t.$watch("vm.specificEmployeeHolder",function(e,t){e!==t&&(e&&e.length?m.form._formAdministrator.employeeId=e[0].id:m.form._formAdministrator.employeeId=null)}),t.$watch("vm.form._isEmployeeInitiated",function(e){e?(m.form._formAdministrator.formAdministratorType===o.formAdministratorType.formPacketSender&&s.showStandard({title:"Invalid form administrator",content:"An employee initiated form cannot have the form sender as its form administrator. Please choose another form administrator",primaryText:"Ok",showSecondary:!1,alwaysOnTop:!0}).then(function(){m.form._formAdministrator.formAdministratorType=null}),m.formAdminList=m.formAdminList.filter(function(e){
return 1!==e.value})):m.formAdminList=d}),n(regeneratorRuntime.mark(function e(){var s,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.loading=!0,e.prev=1,e.next=4,r.getByExternalId("form.categories");case 4:m.categories=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.error("There was an error retrieving form categories","");case 10:return e.next=12,m.form.$refresh();case 12:if(u.modelChanged(!1),null==m.form._formAdministrator.formAdministratorType||m.form._formAdministrator.formAdministratorType!==o.formAdministratorType.specificPerson){e.next=25;break}if(!m.form._formAdministrator.employeeId){e.next=25;break}return e.prev=15,e.next=18,i.get({id:m.form._formAdministrator.employeeId,fields:"firstName,lastName"},null,!1);case 18:s=e.sent,m.specificEmployeeHolder.push(s),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(15),"404"===e.t1.data.errors.Id?a.warn("The assigned form administrator for this template cannot be found. Please choose a new form administrator, or change the form administrator type","Form Administrator not found"):a.error("There was a problem retrieving the assigned form administrator. Please see the console.","Error");case 25:l.sortByOrderField(m.steps,m.form._stepOrder),p=m.form._steps.find(function(e){return e._stepAction===o.stepAction.formCompleted}),p._stepEvents[0].eventActions.forEach(function(e){e.eventAction===o.stepEventAction.emailOthers?n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.queryByIds({fields:"firstName,lastName"},{ids:e.employeeIds},null,!1);case 2:n=t.sent,n.forEach(function(e){m.lastStepText.length&&(m.lastStepText+=", "),m.lastStepText+="Email "+e._firstName+" "+e._lastName});case 4:case"end":return t.stop()}},t,this)}))():(m.lastStepText.length&&(m.lastStepText+=", "),m.lastStepText+=o.stepEventAction.byValue(e.eventAction))}),m.steps=m.form._steps.filter(function(e){return e._stepAction!==o.stepAction.formCompleted}),m.steps.forEach(function(e,r){t.$watch("vm.steps["+r+"]._useCustomNotification",function(n,i){if(n!==i){var o=r;n?c(function(){return document.getElementById("step-ready-message-"+e.id).focus()},t):m.steps[o]._notificationBody=""}}),t.$watch("vm.steps["+r+"]._useCustomResendNotification",function(n,i){if(n!==i){var o=r;n?c(function(){return document.getElementById("step-resent-message-"+e.id).focus()},t):m.steps[o]._resendNotificationBody=""}}),e.showResendMessage=r+1!==m.steps.length&&m.steps[r+1]._stepAction===o.stepAction.reviewApproveOrDeny;var a=e._stepParticipant;a.participantType===o.stepParticipantType.specificPerson?a.employeeIds&&a.employeeIds.length&&n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get({id:a.employeeIds[0],fields:"firstName,lastName"});case 2:n=t.sent,e.participantLabel=n._firstName+" "+n._lastName;case 4:case"end":return t.stop()}},t,this)}))():(a.participantType||a.participantType===o.stepParticipantType.employeeChosenWhenSent)&&(e.participantLabel=o.stepParticipantType.byValue(a.participantType))}),l.initSaveInterrupter(m.form),m.loading=!1;case 32:case"end":return e.stop()}},e,this,[[1,7],[15,22]])}))()}]},{key:"link",value:function(e,t,n){e.$watch("vm.form._formAdministrator.formAdministratorType",function(e,t){angular.element(document).ready(function(){if(e!==t&&3===e){document.getElementById("form-admin-employee-search").getElementsByTagName("input")[0].focus()}})})}}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderSettingsSettings",function(){return new l("settings")})},{"base-segment":55}],94:[function(e,t,n){"use strict";function r(e){var t=e.required();return{validator:{required:t,conditionalRequired:function(e,n,r){return!r||t(e,n)}}}}r.$inject=["ssValidationHlp"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderSettingsSettingsLogic",r)},{}],95:[function(e,t,n){"use strict";var r=e("base-state"),i={},o={url:"/settings",templateUrl:"routes/form-builder/settings/settings.html",resolve:{$title:["$title",function(e){return e+" (Settings)"}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.settings",new r.State(o,i))}])},{"base-state":56}],96:[function(e,t,n){"use strict";var r=e("base-state"),i={props:!1,featureFlags:{fc_enhanced_denied_form_workflow:!1,isFCSystemOfRecord:!1},formInstance:null,formTemplate:null,hasPDFOverlay:null,showPDFOverlay:null,loading:!1,loadingStatus:""},o={url:"/form-instance/{formInstanceId:[0-9A-Za-z-]+}?from&returnUrl&target",templateUrl:"routes/form-instance/form-instance.html",resolve:{formInstanceCompletion:["$stateParams","$state","ssAsync","ssFormInstancesApi","ssFormTemplatesApi","ssToastHlp","ssEnum",function(e,t,n,r,o,a,s){return n(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i.hasPDFOverlay=!1,i.showPDFOverlay=!1,n.next=5,r.get({id:e.formInstanceId,include:"steps",includeSensitive:!1},null,!1);case 5:return i.formInstance=n.sent,n.next=8,o.get({id:i.formInstance._formTemplate.formTemplateId,include:"steps,formFields,files"});case 8:i.formTemplate=n.sent,i.hasPDFOverlay=i.formTemplate._printPreviewDefinition&&null!=i.formTemplate._printPreviewDefinition.templateFileId,!i.hasPDFOverlay||i.formInstance._statusId!==s.formStatus.complete&&i.formInstance._statusId!==s.formStatus.archived||(i.showPDFOverlay=!0),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),403===n.t0.status?t.transitionTo("403"):a.error(n.t0.data.errors.Title,"There was a problem loading the form."),console.error("Error getting form data",n.t0);case 17:case"end":return n.stop()}},n,this,[[0,13]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["formInstanceCompletion",function(e){return"Frontline Central - "+i.formInstance.name}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formInstance",new r.State(o,i))}])},{"base-state":56}],97:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,r,i,o){function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.formTemplate._files.map(function(e){return e._fileId}),t.prev=1,t.next=4,o.getFiles({},{ids:r});case 4:a=t.sent,c.files=a.map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}).filter(s).sort(function(e,t){return e._filename.localeCompare(t._filename)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error getting file records",t.t0);case 11:return t.prev=11,c.loading=!1,e&&n.open(c.files.find(function(t){return t.id==e.id})._url),t.finish(11);case 15:case"end":return t.stop()}},t,this,[[1,8,11,15]])}))()}function s(e){return!l.formTemplate._printPreviewDefinition||e.id!==l.formTemplate._printPreviewDefinition.templateFileId}var l=t.routeVm,c=(e.get("segmentInboxFormInstanceAttachmentsLogic"),t.vm={loading:!0});t.go={download:function(e){a(e)}};a()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceAttachments",function(){return new l("attachments")})},{"base-segment":55}],98:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormInstanceAttachmentsLogic",r)},{}],99:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","$anchorScroll","$timeout","$q","$filter","$sce","ssAsync","ssEventSvc","ssFormInstancesApi","ssEnum","ssActiveUserSvc","ssToastHlp","ssModalSvc","ssObjectHlp","fieldRendererHlp","formsHlp",function(e,t,n,r,i,o,a,s,l,c,p,u,d,m,f,g,y,b,h){function v(){return n.returnUrl&&n.returnUrl.length?n.returnUrl:function(){var e=m.getEmployeeSync().id;return T.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/my-forms":"/ec-dashboard"}()}function _(){function e(){if(++r===n)return void t.reject();c(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.get({id:T.formInstance.id});case 2:r=n.sent,r&&!1===r._inWorkflow?t.resolve(r):o(e,500);case 4:case"end":return n.stop()}},n,this)}))()}var t=a.defer(),n=24,r=0;return e(),t.promise}function w(e){var t=k.steps.indexOf(k.steps.find(function(t){return t.id===e.id}));i("fb-step-"+t),i.yOffset=10}function P(){T.showToggle=!!T.formTemplate._formFields.find(function(e){return!0===e._sensitive})}function S(e,t){return t.filter(function(n){return t.indexOf(n)<e||n._stepAction===d.stepAction.formCompleted}).map(function(e,t){return{optionText:e._stepAction===d.stepAction.formCompleted?"Complete Workflow":"Step "+(t+1)+" - "+e.instance._stepParticipant.name,stepAction:e._stepAction,stepId:e.id,stepIndex:t}})}t.ssEnum=d;var T=t.routeVm,x=e.get("segmentFormInstanceFormLogic"),O=t.stepValues={},D="";t.stepIsDenied=T.formInstance._statusId===d.formStatus.rejected,t.formIsComplete=T.formInstance._statusId===d.formStatus.complete||T.formInstance._statusId===d.formStatus.completedAndDenied,t.formIsDenied=T.formInstance._statusId===d.formStatus.completedAndDenied;var A=y.glean(T.formInstance,function(e){return e._deniedInfo.targetStepId},!1),k=t.vm={steps:[],selectedStep:null,loading:!1,submissionEvent:"",cachedSourceFields:{},currentStepId:T.formInstance._currentStepId},F=(m.getEmployeeSync(),t.go={selectStep:function(e){e._stepAction!==d.stepAction.formCompleted&&(k.selectedStep&&k.selectedStep.id===e.id||(k.selectedStep=e||k.steps[0],T.setFieldValidations(),w(e),p.emit("select-summary-step",e,!1),t.$emit("ss-validate-reset")))},submitForm:function(e){T.isLoading=!0,T.loadingStatus="Submitting step...",T.featureFlags.isFCSystemOfRecord||(e.instance._employeeProfileReviewStepFieldValues.forEach(function(e){e.updateEmployeeProfile=!1}),e._updateEmployeeRecord=!1),e._stepAction===d.stepAction.employeeProfileReview?(e.instance._employeeProfileReviewStepFieldValues.forEach(function(e){delete e.sourceField}),e.instance._employeeProfileReviewStepFieldValues=e.instance._employeeProfileReviewStepFieldValues.slice()):e.instance.$$forceChangedState("formFieldValues"),e.instance.$save(!0,!1,!1).then(function(){return T.formInstance._statusId===d.formStatus.rejected?u.updateStatus({id:T.formInstance.id,newStatus:0}):Promise.resolve()}).then(function(){return u.post({id:T.formInstance.id,event:k.submissionEvent,stepId:e.id},null,!1)}).then(_).then(function(){f.success("","form step "+D,!1),r.url(v())}).catch(function(e){f.error("",e.data.errors.Title,!1),T.isLoading=!1,T.loadingStatus=""})},submitStep:function(){k.submissionEvent="submitStep",D="submitted"},acknowledgeStep:function(){k.submissionEvent="reviewForm",D="acknowledged"},approveStep:function(){k.submissionEvent="approveForm",D="approved"},denyStep:function(e,t){k.submissionEvent="declineForm",D="denied",F.submitForm(t)},denyAndResetWorkflowStep:function(e,t){var n=t.stepAction===d.stepAction.formCompleted,i="sent back to step "+(t.stepIndex+1)+".",o=n?"":"This form will be "+i,a=n?"denied & completed":i,s="There was an error while attempting to deny "+(n?"and complete":"")+" the "+(n?"form":"step")+". Please try again.",l=n?"denyComplete":"declineForm",c={title:"Deny "+(n?"and Complete":"")+" "+(n?"Form":"Step"),content:"Are you sure you want to deny "+(n?"and complete":"")+" this "+(n?"form":"step")+"? "+o,primaryText:"deny",secondaryText:"cancel",alwaysOnTop:!0};g.showDestructive(c).then(function(){T.isLoading=!0,T.loadingStatus="Submitting step...",e.instance.$save(!0,!0,!1).then(function(){return u.post({id:T.formInstance.id,event:l,targetStepId:t.stepId,stepId:e.id},null,!1)}).then(_).then(function(){f.success("Form has been "+a,"Success!",!1),r.url(v())}).catch(function(e){T.isLoading=!1,T.loadingStatus="",f.error(s,"Error")})})},reviewProfile:function(){k.submissionEvent="profileReviewed",D="submitted"},profileValueDisplay:function(e,t){if(null!=e.profileValue&&e.profileValue.toString()){var n,r=["5e989212-29f0-43e4-8d02-1a6a047b7e48","0977c048-185c-4eec-8800-74842a7fbb4f","f658f159-910a-485f-89b7-f20559222f73","14827dc2-9d54-400d-a556-47656bc72f83","e0ec2374-be6a-4d6f-9f12-5cbf58f5a5cc","4efae0cb-6d68-4eeb-8ce3-031b11678275","3a4799b5-168e-4f19-91a6-27299c543f69"],i=t.fields.find(function(t){return t.id===e.formFieldId});if(i._options&&i._options.length>0)if("07ebdcec-0ff6-46ad-92aa-121b8573b8a6"===i._fieldDefId){var o=d.states.enums.find(function(t){return t.value===e.profileDisplayValue});null!=o&&(n=o.name)}else{var a=i._options.find(function(t){return i._options.indexOf(t)===e.profileDisplayValue});null!=a&&(n=a)}else n="super-input-datepicker"===i._fieldType||"super-iso-org-date"===i._fieldType?s("date")(e.profileDisplayValue,"MM/dd/yyyy"):"super-input-checkbox"===i._fieldType?!0===e.profileDisplayValue?"Yes":"No":r.includes(i._fieldDefId)?e.profileDisplayValue.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):e.profileDisplayValue;return n}}});T.setFieldValidations=function(){if(null!=k.selectedStep){var e=k.steps.indexOf(k.steps.find(function(e){return e.id===k.selectedStep.id}));k.steps.forEach(function(t){var n=k.steps.indexOf(k.steps.find(function(e){return e.id===t.id}));t.fields.forEach(function(r){if(null!=r._fieldDefId)if(n>e)r.ignoreValidations=!0;else{var i=t.instance.formFieldValues[r.id]?t.instance.formFieldValues[r.id].toString():"";r.ignoreValidations=!r._required||!!r.isRedacted&&!!i,"super-digital-signature"==r._fieldType&&(r.ignoreValidations=!1)}})})}};var E=T.processForm=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,k.steps=[],h.sortByOrderField(T.formTemplate._steps,T.formTemplate._stepOrder),T.formTemplate._steps.forEach(function(e,n,r){e.instance=T.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),null!=e.instance&&e._stepAction!==d.stepAction.formCompleted&&("string"==typeof e.instance._formFieldValues&&0!==e.instance._formFieldValues.length||(e.instance._formFieldValues="{}"),O[e.instance.id]=e.instance,b.bindConfigObject(t,"stepValues['"+e.instance.id+"']._formFieldValues","stepValues['"+e.instance.id+"'].formFieldValues"),null==e.instance._lastModifiedDtUtc&&e.instance.$$forceChangedState("formFieldValues"),T.formTemplate._formFields.length&&(e.fields=T.formTemplate._formFields.filter(function(t){return!t._tokenField&&t._step.id===e.id}),e=x.processStep({tStep:e,formInstance:T.formInstance}),x.processFields(e,T.showSensitiveFields),e.fieldGroups=x.makeFieldGroups(e),T.featureFlags.fc_enhanced_denied_form_workflow&&(e.isDenied=!(!t.stepIsDenied||!A)&&A===e.id,e._stepAction===d.stepAction.reviewApproveOrDeny&&(e.deniableStepOptions=S(n,r))),e._stepAction===d.stepAction.employeeProfileReview&&e.instance._employeeProfileReviewStepFieldValues.forEach(function(e,r){e.profileDisplayValue=JSON.parse(JSON.stringify(e.profileValue));var i=T.formTemplate._steps.find(function(t){return t.id===e.sourceStepId}).fields.find(function(t){return t.id===e.sourceFormFieldId});e.sourceField=i,t.$watch("routeVm.formInstance._steps["+n+"]._employeeProfileReviewStepFieldValues["+r+"].sourceField.step.formFieldValues['"+e.sourceFormFieldId+"']",function(t,n){e.formFieldValue=t})}),k.steps.push(e)))}),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,this,[[0,6]])}));p.on("select-form-step",function(e){F.selectStep(e)},t),c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,T.isLoading=!0,!T.showPDFOverlay){e.next=10;break}return T.loadingStatus="Generating PDF...",e.next=6,h.generatePDFOverlay(T.formInstance,!1);case 6:T.PDFdata=e.sent,document.getElementById("form-overlay-frame").src=l.trustAsResourceUrl(T.PDFdata.data.data.attributes.string),e.next=11;break;case 10:T.loadingStatus="Loading form...";case 11:return e.next=13,E();case 13:t=T.formTemplate._steps.find(function(e){return e.id===k.currentStepId}),F.selectStep(t),P(),T.isLoading=!1,T.loadingStatus="",e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),T.isLoading=!1,T.loadingStatus="",f.error("There was a problem processing the form","Error");case 25:case"end":return e.stop()}},e,this,[[0,20]])}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceForm",function(){return new l("form")})},{"base-segment":55}],100:[function(e,t,n){"use strict";function r(e,t,n,r){function i(e){var n=e.tStep,r=e.formInstance,i=Object.assign({},n);l=r._statusId===t.complete;var o=i.instance._meta.permissions.permittedActions.edit;return i.editMode=!0,i.disabled=!1,o||(i.editMode=!1,i.disabled=!0),l&&(i.editMode=!1,i.disabled=!1),i.instance.editMode=i.editMode,i.instance.disabled=i.disabled,i}function o(t,i){n.sortByOrderField(t.fields,t._fieldOrder),t.fields.forEach(function(n){if(n.step=t.instance,n.editMode=t.editMode,n.disabled=t.disabled,r.updateFieldAttributes(n),"07ebdcec-0ff6-46ad-92aa-121b8573b8a6"===n._fieldDefId){var o=JSON.parse(n._configJson);n.optionValues=e[o.externalSource].enums.map(function(e){return e.value})}if("super-digital-signature"===n._fieldType){n.onBehalf=!1;try{n.onBehalf=!(n.step._stepParticipant&&(n.step._stepParticipant.employeeIds[0]===activeUser.id||activeUser.idmAdministrator))}catch(e){}}(n._sensitive||c.includes(n._fieldDefId))&&(l||(n.editMode=t.instance._meta.permissions.permittedActions.editSensitive),n.isRedacted=!i),"cmp-text-editor"===n._fieldType&&(n.editMode=!1),["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(n._fieldDefId)&&n.fieldGroup&&(n._fieldGroup=null)})}function a(e){var t=[];return e.fields.forEach(function(e){if(0===t.length)return void t.push([e]);var n=t[t.length-1];null!=e._fieldGroup&&n[0]._fieldGroup===e._fieldGroup?n.push(e):t.push([e])}),t}function s(e,t){if(null===e||""===e)return"";var n=t.find(function(t){return t.id===e}),r="";return null!=n&&(r=n._name),r}var l=!1,c=["aa736224-2a09-490a-b069-7cc945a040ea","ba2d2021-59b6-45b9-9e4b-c501d064e012"];return{processStep:i,processFields:o,makeFieldGroups:a,mapName:s}}r.$inject=["ssEnum","enumFormStatus","formsHlp","fieldsHlp"],angular.module("ec-forms-segment-logic").factory("segmentFormInstanceFormLogic",r)},{}],101:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$http","$sce","$location","$window","ssActiveUserSvc","ssAsync","ssDateByOrgHlp","ssToastHlp","ssDateHlp","ssEnum","ssModalSvc","rAF","formsHlp",function(e,t,n,r,i,o,a,s,l,c,p,u,d,m,f,g,y){function b(e){return Array.isArray(e._tokenFields)&&!!e._tokenFields.find(function(e){return e.sensitive})}function h(e){var t=buildConfig.endpoint.formTemplates,n=t+"/forminstances/"+r.formInstanceId+"?include=steps&includeSensitive="+e;return i({url:n,method:"GET"})}function v(){return r.returnUrl&&r.returnUrl.length?r.returnUrl:function(){var e=l.getEmployeeSync().id;return w.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/my-forms?activeTab=current":"/ec-dashboard"}()}function _(e){T.forEach(function(t){var n=e.data.included.find(function(e){return e.attributes.formFieldValues.includes(t.id)}),r=w.formInstance._steps.find(function(e){return e._formFieldValues.includes(t.id)});if(n&&r&&r._meta.permissions.permittedActions.viewSensitive){if(r._stepAction===m.stepAction.employeeProfileReview)return w.showSensitiveFields?(x[t.id]||(x[t.id]=n.attributes.employeeProfileReviewStepFieldValues.find(function(e){return e.formFieldId===t.id}).profileValue),void(r._employeeProfileReviewStepFieldValues.find(function(e){return e.formFieldId===t.id}).profileDisplayValue=x[t.id])):void(r._employeeProfileReviewStepFieldValues.find(function(e){return e.formFieldId===t.id}).profileDisplayValue="******");x[t.id]||(x[t.id]={visibleValue:JSON.parse(n.attributes.formFieldValues)[t.id],redactedValue:r.formFieldValues[t.id]}),r.formFieldValues[t.id]&&(r.formFieldValues[t.id]=r.formFieldValues[t.id].search(O)>-1?x[t.id].visibleValue:x[t.id].redactedValue)}t.isRedacted=!w.showSensitiveFields})}var w=t.routeVm;w.showSensitiveFields=!1;var P=["aa736224-2a09-490a-b069-7cc945a040ea","ba2d2021-59b6-45b9-9e4b-c501d064e012"],S=void 0,T=void 0,x=[],O=/[*]{6,}/g;t.formIsCompleteAndDenied=w.formInstance._statusId===m.formStatus.completedAndDenied;var D=(e.get("segmentFormInstanceHeaderLogic"),t.vm={fromView:n.params.from||"",firstSave:w.formTemplate._isEmployeeInitiated&&d.isForeverPast(w.formInstance._changedUtc),formIsComplete:w.formInstance._statusId===m.formStatus.complete||w.formInstance._statusId===m.formStatus.completedAndDenied||w.formInstance._statusId===m.formStatus.archived,deleting:!1});t.go={toggleFormView:c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}if(e.prev=1,w.isLoading=!0,w.loadingStatus="Generating PDF...",w.PDFdata){e.next=9;break}return e.next=7,y.generatePDFOverlay(w.formInstance,w.showSensitiveFields);case 7:w.PDFdata=e.sent,document.getElementById("form-overlay-frame").src=o.trustAsResourceUrl(w.PDFdata.data.data.attributes.string);case 9:w.showPDFOverlay=!0,w.isLoading=!1,w.loadingStatus="",e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),w.isLoading=!1,w.loadingStatus="";case 18:e.next=21;break;case 20:w.showPDFOverlay=!1;case 21:case"end":return e.stop()}},e,this,[[1,14]])})),toggleSensitiveFields:function(e){w.showSensitiveFields=e,c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w.showPDFOverlay&&(w.isLoading=!0,w.loadingStatus="Generating PDF..."),null!=S){e.next=8;break}return w.isLoading=!0,w.loadingStatus="Retrieving sensitive values...",e.next=7,h(w.showSensitiveFields);case 7:S=e.sent;case 8:return _(S),e.next=11,y.generatePDFOverlay(w.formInstance,w.showSensitiveFields);case 11:w.PDFdata=e.sent,document.getElementById("form-overlay-frame").src=o.trustAsResourceUrl(w.PDFdata.data.data.attributes.string),w.setFieldValidations(),w.isLoading=!1,w.loadingStatus="",e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),w.isLoading=!1,w.loadingStatus="";case 22:case"end":return e.stop()}},e,this,[[0,18]])}))()},save:function(){c(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.isLoading=!0,w.loadingStatus="saving progress...",e.prev=2,t=w.formInstance._steps.find(function(e){return e._stepAction===m.stepAction.employeeProfileReview}),t&&(t._employeeProfileReviewStepFieldValues=t._employeeProfileReviewStepFieldValues.slice()),n=!0,r=!1,i=void 0,e.prev=8,o=w.formInstance._steps[Symbol.iterator]();case 10:if(n=(a=o.next()).done){e.next=19;break}if(s=a.value,!s.disabled&&s._stepAction!==m.stepAction.formCompleted){e.next=14;break}return e.abrupt("continue",16);case 14:return e.next=16,s.$save(!0,!1,!1);case 16:n=!0,e.next=10;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),r=!0,i=e.t0;case 25:e.prev=25,e.prev=26,!n&&o.return&&o.return();case 28:if(e.prev=28,!r){e.next=31;break}throw i;case 31:return e.finish(28);case 32:return e.finish(25);case 33:w.PDFdata=null,w.isLoading=!1,w.loadingStatus="",u.success("","Progress Saved",!1),D.firstSave&&(D.firstSave=!1,l={title:'Progress has been saved. The form will appear in the "current" tab of My Forms until submitted.',primaryText:"Continue",alwaysOnTop:!0,showSecondary:!1},f.showStandard(l)),e.next=45;break;case 40:e.prev=40,e.t1=e.catch(2),w.isLoading=!1,w.loadingStatus="",u.error("There was an error saving the form","Error",!1);case 45:case"end":return e.stop()}},e,this,[[2,40],[8,21,25,33],[26,,28,32]])}))()},close:function(){a.search("activeTab",null),r.target&&"_blank"===r.target?window.close():a.url(v())},print:function(){g(function(){return s.print()},t)},showDelete:function(){var e=w.formInstance._currentStepId===w.formTemplate._stepOrder.split(",")[0];return w.formInstance._isEmployeeInitiated&&e},deleteForm:function(){D.deleting=!0;var e={title:"Delete Form",content:"Are you sure you want to delete this form? This form will be deleted and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};f.showDestructive(e).then(function(){c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.formInstance.$remove();case 3:u.success("",'"'+w.formTemplate._name+'" has been deleted'),t=r.from&&r.from.length?r.from:v(),a.url(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.error("",'Error deleting form "'+w.formTemplate._name+'"');case 11:return e.prev=11,D.deleting=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}))()}).catch(function(){D.deleting=!1})}};c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:T=w.formTemplate._formFields.filter(function(e){return!0===e._sensitive||P.includes(e._fieldDefId)||b(e)}),t=p.utcIsoToRelativeMoment(w.formInstance._createdUtc,w.org),w.formInstance.sentDate=t.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"});case 3:case"end":return e.stop()}},e,this)}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceHeader",function(){return new l("header")})},{"base-segment":55}],102:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormInstanceHeaderLogic",r)},{}],103:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","enumStepAction","formsHlp",function(e,t,n,r,i,o){var a=t.routeVm,s=e.get("segmentInboxFormInstanceStepsLogic"),l=t.vm={steps:[],selectedStep:null,loading:!0,employeeProfileReview:r.stepAction.employeeProfileReview};t.go={selectStep:function(e){l.selectedStep=e,n.emit("select-form-step",e)}};n.on("select-summary-step",function(e){var t=l.steps.find(function(t){return t.id===e.id});l.selectedStep=t},t),l.steps=angular.copy(a.formTemplate._steps).filter(function(e){return e._stepAction!==i.formCompleted});try{o.sortByOrderField(l.steps,a.formTemplate._stepOrder);var c=s.buildParticipantList(a.formInstance._steps);l.steps.forEach(function(e){e.instance=a.formInstance._steps.find(function(t){
return t._formTemplateStepId===e.id}),a.featureFlags.fc_enhanced_denied_form_workflow&&(e.isDenied=!!a.formInstance._deniedInfo&&a.formInstance._deniedInfo.targetStepId===e.id),e.participantPermission=s.getPermissionLabel(e),e.stepActionName=i.byValue(e._stepAction),null!=e.instance&&(e.otherParticipants=c.reduce(function(t,n){if(n.templateStepId===e.id)return t;var r=e._permissions.find(function(e){return s.matchByParticipants(e,n)});return r&&r.canView?(t.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),t):t},[]))})}catch(e){}finally{l.loading=!1}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceStepsSummary",function(){return new l("steps-summary")})},{"base-segment":55}],104:[function(e,t,n){"use strict";function r(){function e(e){var t=[];return e.forEach(function(e){if(e._stepParticipant){var n=angular.isArray(e._stepParticipant.employeeIds)&&e._stepParticipant.employeeIds.length?e._stepParticipant.employeeIds[0]:"";t.find(function(t){return t.templateStepId===e._formTemplateStepId})||t.push({templateStepId:e._formTemplateStepId,participantName:e._stepParticipant.name,participantType:e._stepParticipant.participantType,employeeId:n})}}),t}function t(e){var t=e._permissions.find(function(t){return n(t,e)});return t?(t.canView?"view":"")+(t.canEdit?" & edit":""):""}function n(e,t){var n=t._stepParticipant?t._stepParticipant.employeeIds[0]:t.employeeId,r=t._stepParticipant?t._stepParticipant.participantType:t.participantType;return e.participantType===ssEnum.stepParticipantType.specificPerson?e.employeeId===n:e.participantType===r}return{buildParticipantList:e,getPermissionLabel:t,matchByParticipants:n}}angular.module("ec-forms-segment-logic").factory("segmentFormInstanceStepsSummaryLogic",r)},{}],105:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{isHRMSEnabled:!1}},o={url:"/form-templates",templateUrl:"routes/form-templates/form-templates.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}],$title:function(){return"Frontline Central - Form Templates"}},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formTemplates","send")||e.isPermittedAction("formTemplates","archive")||e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packets","send")||e.isPermittedAction("packets","archive")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formTemplates",new r.State(o,i))}])},{"base-state":56}],106:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","rAF","ssAsync","ssDateByOrgHlp","ssFormLibraryApi","ssPacketsApi","ssListSvc","ssEnum","enumFormTemplateStatus","formsHlp",function(e,t,n,i,o,a,s,l,c,p,u){function d(){return g=0,b=0,v.displayTemplates=[],m()}function m(){return v.loading=!0,v.loadingMessage="Loading Form Templates",null!=h&&h.$abort(),h=i(regeneratorRuntime.mark(function e(){var i,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i={},v.categories){e.next=6;break}return e.next=5,l.getByExternalId("form.categories");case 5:v.categories=e.sent;case 6:return g=w.sorting?g:g+1,o=(g-1)*y,b=w.sorting?b:b+y,i.offset=w.sorting?0:o,i.limit=w.sorting?b:y,i=Object.assign(i,_.addSort(w.sortBy)),null!=w.selectedStatus&&"All"!=w.selectedStatus&&(i=Object.assign(i,_.addFilter("status",w.selectedStatus))),null!=w.selectedCategory&&"All"!=w.selectedCategory&&(i=Object.assign(i,_.addFilter("category",w.selectedCategory))),null!=w.search&&w.search.length>0&&(i=Object.assign(i,_.addFilter("name",w.search))),e.next=17,a.queryTemplateObjects(i);case 17:s=e.sent,t.count=parseInt(s.$headers["total-results"],10),c=f(s),v.displayTemplates=w.sorting?[].concat(r(c)):[].concat(r(v.displayTemplates),r(c)),w.showInfScroll=b<t.count,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),w.showInfScroll=!1;case 27:return e.prev=27,v.loading=!1,w.sorting=!1,w.scrolling=!1,h=null,e.finish(27);case 33:n(function(){v.loading=!1,t.$emit("template-objects.data-loaded")},t);case 34:case"end":return e.stop()}},e,this,[[0,24,27,33]])}))()}function f(e){return e.forEach(function(e){e.isForm=null!=e._templateId,e.isPacket=null==e._templateId,e.searchText=""+e._name,e.isPacket&&(e.detailsOpen=!1,i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get({id:e.id});case 2:n=t.sent,e.packetCount=n._formTemplateIds.length;case 4:case"end":return t.stop()}},t,this)}))()),v.extendCommonProps(e)}),e}var g=0,y=50,b=0,h=null,v=t.routeVm,_=e.get("segmentFormTemplatesContentLogic"),w=v.vm=t.vm={showInfScroll:!0,sorting:!1,sortCriteria:[{label:"Recently Modified",value:{field:"changedutc",dir:"desc"}},{label:"Template Name A-Z",value:{field:"name",dir:"asc"}}],statuses:p.getEnums().filter(function(e){return 2!==e.value}).reverse(),selectedStatus:"All",selectedCategory:"All",search:""};w.sortBy=w.sortCriteria[0].value,v.loading=!1,v.displayTemplates=[],v.loadFormTemplates=m,v.refreshData=d,t.$watch("vm.sortBy",function(e,t){e!==t&&null!=v.displayTemplates&&0!==v.displayTemplates.length&&(w.sortBy=e,w.sorting=!0,m())}),t.$watchGroup(["vm.search","vm.selectedCategory","vm.selectedStatus"],function(e,t){e!==t&&d()}),t.scrollData=function(){w.showInfScroll&&!v.loading&&(w.scrolling=!0,m())},v.extendCommonProps=function(e){var t=o.utcIsoToRelativeMoment(e._modifiedDt,v.org);e.modifiedText=t.calendar(null,{sameDay:"[Today @] LT",lastDay:"[Yesterday @] LT",lastWeek:"ddd [@] LT",sameElse:"L [@] LT"}),e._category&&(e._category.name=_.mapCategory(v.categories,e._category.id)),e._steps.length&&(u.sortByOrderField(e._steps,e._stepOrder),e._steps=e._steps.filter(function(e){return e._stepAction!==c.stepAction.formCompleted}),e._steps.forEach(function(e){e.participantLabel=null==e._stepParticipant.participantType?"undefined":c.stepParticipantType.byValue(e._stepParticipant.participantType),e.stepActionLabel=null==e._stepAction?"undefined":c.stepAction.byValue(e._stepAction)}))},m()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentFormTemplatesContent",function(){return new c("content")})},{"base-segment":55}],107:[function(e,t,n){"use strict";function r(){return{mapCategory:function(e,t){var n,r="";return null==t?"":(n=e.filter(function(e){return e.value===t}),n.length>0&&(r=n[0].description),r)},addSort:function(e){var t={};return t["sort["+e.field+"]"]=e.dir,t},addFilter:function(e,t){var n={};return n["filter["+e+"]"]=t,n}}}angular.module("ec-forms-segment-logic").factory("segmentFormTemplatesContentLogic",r)},{}],108:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$location","ssAsync","ssEnum","ssValidationHlp","ssFormTemplatesApi","ssPacketsApi","ssToastHlp","formsHlp","enumFormAdministratorType",function(e,t,n,r,i,o,a,s,l,c,p){t.routeVm,e.get("segmentFormTemplatesHeaderLogic"),t.validator={required:o.required()};t.formAdminEnums=p;var u,d=t.vm={openMenu:!1,invalidConfig:!0,specificAdminNotRequired:!0,form:{instanceType:null,instanceTitle:null,isEmployeeInitiated:!1,category:{id:null},formAdministrator:{employeeId:null,formAdministratorType:null}},specificAdmin:[],isCreating:!1,formAdminTypes:t.formAdminEnums.getEnums()},m=t.go={create:function(){if(!d.isCreating){d.isCreating=!0;var e="form"===d.form.instanceType?a:s;r(regeneratorRuntime.mark(function t(){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.add({},{_name:d.form.instanceTitle,_isEmployeeInitiated:d.form.isEmployeeInitiated,_category:d.form.category,_formAdministrator:d.form.formAdministrator});case 3:if(r=t.sent,"form"!==d.form.instanceType){t.next=19;break}return t.next=7,a.get({id:r.id,include:"steps,formFields,statusHistory,files"});case 7:for(r=t.sent,o=1;o<=2;o++)r._steps.push(c.makeStep());return r._steps[1]._name="Form and Workflow is Complete",r._steps[1]._stepAction=i.stepAction.formCompleted,r._steps[1]._stepParticipant.participantType=i.stepParticipantType.employeeChosenWhenSent,t.next=14,r._steps.$save();case 14:return t.next=16,r.$refresh();case 16:return r._stepOrder=c.updateStepOrder(r),t.next=19,r.$save();case 19:n.url("/ec-forms/"+d.form.instanceType+"-builder/"+r.id+"/builder"),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(0),l.error("","Error creating "+d.form.instanceType),console.error("Error creating "+d.form.instanceType,t.t0);case 26:return t.prev=26,d.isCreating=!1,t.finish(26);case 29:case"end":return t.stop()}},t,this,[[0,22,26,29]])}))()}},toggleMenu:function(){!0!==d.openMenu&&(d.openMenu=!d.openMenu,m.reset())},reset:function(){d.form.instanceType=null,d.form.instanceTitle=null,d.form.isEmployeeInitiated=!1,d.form.formAdministrator.employeeId=null,d.form.formAdministrator.formAdministratorType=null,d.form.category.id=null,d.specificAdmin=[]},cancel:function(){d.openMenu=!1,m.reset()}},f=["vm.form.category.id","vm.form.instanceTitle","vm.specificAdminNotRequired","vm.form.formAdministrator.formAdministratorType"];t.$on("destroy",t.$watch("vm.form.instanceType",function(e,n){if(e&&e!==n){var r=void 0;d.altLabel="form"===e?"template":"",u&&u(),r="form"!==e?f.slice().filter(function(e){return"vm.form.formAdministrator.formAdministratorType"!==e}):f,u=t.$watchGroup(r,function(e,t){d.invalidConfig=e.some(function(e){return"number"!=typeof e&&!e||"number"==typeof e&&e<0})})}})),t.$on("destroy",u),t.$on("$destroy",t.$watch("vm.form.isEmployeeInitiated",function(e,n){e?(1===d.form.formAdministrator.formAdministratorType&&(d.form.formAdministrator.formAdministratorType=null),d.formAdminTypes=d.formAdminTypes.filter(function(e){return 1!==e.value})):d.formAdminTypes=t.formAdminEnums.getEnums()}))}]},{key:"link",value:function(e,t,n){var r;e.$on("$destroy",e.$watch("vm.form.formAdministrator.formAdministratorType",function(t,n){e.vm.specificAdmin=[],t===e.formAdminEnums.specificPerson?(e.vm.specificAdminNotRequired=!1,r=e.$watch("vm.specificAdmin",function(t,n){t.length?(e.vm.specificAdminNotRequired=!0,e.vm.form.formAdministrator.employeeId=t[0].id):e.vm.specificAdminNotRequired=!1})):(e.vm.specificAdminNotRequired=!0,"function"==typeof r&&r())}))}}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormTemplatesHeader",function(){return new l("header")})},{"base-segment":55}],109:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTemplatesHeaderLogic",r)},{}],110:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{isDataIntegrationsEnabled:!1,fc_enhanced_denied_form_workflow:!1,fc_track_forms_export:!1,fc_enhanced_form_filtering:!1}},o={url:"/form-tracking",templateUrl:"routes/form-tracking/form-tracking.html",resolve:{form:function(){},org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - Track Forms"},featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("formInstances","track")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formTracking",new r.State(o,i))}])},{"base-state":56}],111:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$filter","$location","ssAsync","ssEnum","moment","ssFormInstancesApi","ssActiveUserSvc","ssDateByOrgHlp","ssEmployeeApi",function(e,t,n,r,i,o,a,s,l,c,p){var u=t.routeVm;u.getFormsPromise=null,u.getFormCountsPromise=null;var d=(e.get("segmentFormTrackingContentLogic"),t.vm={}),m=r.search().resolvemethod;"ReadModel"!==m&&"Mongo"!==m||(d.resolveMethod=m);t.go={urgent:function(){return{api:s.queryByOrg,config:{include:"steps","filter[dueDateUtc]":c.safeNowRelativeTo(u.org).add(4,"days").toISOString(),"filter[status]":o.formStatus.incomplete+","+o.formStatus.rejected,from:u.dateSent.from.toISOString(),to:u.dateSent.to.toISOString(),limit:50,resolvemethod:d.resolveMethod}}},denied:function(){return{api:s.queryByOrg,config:{include:"steps","filter[status]":o.formStatus.rejected,from:u.dateSent.from.toISOString(),to:u.dateSent.to.toISOString(),limit:50,resolvemethod:d.resolveMethod}}},notStarted:function(){return{api:s.queryNotStarted,config:{include:"steps",from:u.dateSent.from.toISOString(),to:u.dateSent.to.toISOString(),limit:50,resolvemethod:d.resolveMethod}}},inProgress:function(){return{api:s.queryInProgress,config:{include:"steps",from:u.dateSent.from.toISOString(),to:u.dateSent.to.toISOString(),"filter[status]":u.filterBy,limit:50,resolvemethod:d.resolveMethod}}},complete:function(){return{api:s.queryByOrg,config:{include:"steps","filter[status]":u.filterBy,from:u.dateSent.from.toISOString(),to:u.dateSent.to.toISOString(),limit:50,resolvemethod:d.resolveMethod}}}};i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.getIdentityByTypeSync("employee");case 3:return d.emplId=e.sent,e.next=6,p.get({id:d.emplId},null,!1);case 6:t=e.sent,d.permissions=t.$permitted.props,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}},e,this,[[0,10]])}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormTrackingContent",function(){return new l("content")})},{"base-segment":55}],112:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTrackingContentLogic",r)},{}],113:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","ssLocationSvc","ssStorage","ssEnum","ssFormTemplatesApi","ssFormInstancesApi","ssToastHlp","ssAsync","ssModalSvc","$timeout",function(e,t,n,r,i,o,a,s,l,c,p){function u(){p(function(){var e={title:"Please wait...",content:"",size:"small"};c.showWait(e),l(regeneratorRuntime.mark(function e(){var t,n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=g.templateFilterSelections.filter(function(e){return"Packet"===e._objectType}).map(function(e){return e.id}),n=g.templateFilterSelections.filter(function(e){return"FormTemplate"===e._objectType}).map(function(e){return e._templateId}),r={id:g.org.id},i={attributes:{from:g.dateSent.from.toISOString(),to:g.dateSent.to.toISOString(),filter:{packettemplateids:t.join(","),formtemplateids:n.join(",")}}},e.next=7,a.exportForms(r,i);case 7:o=e.sent,window.location.href=o.data.data.attributes.string,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s.error(e.t0.data.message,"There was an problem creating your export");case 14:return e.prev=14,c.clearDialog(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[0,11,14,17]])}))()},100)}function d(){for(var e=moment(),t=y.getFCAddedDate(g.org._applications),n=y.getYearsSinceCreation(e,t),r=[y.lastXDays(e,7),y.lastXDays(e,14),y.lastXDays(e,60),y.yearToDate(e),y.currentSchoolYear(e)],i=1;i<=n&&i<=2;i++)r.push(y.getPreviousSchoolyear(e,i));return r}function m(){switch(g.selectedCategory){case"complete":g.filterBy=i.formStatus.complete+","+i.formStatus.completedAndDenied;break;case"in-progress":g.filterBy=i.formStatus.incomplete+","+i.formStatus.rejected;break;default:g.filterBy=null}}function f(){g.featureFlags.fc_enhanced_form_filtering&&(g.templateFilterOptions=[],b.formTemplates=[],b.packets=[],o.getFilterTemplates({startDate:g.dateSent.from.toISOString(),endDate:g.dateSent.to.toISOString()}).then(function(e){g.templateFilterOptions=e,b.formTemplates=g.templateFilterOptions.filter(function(e){return"FormTemplate"===e._objectType}),b.packets=g.templateFilterOptions.filter(function(e){return"Packet"===e._objectType})}).catch(function(e){console.error("ERROR",e)}))}var g=t.routeVm,y=e.get("segmentFormTrackingHeaderLogic");g.templateFilterSelections=[],g.templateFilterOptions=[],g.selectedCategory="urgent",g.sentByParticipant="0",g.sentToLocation="-1",g.sortBy="duedate",g.counts=[],g.dateSent=d()[1];var b=t.vm={sentByCriteria:[{value:"0",name:"All"},{value:"creatorId",name:"Form Sender - Myself"},{value:"formadministrator",name:"Form Admin - Myself"}],sortOptions:[{id:0,value:"duedate",name:"Due Date",categories:["urgent","denied","not-started","in-progress","complete"]},{id:1,value:"primaryrecipient",name:"Employee Name (A-Z)",categories:["urgent","denied","not-started","in-progress","complete"]},{id:2,value:"formname",name:"Form/Packet Name (A-Z)",categories:["urgent","denied","not-started","in-progress","complete"]},{id:3,value:"recentlysent",name:"Recently Sent",categories:["urgent","denied","not-started","in-progress"]},{id:4,value:"completionpercent",name:"Workflow Progress",categories:["urgent","denied","in-progress"]}],filterOptions:[{id:0,value:i.formStatus.incomplete+","+i.formStatus.rejected,name:"All",categories:["in-progress"]},{id:1,value:""+i.formStatus.rejected,name:"Step Denied",categories:["in-progress"]},{id:2,value:""+i.formStatus.incomplete,name:"Progressing",categories:["in-progress"]},{id:3,value:i.formStatus.complete+","+i.formStatus.completedAndDenied,name:"All",categories:["complete"]},{id:4,value:""+i.formStatus.completedAndDenied,name:"Form Denied",categories:["complete"]},{id:5,value:""+i.formStatus.complete,name:"Complete",categories:["complete"]}],locations:[],dateSentOptions:d(),dateSentIdx:1,formTemplates:[],packets:[]};f();t.go={filter:function(e){g.selectedCategory=e},showFilter:function(){return!!g.featureFlags.fc_enhanced_denied_form_workflow&&("in-progress"===g.selectedCategory||"complete"===g.selectedCategory)},handleExportFormsClick:function(){var e={title:"",content:"Generate Template Report?",primaryText:"Download",secondaryText:"Cancel",size:"medium"};c.showStandard(e).then(function(){u()})}};b.locations=n.getAll(),b.locations.splice(0,0,{_name:"Anywhere",id:"-1"}),t.$watch("routeVm.selectedCategory",function(e,t){if(e!==t){var n=b.sortOptions.findIndex(function(e){return e.value===g.sortBy});b.sortOptions[n].categories.includes(g.selectedCategory)||(g.sortBy="duedate"),m(),r.save("trackFormsFilters",[{category:g.selectedCategory,sort:g.sortBy,filterBy:g.filterBy,search:g.search,sentby:g.sentByParticipant,location:g.sentToLocation}],{persistent:!0,expires:!1})}}),t.$watch("vm.dateSentIdx",function(e,t){e!==t&&(g.dateSent=b.dateSentOptions[e],f())})}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormTrackingHeader",function(){return new l("header")})},{"base-segment":55}],114:[function(e,t,n){"use strict";function r(){return{lastXDays:function(e,t){return{from:e.clone().subtract(t,"days"),to:e.clone(),title:"Last "+t+" Days"}},currentSchoolYear:function(e){var t,n;if(e.clone().month()>6){var r=e.clone().utc().add(1,"years");t=e.clone().year()+"-08-01T00:00:00.000Z",n=r.format("YYYY")+"-07-31T23:59:59.999Z"}else{t=e.clone().utc().subtract(1,"years").format("YYYY")+"-08-01T00:00:00.000Z",n=e.clone().year()+"-07-31T23:59:59.999Z"}return{from:moment(t,moment.ISO_8601).utc(),to:moment(n,moment.ISO_8601).utc(),title:moment(t,moment.ISO_8601).utc().format("MMM YYYY")+" – "+moment(n,moment.ISO_8601).utc().format("MMM YYYY")}},getFCAddedDate:function(e){var t=e.filter(function(e){return"EC"===e._applicationId});return void 0!==t&&0!==t.length?t[0]._createdUtc:moment().toISOString()},getPreviousSchoolyear:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.currentSchoolYear(e),r=moment(n.from).subtract(t,"years"),i=moment(n.to).subtract(t,"years");return{from:r,to:i,title:r.format("MMM YYYY")+" – "+i.format("MMM YYYY")}},getYearsSinceCreation:function(e,t){return Math.ceil(e.diff(moment(t),"years",!0))},yearToDate:function(e){return{from:e.clone().startOf("year"),to:e.clone(),title:"Jan 1 - Today"}}}}angular.module("ec-forms-segment-logic").factory("segmentFormTrackingHeaderLogic",r)},{}],115:[function(e,t,n){"use strict";var r=e("base-state"),i={props:!1,formInstance:null,formTemplate:null,hasPDFOverlay:null,showPDFOverlay:null},o={url:"/form-instance/{formInstanceId:[0-9A-Za-z-]+}?from&returnUrl",templateUrl:"routes/inbox/form-instance/form-instance.html",resolve:{formInstanceCompletion:["$stateParams","$state","$sce","ssAsync","ssFormInstancesApi","ssFormTemplatesApi","ssToastHlp","enumStepAction","enumFormStatus",function(e,t,n,r,o,a,s,l,c){return r(regeneratorRuntime.mark(function r(){var p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i.hasPDFOverlay=!1,i.showPDFOverlay=!1,r.next=5,o.get({id:e.formInstanceId,include:"steps"},null,!1);case 5:return i.formInstance=r.sent,r.next=8,a.get({id:i.formInstance._formTemplate.formTemplateId,include:"steps,formFields,files"});case 8:i.formTemplate=r.sent,i.hasPDFOverlay=i.formTemplate._printPreviewDefinition&&null!=i.formTemplate._printPreviewDefinition.templateFileId,!i.hasPDFOverlay||i.formInstance._statusId!==c.complete&&i.formInstance._statusId!==c.archived||(i.showPDFOverlay=!0,p=i.formInstance._steps.filter(function(e){return e._stepAction!==l.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return e="string"==typeof e?JSON.parse(e):e,Object.assign(e,JSON.parse(t))}),o.generatePDFOverlay({formInstanceid:i.formInstance.id,formFieldValues:p,showSensitive:!1}).then(function(e){document.getElementById("form-overlay-frame").src=n.trustAsResourceUrl(e.data.data.attributes.string)}).catch(function(e){s.error("There was an error generating the PDF","")})),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),403===r.t0.status?t.transitionTo("403"):s.error(r.t0.data.errors.Title,"There was a problem loading the form."),console.error("Error getting form data",r.t0);case 17:case"end":return r.stop()}},r,this,[[0,13]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["formInstanceCompletion",function(e){return"Frontline Central - "+i.formInstance.name}]}};angular.module("ec-forms").config(["$stateProvider",function(e){sidekick.events.on("feature-flags-ready",function(t){t.checkState("fc-enable-merged-forms-modules")&&(o.redirectToState="base.formInstance"),e.state("base.myFormsFormInstance",new r.State(o,i))},{greedy:!0})}])},{"base-state":56}],116:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,r,i,o){function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.formTemplate._files.map(function(e){return e._fileId}),t.prev=1,t.next=4,o.getFiles({},{ids:r});case 4:a=t.sent,l.files=a.map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error getting file records",t.t0);case 11:return t.prev=11,l.loading=!1,e&&n.open(l.files.find(function(t){return t.id==e.id})._url),t.finish(11);case 15:case"end":return t.stop()}},t,this,[[1,8,11,15]])}))()}var s=t.routeVm,l=(e.get("segmentInboxFormInstanceAttachmentsLogic"),t.vm={loading:!0});t.go={download:function(e){a(e)}};a()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceAttachments",function(){return new l("attachments")})},{"base-segment":55}],117:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceAttachmentsLogic",r)},{}],118:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$window","$location","rAF","ssAsync","ssToastHlp","ssModalSvc","ssDateHlp","enumFormStatus","ssEnum","ssActiveUserSvc","$q",function(e,t,n,r,i,o,a,s,l,c,p,u,d,m,f){function g(){return r.returnUrl&&r.returnUrl.length?r.returnUrl:function(){var e=m.getEmployeeSync().id;return y.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){
return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/my-forms":"/ec-dashboard"}()}var y=t.routeVm,b=(e.get("segmentInboxFormInstanceCloseLogic"),t.vm={fromView:n.params.from||"",firstSave:y.formTemplate._isEmployeeInitiated&&p.isForeverPast(y.formInstance._changedUtc),formIsComplete:y.formInstance._statusId===u.complete||y.formInstance._statusId===u.archived,deleting:!1});t.go={save:function(){s(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.loading=!0,e.prev=1,e.delegateYield(regeneratorRuntime.mark(function e(){var n,r,i,o,a,s,p,u,m,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=y.formInstance._steps.find(function(e){return e._stepAction===d.stepAction.employeeProfileReview}),r&&(n=r._employeeProfileReviewStepFieldValues.map(function(e){return{sourceFormFieldId:e.sourceFormFieldId,sourceField:e.sourceField}}),r._employeeProfileReviewStepFieldValues=r._employeeProfileReviewStepFieldValues.slice()),e.next=5,y.formInstance.$save(!1,!0,!1);case 5:i=!0,o=!1,a=void 0,e.prev=8,s=y.formInstance._steps[Symbol.iterator]();case 10:if(i=(p=s.next()).done){e.next=21;break}if(u=p.value,!u.disabled){e.next=14;break}return e.abrupt("continue",18);case 14:return e.next=16,u.$save(!0,!0,!1);case 16:m=e.sent,m._stepAction===d.stepAction.employeeProfileReview&&(m._employeeProfileReviewStepFieldValues=m._employeeProfileReviewStepFieldValues.map(function(e){var t=n.find(function(t){return t.sourceFormFieldId===e.sourceFormFieldId});return e.sourceField=t.sourceField,e}));case 18:i=!0,e.next=10;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(8),o=!0,a=e.t0;case 27:e.prev=27,e.prev=28,!i&&s.return&&s.return();case 30:if(e.prev=30,!o){e.next=33;break}throw a;case 33:return e.finish(30);case 34:return e.finish(27);case 35:b.loading=!1,l.success("","Progress Saved",!1),b.firstSave&&(b.firstSave=!1,f={title:"Progress has been saved. The form will appear in My Forms until submitted.",primaryText:"Continue",alwaysOnTop:!0,showSecondary:!1},c.showStandard(f));case 38:case"end":return e.stop()}},e,t,[[8,23,27,35],[28,,30,34]])})(),"t0",3);case 3:e.next=9;break;case 5:e.prev=5,e.t1=e.catch(1),b.loading=!1,l.error("There was an error saving the form","Error",!1);case 9:case"end":return e.stop()}},e,this,[[1,5]])}))()},close:function(){o.search("activeTab",null),o.url(g())},print:function(){a(function(){return i.print()},t)},showDelete:function(){var e=y.formInstance._currentStepId===y.formTemplate._stepOrder.split(",")[0];return y.formInstance._isEmployeeInitiated&&e},deleteForm:function(){b.deleting=!0;var e={title:"Delete Form",content:"Are you sure you want to delete this form? This form will be deleted and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};c.showDestructive(e).then(function(){s(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.formInstance.$remove();case 3:l.success("",'"'+y.formTemplate._name+'" has been deleted'),t=r.from&&r.from.length?r.from:g(),o.url(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.error("",'Error deleting form "'+y.formTemplate._name+'"');case 11:return e.prev=11,b.deleting=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}))()}).catch(function(){b.deleting=!1})}}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceClose",function(){return new l("close")})},{"base-segment":55}],119:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceCloseLogic",r)},{}],120:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","rAF","$anchorScroll","$timeout","$q","$filter","ssAsync","ssEventSvc","ssFormInstancesApi","ssEnum","ssActiveUserSvc","fieldRendererHlp","ssToastHlp","ssSaveInterrupterSvc","ssModalSvc","formsHlp",function(e,t,n,r,i,o,a,s,l,c,p,u,d,m,f,g,y,b,h){function v(){return n.returnUrl&&n.returnUrl.length?n.returnUrl:function(){var e=m.getEmployeeSync().id;return S.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/my-forms":"/ec-dashboard"}()}function _(e){c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:O.loading=!0,e._stepAction===d.stepAction.employeeProfileReview?(e.instance._employeeProfileReviewStepFieldValues.forEach(function(e){delete e.sourceField}),e.instance._employeeProfileReviewStepFieldValues=e.instance._employeeProfileReviewStepFieldValues.slice()):e.instance.$$forceChangedState("formFieldValues"),e.instance.$save().then(function(t){S.formInstance._statusId===d.formStatus.rejected?u.updateStatus({id:S.formInstance.id,newStatus:0}).then(function(){w(e)}):w(e)}).catch(function(e){O.loading=!1});case 3:case"end":return t.stop()}},t,this)}))()}function w(e){u.post({id:S.formInstance.id,event:O.submissionEvent,stepId:e.id}).then(function(){P().then(function(e){g.success("","form step "+D,!1)}).catch(function(){g.error("","form workflow timed out. Please refresh the page and try again",!1)}).finally(function(){r.url(v())})}).catch(function(e){})}function P(){function e(){if(++r===n)return void t.reject();c(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.get({id:S.formInstance.id});case 2:r=n.sent,r&&!1===r._inWorkflow?(t.resolve(r),O.loading=!1):a(e,500);case 4:case"end":return n.stop()}},n,this)}))()}var t=s.defer(),n=24,r=0;return e(),t.promise}var S=t.routeVm,T=e.get("segmentInboxFormInstanceFormLogic"),x=t.stepValues={},O=t.vm={steps:[],selectedStep:null,loading:!1,submissionEvent:"",employeeProfileReview:d.stepAction.employeeProfileReview,formComplete:d.formStatus.complete,cachedSourceFields:{}},D="";t.go={selectFormObject:function(e,n){O.selectedStep=n,p.emit("form-instance.entry.step-clicked",n.id,!1),t.$emit("ss-validate-reset")},ignoreValidations:function(e,t){return O.steps.indexOf(e)>O.steps.indexOf(t)},submitForm:function(e){var t=O.steps.findIndex(function(e){return e.currentStep}),n=O.steps.findIndex(function(t){return t.id===e.id});if(n<=t)return void _(e);var r={secondaryText:"Cancel",alwaysOnTop:!0,size:"standard"};n+1===O.steps.length?(r.title="Are you sure you want to submit this form?",r.primaryText="Submit Form",r.content="You are about to submit a form with incomplete workflow steps."):(r.title="Are you sure you want to submit this step?",r.primaryText="Submit Step",r.content="There are incomplete workflow steps prior to this step. Are you sure you want to submit this step?"),b.showStandard(r).then(function(){_(e)})},submitStep:function(e){O.submissionEvent="submitStep",D="submitted",O.selectedStep=e},acknowledgeStep:function(e){O.submissionEvent="reviewForm",D="acknowledged",O.selectedStep=e},approveStep:function(e){O.submissionEvent="approveForm",D="approved",O.selectedStep=e},denyStep:function(e){O.submissionEvent="declineForm",D="denied",O.selectedStep=e},reviewProfile:function(e){O.submissionEvent="profileReviewed",D="submitted",O.selectedStep=e},profileValueDisplay:function(e,t){var n,r=t.fields.find(function(t){return t.id===e.formFieldId});if(r.externalSourceOptions&&r.externalSourceOptions.length>0){var i=r.externalSourceOptions.find(function(t){return t.value===e.profileValue});null!=i&&(n=i.name)}else n="super-input-datepicker"===r._fieldType?l("date")(e.profileValue,"MM/dd/yyyy"):"super-input-checkbox"===r._fieldType?!0===e.profileValue?"Yes":"No":e.profileValue;return n}};!function(){O.loading=!0,h.sortByOrderField(S.formTemplate._steps,S.formTemplate._stepOrder),S.formTemplate._steps.forEach(function(e,n,r){e.instance=S.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),null!=e.instance&&e._stepAction!==d.stepAction.formCompleted&&(x[e.instance.id]=e.instance,f.bindConfigObject(t,"stepValues['"+e.instance.id+"']._formFieldValues","stepValues['"+e.instance.id+"'].formFieldValues"),"string"==typeof e.instance._formFieldValues&&0!==e.instance._formFieldValues.length||(e.instance._formFieldValues="{}"),null==e.instance._lastModifiedDtUtc&&e.instance.$$forceChangedState("formFieldValues"),S.formInstance._currentStepId===e.id&&(O.selectedStep=e,O.selectedStep.currentStep=!0,i(function(){p.emit("form-instance.entry.step-clicked",e.id)},!1)),S.formTemplate._formFields.length&&(e.fields=S.formTemplate._formFields.filter(function(t){return t._step.id===e.id}),h.sortByOrderField(e.fields,e._fieldOrder),e=T.processStep({tStep:e,formInstance:S.formInstance}),e._stepAction===d.stepAction.employeeProfileReview&&e.instance._employeeProfileReviewStepFieldValues.forEach(function(e,r){var i=S.formTemplate._steps.find(function(t){return t.id===e.sourceStepId}).fields.find(function(t){return t.id===e.sourceFormFieldId});e.sourceField=Object.assign({},i),O.cachedSourceFields[r]=i,t.$watch("vm.cachedSourceFields["+r+"].overrideVisibility",function(t,n){null!=t&&t!=n&&(e.sourceField.overrideVisibility=t)}),t.$watch("routeVm.formTemplate._steps["+n+"]\n\t\t\t\t\t\t\t\t\t.instance._employeeProfileReviewStepFieldValues["+r+"]\n\t\t\t\t\t\t\t\t\t.sourceField.step.formFieldValues['"+e.sourceFormFieldId+"']",function(t,n){null!=t&&t!=n&&(e.formFieldValue=t)})}),O.steps.push(e)))}),O.loading=!1}(),p.on("form-instance.entry.step-clicked",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=O.steps.find(function(t){return t.id===e}),r=O.steps.findIndex(function(t){return t.id===e});if(null==n)return void(O.selectedStep=0);O.selectedStep=n,t&&o("fb-step-"+r)},t)}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceForm",function(){return new l("form")})},{"base-segment":55}],121:[function(e,t,n){"use strict";function r(e,t,n,r){function i(e){var n=e.tStep,r=e.formInstance,i=Object.assign({},n);p=r._statusId===t.complete;var s=i.instance._meta.permissions.permittedActions.edit;return i.editMode=!0,i.disabled=!1,s||(i.editMode=!1,i.disabled=!0),p&&(i.editMode=!1,i.disabled=!1),i.instance.editMode=i.editMode,i.instance.disabled=i.disabled,i=o({tStep:i}),a(i),i.fieldGroups=l(i),i}function o(e){var t=e.tStep,r=!1,i=!1,o=!1,a=!1;return!t.currentStep&&t.disabled||p||(r=t._stepAction===n.formEntry,i=t._stepAction===n.reviewForm,o=t._stepAction===n.reviewApproveOrDeny,a=t._stepAction===n.employeeProfileReview),Object.assign({},t,{showFormEntry:r,showReviewForm:i,showReviewApproveOrDeny:o,showEmployeeProfileReview:a})}function a(t){t.fields.filter(function(e){return null!=e._fieldDefId}).forEach(function(n){var i=r.getFieldById(n);if(null!=i&&s(n,i),n.editMode=t.editMode,n.disabled=t.disabled,"super-select-list"===n._fieldType||n._fieldTypeOptions&&"readOnlyText"===n._fieldTypeOptions.view){var o=JSON.parse(n._configJson);null!=o.externalSource&&null!=e[o.externalSource]&&(n.externalSourceOptions=e[o.externalSource].enums)}else if("super-digital-signature"===n._fieldType){n.onBehalf=!1;try{n.onBehalf=!(n.step._stepParticipant&&(n.step._stepParticipant.employeeIds[0]===activeUser.id||activeUser.idmAdministrator))}catch(e){}}n._sensitive&&(p||(n.editMode=t.instance._meta.permissions.permittedActions.editSensitive),n.sensitiveRedacted=!t.instance._meta.permissions.permittedActions.viewSensitive),["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(n._fieldDefId)&&(n._fieldGroup=void 0)})}function s(e,t){Object.keys(t).forEach(function(n){Object.keys(e).includes(n)||(e[n]=t[n])})}function l(e){var t=[];return e.fields.forEach(function(n){if(n.step=e.instance,0===t.length)return void t.push([n]);var r=t[t.length-1];null!=n._fieldGroup&&r[0]._fieldGroup===n._fieldGroup?r.push(n):t.push([n])}),t}function c(e,t){if(null===e||""===e)return"";var n=t.find(function(t){return t.id===e}),r="";return null!=n&&(r=n._name),r}var p=!1;return{processStep:i,mapName:c}}r.$inject=["ssEnum","enumFormStatus","enumStepAction","fieldsHlp"],angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceFormLogic",r)},{}],122:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssDateByOrgHlp","ssFormInstancesApi","$sce","enumStepAction",function(e,t,n,r,i,o,a){function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showSensitive,n=void 0!==t&&t;l.isLoading=!0,l.loadingStatus="generating PDF...";var r=l.formInstance._steps.filter(function(e){return e._stepAction!==a.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return e="string"==typeof e?JSON.parse(e):e,Object.assign(e,JSON.parse(t))});return i.generatePDFOverlay({formInstanceid:l.formInstance.id,formFieldValues:r,showSensitive:n})}var l=t.routeVm,c=(e.get("segmentInboxFormInstanceHeaderLogic"),null),p=!1,u=t.vm={hasSensitiveFields:!1};t.go={toggleFormView:function(e){e?(l.isLoading=!0,l.loadingStatus="generating PDF...",s({showSensitive:p}).then(function(e){document.getElementById("form-overlay-frame").src=o.trustAsResourceUrl(e.data.data.attributes.string),l.showPDFOverlay=!0,l.isLoading=!1,l.loadingStatus=""}).catch(function(e){l.isLoading=!1,l.loadingStatus="",ssToastHlp("There was an error generating the PDF","")})):l.showPDFOverlay=!1},toggleSensitiveFields:function(e){c.forEach(function(t){t.overrideVisibility=!e}),p=e,l.hasPDFOverlay&&l.showPDFOverlay&&(l.isLoading=!0,l.loadingStatus="generating PDF...",s({showSensitive:e}).then(function(e){document.getElementById("form-overlay-frame").src=o.trustAsResourceUrl(e.data.data.attributes.string),l.isLoading=!1,l.loadingStatus=""}).catch(function(e){l.isLoading=!1,l.loadingStatus="",ssToastHlp("There was an error generating the PDF","")}))}};n(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.utcIsoToRelativeMoment(l.formInstance._createdUtc,l.org),l.formInstance.sentDate=t.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"}),c=l.formTemplate._formFields.filter(function(e){return!0===e._sensitive}),c.length&&(c.forEach(function(e){e.overrideVisibility=!0}),p=!1),n=l.formInstance._steps.some(function(e){return!0===e._meta.permissions.permittedActions.viewSensitive}),u.hasSensitiveFields=!!c.length&&n;case 6:case"end":return e.stop()}},e,this)}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceHeader",function(){return new l("header")})},{"base-segment":55}],123:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceHeaderLogic",r)},{}],124:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","enumStepAction","formsHlp",function(e,t,n,r,i,o){var a=t.routeVm,s=e.get("segmentInboxFormInstanceStepsLogic"),l=t.vm={steps:[],selectedStep:null,loading:!0,employeeProfileReview:r.stepAction.employeeProfileReview};t.go={selectStep:function(e,t){l.selectedStep=t,n.emit("form-instance.entry.step-clicked",t.id)}};n.on("form-instance.entry.step-clicked",function(e){var t=l.steps.find(function(t){return t.id===e});l.selectedStep=t},t),l.steps=angular.copy(a.formTemplate._steps).filter(function(e){return e._stepAction!==i.formCompleted});try{o.sortByOrderField(l.steps,a.formTemplate._stepOrder);var c=s.buildParticipantList(a.formInstance._steps);l.steps.forEach(function(e){e.instance=a.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),e.participantPermission=s.getPermissionLabel(e),e.stepActionName=i.byValue(e._stepAction),null!=e.instance&&(e.otherParticipants=c.reduce(function(t,n){if(n.templateStepId===e.id)return t;var r=e._permissions.find(function(e){return s.matchByParticipants(e,n)});return r&&r.canView?(t.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),t):t},[]))})}catch(e){}finally{l.loading=!1}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceSteps",function(){return new l("steps")})},{"base-segment":55}],125:[function(e,t,n){"use strict";function r(e,t){function n(e){var t=[];return e.forEach(function(e){if(e._stepParticipant){var n=angular.isArray(e._stepParticipant.employeeIds)&&e._stepParticipant.employeeIds.length?e._stepParticipant.employeeIds[0]:"";t.find(function(t){return t.templateStepId===e._formTemplateStepId})||t.push({templateStepId:e._formTemplateStepId,participantName:e._stepParticipant.name,participantType:e._stepParticipant.participantType,employeeId:n})}}),t}function r(e){var t=e._permissions.find(function(t){return i(t,e)});return t?(t.canView?"view":"")+(t.canEdit?" & edit":""):""}function i(t,n){var r=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,i=n._stepParticipant?n._stepParticipant.participantType:n.participantType;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===r:t.participantType===i}return{buildParticipantList:n,getPermissionLabel:r,matchByParticipants:i}}r.$inject=["ssEnum","enumStepParticipantType"],angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceStepsLogic",r)},{}],126:[function(e,t,n){"use strict";var r=e("base-state"),i={},o={url:"/inbox?activeTab",templateUrl:"routes/inbox/inbox.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - My Forms"}},$permissions:function(e){return e.isPermittedAction("activeUser","userKey")}};angular.module("ec-forms").config(["$stateProvider",function(e){sidekick.events.on("feature-flags-ready",function(t){t.checkState("fc-enable-merged-forms-modules")&&(o.redirectToState="base.my-forms"),e.state("base.inbox",new r.State(o,i))},{greedy:!0})}])},{"base-state":56}],127:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","ssEnum","ssAsync","ssActiveUserSvc","ssFormInstancesApi","ssFormTemplatesApi","ssStorage","ssOrganizationSvc","ssToastHlp",function(e,t,n,r,i,o,a,s,l,c,p,u){function d(){var e=r.search().resolvemethod;return"ReadModel"===e||"Mongo"===e?e:null}var m=t.routeVm,f=(e.get("segmentInboxContentLogic"),null),g=t.vm={selectedFilter:"current"},y=t.go={filter:function(e){g.selectedFilter=e},getCurrentForms:function(){var e={id:f,include:"steps","filter[search]":m.search};return null!==d()&&(e.resolvemethod=d()),{api:s.queryCurrent,config:e}},getSentForms:function(){return{api:s.querySubmitted,config:{id:f,include:"steps","filter[search]":m.search}}},getCompletedForms:function(){return{api:s.query,config:{id:f,include:"steps","filter[status]":i.formStatus.complete,"filter[search]":m.search}}},getInitiatedForms:function(){return{api:l.query,config:{include:"steps,statusHistory",latestVersion:!0,"filter[isemployeeinitiated]":"true","filter[name]":m.search}}}};o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,a.getIdentityByType("employee");case 4:f=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),{error:e.t0,msg:"There was an error retrieving employee data. Forms will not display. Please see the console for more detail."};case 10:n.activeTab&&n.activeTab.length?y.filter(n.activeTab):"EmployeeInitiated"===c.load("inboxDefaultTab")&&(y.filter("initiate"),c.clear("inboxDefaultTab")),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),u.error(e.t1.msg,"",!1);case 16:case"end":return e.stop()}},e,this,[[0,13],[1,7]])}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxContent",function(){return new l("content")})},{"base-segment":55}],128:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxContentLogic",r)},{}],129:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentInboxHeaderLogic"),t.vm={};n.search=""}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxHeader",function(){return new l("header")})},{"base-segment":55}],130:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxHeaderLogic",r)},{}],131:[function(e,t,n){"use strict";var r=e("base-state"),i={},o={url:"/",templateUrl:"routes/index/index.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - Form Templates"}},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formTemplates","send")||e.isPermittedAction("formTemplates","archive")||e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packets","send")||e.isPermittedAction("packets","archive")}};angular.module("ec-forms").config(["$stateProvider",function(e){sidekick.events.on("feature-flags-ready",function(t){t.checkState("fc-enable-merged-forms-modules")&&(o.redirectToState="base.formTemplates"),e.state("base.index",new r.State(o,i))},{greedy:!0})}])},{"base-state":56}],132:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","$filter","$location","$state","rAF","ssAsync","ssDateByOrgHlp","ssFormLibraryApi","ssPacketsApi","ssFormTemplatesApi","ssStatusApi","ssListSvc","ssModalSvc","ssEnum","enumFormTemplateStatus",function(e,t,n,i,o,a,s,l,c,p,u,d,m,f,g,y){function b(){S=0,x=0,D.displayTemplates=[],h()}function h(){return D.loading=!0,D.loadingMessage="Loading Form Templates",null!=O&&O.$abort(),O=s(regeneratorRuntime.mark(function e(){var n,i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={},D.categories){e.next=6;break}return e.next=5,m.getByExternalId("form.categories");case 5:D.categories=e.sent;case 6:return S=A.sorting?S:S+1,i=(S-1)*T,x=A.sorting?x:x+T,n.offset=A.sorting?0:i,n.limit=A.sorting?x:T,n=Object.assign(n,w(A.sortBy)),null!=A.selectedStatus&&"All"!=A.selectedStatus&&(n=Object.assign(n,P("status",A.selectedStatus))),null!=A.selectedCategory&&"All"!=A.selectedCategory&&(n=Object.assign(n,P("category",A.selectedCategory))),null!=A.search&&A.search.length>0&&(n=Object.assign(n,P("name",A.search))),e.next=17,c.queryTemplateObjects(n);case 17:o=e.sent,t.count=parseInt(o.$headers["total-results"],10),s=v(o),D.displayTemplates=A.sorting?[].concat(r(s)):[].concat(r(D.displayTemplates),r(s)),A.showInfScroll=x<t.count,e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),A.showInfScroll=!1,error("Error getting data",e.t0);case 28:return e.prev=28,D.loading=!1,A.sorting=!1,A.scrolling=!1,O=null,e.finish(28);case 34:a(function(){D.loading=!1,t.$emit("template-objects.data-loaded")},t);case 35:case"end":return e.stop()}},e,this,[[0,24,28,34]])}))()}function v(e){return e.forEach(function(e){e.isForm=null!=e._templateId,e.isPacket=null==e._templateId,e.searchText=""+e._name,e.isPacket&&(e.detailsOpen=!1,s(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get({id:e.id});case 2:n=t.sent,e.packetCount=n._formTemplateIds.length;case 4:case"end":return t.stop()}},t,this)}))()),D.extendCommonProps(e)}),e}function _(e){var t,n="";return null==e?"":(t=D.categories.filter(function(t){return t.value===e}),t.length>0&&(n=t[0].description),n)}function w(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}function P(e,t){var n={};return n["filter["+e+"]"]=t,n}var S=0,T=50,x=0,O=null,D=t.routeVm,A=(e.get("segmentIndexContentLogic"),D.vm=t.vm={showInfScroll:!0,sorting:!1,sortCriteria:[{label:"Recently Modified",value:{field:"changedutc",dir:"desc"}},{label:"Template Name A-Z",value:{field:"name",dir:"asc"}}],statuses:y.getEnums().filter(function(e){return 2!==e.value}).reverse(),selectedStatus:"All",selectedCategory:"All",search:""});A.sortBy=A.sortCriteria[0].value,D.loading=!1,D.displayTemplates=[],D.loadFormTemplates=h,D.refreshData=b,t.$watch("vm.sortBy",function(e,t){e!==t&&null!=D.displayTemplates&&0!==D.displayTemplates.length&&(A.sortBy=e,A.sorting=!0,h())}),t.$watchGroup(["vm.search","vm.selectedCategory","vm.selectedStatus"],function(e,t){e!==t&&b()}),t.scrollData=function(){A.showInfScroll&&!D.loading&&(A.scrolling=!0,h())},D.extendCommonProps=function(e){var t=l.utcIsoToRelativeMoment(e._modifiedDt,D.org);e.modifiedText=t.calendar(null,{sameDay:"[Today @] LT",lastDay:"[Yesterday @] LT",lastWeek:"ddd [@] LT",sameElse:"L [@] LT"}),e._category&&(e._category.name=_(e._category.id)),
e._steps.length&&(e._steps=e._steps.filter(function(e){return 3!==e._stepAction}),e._steps.forEach(function(e){e.participantLabel=null==e._stepParticipant.participantType?"undefined":g.stepParticipantType.byValue(e._stepParticipant.participantType),e.stepActionLabel=null==e._stepAction?"undefined":g.stepAction.byValue(e._stepAction)}))},h()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentIndexContent",function(){return new c("content")})},{"base-segment":55}],133:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentIndexContentLogic",r)},{}],134:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$location","ssAsync","ssValidationHlp","ssFormTemplatesApi","ssPacketsApi","ssToastHlp","enumFormAdministratorType",function(e,t,n,r,i,o,a,s,l){t.routeVm,e.get("segmentIndexHeaderLogic"),t.validator={required:i.required()};t.formAdminEnums=l;var c,p=t.vm={openMenu:!1,invalidConfig:!0,specificAdminNotRequired:!0,form:{instanceType:null,instanceTitle:null,isEmployeeInitiated:!1,category:{id:null},formAdministrator:{employeeId:null,formAdministratorType:null}},specificAdmin:[],isCreating:!1,formAdminTypes:t.formAdminEnums.getEnums()},u=t.go={create:function(){if(!p.isCreating){p.isCreating=!0;var e="form"===p.form.instanceType?o:a;r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.add({},{_name:p.form.instanceTitle,_isEmployeeInitiated:p.form.isEmployeeInitiated,_category:p.form.category,_formAdministrator:p.form.formAdministrator});case 3:p.template=t.sent,n.path("/ec-forms/"+p.form.instanceType+"-builder/"+p.template.id+"/builder"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),s.error("","Error creating "+p.form.instanceType),console.error("Error creating "+p.form.instanceType,t.t0);case 11:return t.prev=11,p.isCreating=!1,t.finish(11);case 14:case"end":return t.stop()}},t,this,[[0,7,11,14]])}))()}},toggleMenu:function(){!0!==p.openMenu&&(p.openMenu=!p.openMenu,u.reset())},reset:function(){p.form.instanceType=null,p.form.instanceTitle=null,p.form.isEmployeeInitiated=!1,p.form.formAdministrator.employeeId=null,p.form.formAdministrator.formAdministratorType=null,p.form.category.id=null,p.specificAdmin=[]},cancel:function(){p.openMenu=!1,u.reset()}},d=["vm.form.category.id","vm.form.instanceTitle","vm.specificAdminNotRequired","vm.form.formAdministrator.formAdministratorType"];t.$on("destroy",t.$watch("vm.form.instanceType",function(e,n){if(e&&e!==n){var r=void 0;p.altLabel="form"===e?"template":"",c&&c(),r="form"!==e?d.slice().filter(function(e){return"vm.form.formAdministrator.formAdministratorType"!==e}):d,c=t.$watchGroup(r,function(e,t){p.invalidConfig=e.some(function(e){return"number"!=typeof e&&!e||"number"==typeof e&&e<0})})}})),t.$on("destroy",c),t.$on("$destroy",t.$watch("vm.form.isEmployeeInitiated",function(e,n){e?(1===p.form.formAdministrator.formAdministratorType&&(p.form.formAdministrator.formAdministratorType=null),p.formAdminTypes=p.formAdminTypes.filter(function(e){return 1!==e.value})):p.formAdminTypes=t.formAdminEnums.getEnums()}))}]},{key:"link",value:function(e,t,n){var r;e.$on("$destroy",e.$watch("vm.form.formAdministrator.formAdministratorType",function(t,n){e.vm.specificAdmin=[],t===e.formAdminEnums.specificPerson?(e.vm.specificAdminNotRequired=!1,r=e.$watch("vm.specificAdmin",function(t,n){t.length?(e.vm.specificAdminNotRequired=!0,e.vm.form.formAdministrator.employeeId=t[0].id):e.vm.specificAdminNotRequired=!1})):(e.vm.specificAdminNotRequired=!0,"function"==typeof r&&r())}))}}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentIndexHeader",function(){return new l("header")})},{"base-segment":55}],135:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentIndexHeaderLogic",r)},{}],136:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{fc_enhanced_denied_form_workflow:!1}},o={url:"/my-forms?activeTab",templateUrl:"routes/my-forms/my-forms.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - My Forms"},featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("activeUser","userKey")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.my-forms",new r.State(o,i))}])},{"base-state":56}],137:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","ssEnum","ssAsync","ssActiveUserSvc","ssFormInstancesApi","ssFormTemplatesApi","ssStorage","ssOrganizationSvc","ssToastHlp",function(e,t,n,r,i,o,a,s,l,c,p,u){function d(){var e=r.search().resolvemethod;return"ReadModel"===e||"Mongo"===e?e:null}var m=t.routeVm,f=(e.get("segmentMyFormsContentLogic"),null),g=t.vm={selectedFilter:"current"},y=t.go={filter:function(e){g.selectedFilter=e,n.activeTab=e,r.search("activeTab",e)},getCurrentForms:function(){var e={id:f,include:"steps","filter[search]":m.search};return null!==d()&&(e.resolvemethod=d()),{api:s.queryCurrent,config:e}},getSentForms:function(){return{api:s.querySubmitted,config:{id:f,include:"steps","filter[search]":m.search}}},getCompletedForms:function(){return{api:s.query,config:{id:f,include:"steps","filter[status]":i.formStatus.complete+","+i.formStatus.completedAndDenied,"filter[search]":m.search}}},getInitiatedForms:function(){return{api:l.query,config:{include:"steps,statusHistory",latestVersion:!0,"filter[isemployeeinitiated]":"true","filter[name]":m.search}}}};o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,a.getIdentityByType("employee");case 4:f=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),{error:e.t0,msg:"There was an error retrieving employee data. Forms will not display. Please see the console for more detail."};case 10:n.activeTab&&"undefined"!==n.activeTab&&n.activeTab.length?y.filter(n.activeTab):y.filter("current"),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),u.error(e.t1.msg,"",!1);case 16:case"end":return e.stop()}},e,this,[[0,13],[1,7]])}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentMyFormsContent",function(){return new l("content")})},{"base-segment":55}],138:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentMyFormsContentLogic",r)},{}],139:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentMyFormsHeaderLogic"),t.vm={};n.search=""}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentMyFormsHeader",function(){return new l("header")})},{"base-segment":55}],140:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentMyFormsHeaderLogic",r)},{}],141:[function(e,t,n){"use strict";var r=e("base-state"),i={},o={url:"/builder",templateUrl:"routes/packet-builder/builder/builder.html",resolve:{$title:["$title",function(e){return e+" (Packet Builder)"}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.packetBuilder.Builder",new r.State(o,i))}])},{"base-state":56}],142:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","$state","ssEnum","enumStepAction","ssAsync","ssFormTemplatesApi","ssListSvc","ssDebounce","formsHlp","ssToastHlp",function(e,t,n,i,o,a,s,l,c,p,u){function d(){w&&w.$abort(),S.loading=!0,w=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:S.showInfScroll=S.forms.length<P&&P>v,S.loading=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u.error("There was an error getting form templates","Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}))()}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.offset,n=void 0===t?0:t;return a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.query({include:"steps,statusHistory",limit:v,offset:n,filter:f(),sort:g(),latestVersion:!0});case 2:t=e.sent,y(t),S.forms=[].concat(r(S.forms),r(t)),P=parseInt(t.$headers["total-results"],10);case 6:case"end":return e.stop()}},e,this)}))()}function f(){var e="filter[name]="+S.search,t="";if("All"!==S.selectedCategory){t="filter[categoryname]="+S.categories.find(function(e){return e.value===S.selectedCategory}).name}return t.length?e+"&"+t:e}function g(){var e=S.sortBy.startsWith("-")?"DESC":"ASC";return"sort["+S.sortBy.replace("-","")+"]="+e}function y(e){e.forEach(function(e){e.inPacket=S.packet._formTemplateIds.some(function(t){return t===e.id}),p.sortByOrderField(e._steps,e._stepOrder),e._steps.forEach(function(e){e.participantLabel=null==e._stepParticipant.participantType?"no participant":i.stepParticipantType.byValue(e._stepParticipant.participantType),e.stepActionLabel=null==e._stepAction?"no step action":i.stepAction.byValue(e._stepAction)})})}function b(e,n){t.added.splice(n,0,t.added.splice(e,1)[0])}var h=(t.routeVm,e.get("segmentPacketBuilderBuilderBuilderLogic"),t.packetVm),v=30,_=1,w=null,P=0;t.added=[];var S=t.vm={showInfScroll:!1,loading:!1,scrolling:!1,loadingPacket:!1,packet:h.packetData,selectedCategory:"All",sortBy:"-changedutc",search:"",sortCriteria:[{name:"Recently Modified",field:"-changedutc"},{name:"Name ASC",field:"name"},{name:"Name DESC",field:"-name"}],stepAction:o,forms:[]};a(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.getByExternalId("form.categories");case 3:S.categories=e.sent,S.packet._formTemplateIds.length&&(S.loadingPacket=!0,n=S.packet._formTemplateIds.toString(),s.formTemplatesByIds(S.packet._formTemplateIds,{include:"steps,statusHistory"}).then(function(e){p.sortByOrderField(e,n),y(e),t.added=e,S.loadingPacket=!1}).catch(function(e){u.error("There was an error retrieving form templates in the packet","Error"),S.loadingPacket=!1})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}))(),t.$watchGroup(["vm.search","vm.selectedCategory","vm.sortBy"],function(e,t){e!==t&&(S.scrolling=!1,S.forms=[],P=0,_=1,c(function(){d()},350)())}),t.$watchCollection("added",function(e,t){if(e!==t){var n=e.map(function(e){return e.id});JSON.stringify(n)!==JSON.stringify(S.packet._formTemplateIds)&&(S.packet._formTemplateIds=n)}});t.go={scrollData:function(){if(!S.scrolling){S.scrolling=!0,_++;var e=(_-1)*v;w=a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m({offset:e});case 3:S.scrolling=!1,S.showInfScroll=S.forms.length<P&&P>v,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),u.error("There was an error getting form templates","Error"),S.scrolling=!1;case 11:case"end":return t.stop()}},t,this,[[0,7]])}))()}},add:function(e,n){t.added.push(n),n.inPacket=!0},remove:function(e,n){t.added.splice(e,1);var r=S.forms.find(function(e){return e.id===n.id});r&&(r.inPacket=!1)},dropForm:function(e,n,r,i){var o=t.added.find(function(e){return e.id===i.id});if(o){b(t.added.indexOf(o),n)}else{t.added.splice(n,0,i);var a=S.forms.find(function(e){return e.id===i.id});a&&(a.inPacket=!0)}},preview:function(e){n.go("base.formBuilder.preview",{formId:e.id,returnTo:n.href(n.current.name),showPDFoverlay:n.is("base.formBuilder.overlayBuilder")})}};d()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderBuilderBuilder",function(){return new c("builder")})},{"base-segment":55}],143:[function(e,t,n){"use strict";function r(){function e(e,t){return statusLabelHlp.getLabel(e,t).status}function t(e,t){return statusLabelHlp.getLabel(e,t).statusLabel}return{getStatusLabel:t,getStatus:e}}angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderBuilderBuilderLogic",r)},{}],144:[function(e,t,n){"use strict";var r=e("base-state"),i={},o={url:"/packet-builder/{packetId:[0-9A-Za-z-]+}",templateUrl:"routes/packet-builder/packet-builder.html",resolve:{packet:["$stateParams","ssAsync","ssPacketsApi",function(e,t,n){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.packetId});case 3:i.packetData=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),ssToastHlp.error("There was an error retrieving packet data.","",!1);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["packet",function(e){return"Frontline Central - "+i.packetData._name}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packetInstances","send")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.packetBuilder",new r.State(o,i))}])},{"base-state":56}],145:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentPacketBuilderContentLogic");t.packetVm=n;t.vm={},t.go={}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderContent",function(){return new l("content")})},{"base-segment":55}],146:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderContentLogic",r)},{}],147:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$q","$scope","$timeout","ssAsync","ssEventSvc","rAF","statusLabelHlp",function(e,t,n,r,i,o,a,s){function l(){var e,t=document.querySelectorAll(".form-title-ctrl"),n=angular.element(t[0]).find("input");null!=n.val()&&(e=n.val().length>45?45:n.val().length,n.attr("size",e))}var c=n.routeVm,p=e.get("segmentPacketBuilderHeaderLogic"),u=n.vm={formTitle:c.packetData._name,editTitle:!1,nothingToSave:!0,autoSaved:!1,packetStatusLabel:s.getLabel(c.packetData,c.org).statusLabel};n.validator=p.validator;var d=void 0,m=n.go={editTitle:function(){u.editTitle=!0,u.previousAutoSaved=u.autoSaved,a.raw(function(){l()})},savePacket:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(c.saving||u.nothingToSave)return t.when();var n=d;return c.saving=!0,i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.editTitle=!1,c.packetData._name=u.formTitle,t.next=5,c.packetData.$save(!0,!e);case 5:n===d&&(u.nothingToSave=!0,u.autoSaved=e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),u.nothingToSave=!1;case 11:return t.prev=11,c.saving=!1,t.finish(11);case 15:case"end":return t.stop()}},t,this,[[0,8,11,15]])}))()},confirmTitleEdit:function(){""!==u.formTitle&&(u.editTitle=!1,u.currentValue=u.formTitle,u.nothingToSave=!1)},cancelTitleEdit:function(){u.editTitle=!1,u.formTitle=u.currentValue,u.autoSaved=u.previousAutoSaved}};c.modelChanged=function(){u.nothingToSave=u.autoSaved=!1,d=Date.now()},o.on("ss-json-api.changedRecord.packets",c.modelChanged,n),c.saveFormTemplate=m.savePacket,n.$watch("vm.formTitle",function(e,t){e===t&&(u.currentValue=t),a.raw(function(){l()})})}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderHeader",function(){return new l("header")})},{"base-segment":55}],148:[function(e,t,n){"use strict";function r(e){return{validator:{required:e.required()}}}r.$inject=["ssValidationHlp"],angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderHeaderLogic",r)},{}],149:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssListSvc","ssFormTemplatesApi","ssValidationHlp","ssToastHlp","enumStepAction","formsHlp","rAF",function(e,t,n,r,i,o,a,s,l,c){t.routeVm,e.get("segmentPacketBuilderSettingsSettingsLogic");t.validate={conditionalRequired:function(e,t){return!p.packet._startupEmail.useStartupEmail||o.required()(e,t)}};var p=t.vm={loading:null,packet:t.packetVm.packetData,forms:[],stepAction:s};null==p.packet._startupEmail&&(p.packet._startupEmail={}),n(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getByExternalId("form.categories");case 3:p.categories=e.sent,p.packet._formTemplateIds.length&&(p.loading=!0,t=p.packet._formTemplateIds.toString(),i.formTemplatesByIds(p.packet._formTemplateIds,{include:"steps"}).then(function(e){l.sortByOrderField(e,t),p.forms=e,p.forms.forEach(function(e){e.steps=e._steps.filter(function(e){return e._stepAction!==s.formCompleted}),l.sortByOrderField(e.steps,e._stepOrder),p.loading=!1})}).catch(function(e){p.loading=!1,a.error("There was an error retrieving the packet forms","")})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.error("There was an error processing form data","");case 10:case"end":return e.stop()}},e,this,[[0,7]])}))(),t.$watch("vm.packet._startupEmail.useStartupEmail",function(e,n){e!==n&&(e?c(function(){return document.getElementById("message-textarea").focus()},t):p.packet._startupEmail.message="")})}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderSettingsSettings",function(){return new l("settings")})},{"base-segment":55}],150:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderSettingsSettingsLogic",r)},{}],151:[function(e,t,n){"use strict";var r=e("base-state"),i={},o={url:"/packet-builder/settings",templateUrl:"routes/packet-builder/settings/settings.html",resolve:{$title:["$title",function(e){return e+" (Settings)"}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.packetBuilder.Settings",new r.State(o,i))}])},{"base-state":56}],152:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$rootScope","$window","ssAsync","ssActiveUserSvc","ssEmployeeApi","ssFormTemplatesApi","enumStepParticipantType","enumFormAdministratorType","enumStepAction","ssStorage","moment","ssDateByOrgHlp","formsHlp",function(e,t,n,r,i,o,a,s,l,c,p,u,d,m,f){function g(e){e.forEach(function(e,t){e.showResendMessage=t+1!==w.item._steps.length&&w.item._steps[t+1]._stepAction===p.reviewApproveOrDeny,e._stepParticipant.participantType===l.specificPerson&&e._stepParticipant.employeeIds.length?e.resolvedParticipant=e._stepParticipant.name:e.resolvedParticipant=l.byValue(e._stepParticipant.participantType)})}function y(e){var t=e.type,n=e.recipients;_[t]=n,u.save(v,_)}var b=t.routeVm,h=(e.get("segmentSendContentLogic"),{individual:0,group:1});b.postData={isPacket:"packet"===b.templateType.toLowerCase(),isForm:"formtemplate"===b.templateType.toLowerCase(),recipients:[],bulkRecipients:[],exclusions:[],submissionDueDate:null,asOf:null};var v,_,w=t.vm={loadingFormSender:!0,resolvedFormSender:"loading form sender",useEffectiveDating:!1,asOf:null,recipient:l.recipientChosenWhenSent,hasSubmissionDueDate:"false",isPacket:"Packet"===b.templateType,isForm:"FormTemplate"===b.templateType,item:b.data,datePickerOptions:{minDate:new Date},selectedFilter:"sendDetails",exporting:!1};t.go={export:function(){i(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.exporting=!0,t=b.postData.recipients.map(function(e){return e.id}).concat(b.postData.bulkRecipients.map(function(e){return e.id})).filter(function(e,t,n){return n.indexOf(e)===t}),n={organizationId:b.org.id,include:"statusHistory,employmentHistory,addresses,phoneNumbers,emails,emergencyContacts,positions,assignments,locations,jobtypes,payschedules,supervisors"},w.useEffectiveDating&&null!=w.asOf?n.asOfTimeUtc=m.safeAsOfDateRelativeTo(d(w.asOf).startOf("day"),b.org):n.asOfTimeUtc=m.safeAsOfDateRelativeTo(d().startOf("day"),b.org),e.next=6,a.exportEmployeesById(n,{ids:t});case 6:i=e.sent,r.open(i._string,"_blank",""),w.exporting=!1;case 9:case"end":return e.stop()}},e,this)}))()}};!function(){try{v=b.org.id+"_template_"+b.data.id,_=u.load(v),null==_?_={}:(b.postData.recipients=_[h.individual]||[],b.postData.bulkRecipients=_[h.group]||[]),t.$root.isPermitted.activeUser.idmAdministrator?w.resolvedFormSender="You (IDM Administrator)":i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getIdentityByType("employee");case 2:return t=e.sent,e.next=5,a.get({id:t,fields:"id,firstname,lastname"},null,!1);case 5:n=e.sent,w.resolvedFormSender="You ("+n.fullName+")",w.loadingFormSender=!1;case 8:case"end":return e.stop()}},e,this)}))(),w.isForm?(f.sortByOrderField(w.item._steps,w.item._stepOrder),g(w.item._steps),3===w.item._formAdministrator.formAdministratorType?i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get({id:w.item._formAdministrator.employeeId,fields:"id,firstname,lastname"},null,!1);case 2:t=e.sent,w.formAdministrator=t.fullName;case 4:case"end":return e.stop()}},e,this)}))():w.formAdministrator=c.byValue(w.item._formAdministrator.formAdministratorType)||"None"):w.isPacket&&i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.item._formTemplateIds&&(w.loadingPacket=!0,t=w.item._formTemplateIds.toString(),s.formTemplatesByIds(w.item._formTemplateIds,{include:"steps"}).then(function(e){f.sortByOrderField(e,t),w.item.forms=e,w.item.forms.forEach(function(e){e.steps=e._steps.filter(function(e){return e._stepAction!==p.formCompleted}),f.sortByOrderField(e.steps,e._stepOrder)}),w.loadingPacket=!1}).catch(function(e){w.loadingPacket=!1}));case 1:case"end":return e.stop()}},e,this)}))()}catch(e){}}(),t.$watch("vm.hasSubmissionDueDate",function(e,t){e!==t&&null!=e&&"false"===e&&(b.postData.submissionDueDate="")}),n.$on("$stateChangeStart",function(e){y({type:h.individual,recipients:b.postData.recipients}),y({type:h.group,recipients:b.postData.bulkRecipients})}),r.addEventListener("beforeunload",function(){y({type:h.individual,recipients:b.postData.recipients}),y({type:h.group,recipients:b.postData.bulkRecipients})},{capture:!0}),t.$on("destroy",t.$watch("vm.useEffectiveDating",function(e,t){e!==t&&(e&&w.asOf?(b.postData.asOf=w.asOf,n.$broadcast("parentAsOfDate-Change",{asOf:w.asOf
})):(b.postData.asOf=null,w.asOf="",n.$broadcast("parentAsOfDate-Change",{asOf:w.asOf})))})),t.$on("destroy",t.$watch("vm.asOf",function(e,t){e!==t&&(n.$broadcast("parentAsOfDate-Change",{asOf:e}),b.postData.asOf=e)}))}]},{key:"link",value:function(e,t,n){e.$watch("routeVm.postData.recipients.length",function(n,r){e.$emit("ss-validate-field-event",t.find("input").eq(0),"ss-validate-array-field")})}}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentSendContent",function(){return new l("content")})},{"base-segment":55}],153:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentSendContentLogic",r)},{}],154:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssFormInstancesApi","ssStatusApi","ssActiveUserSvc","ssToastHlp","ssStorage","ssArrayHlp","ssModalSvc","$location","$q","enumFormTemplateStatus","ssDateByOrgHlp","ssOrganizationSvc",function(e,t,n,i,o,a,s,l,c,p,u,d,m,f,g){var y,b,h=t.routeVm,v=e.get("segmentSendHeaderLogic"),_=t.vm={isPacket:"packet"===h.templateType.toLowerCase(),isForm:"formtemplate"===h.templateType.toLowerCase(),isSending:!1,item:h.data,batches:[],batchStyles:{}},w=(_.isPacket,t.go={preview:function(e){u.url("/ec-forms/form-builder/"+e.id+"/preview?returnTo=/ec-forms/send/formTemplate/"+e.id)},send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(_.item._isEmployeeInitiated&&1===_.item._formAdministrator.formAdministratorType)return void s.error("An Employee-Initiated form cannot be started when the sender of the form is also the Form Administrator.","",!1);if(_.item._formAdministrator&&(!_.item._formAdministrator.formAdministratorType||_.item._formAdministrator.formAdministratorType<=0))p.showDestructive({title:"Form Administrator Required",content:"You must select a form administrator before sending this form.",primaryText:"Edit",secondaryText:"Cancel"}).then(function(){n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.update({id:_.item.id},{statusId:m.inactive});case 2:u.url("/ec-forms/form-builder/"+_.item.id+"/settings");case 3:case"end":return e.stop()}},e,this)}))()});else{var g={};_.isSending=!0;var w=[].concat(r(e),r(a)),P=[].concat(r(d));Object.assign(g,v.getDefaultBatchObj()),h.postData.asOf&&Object.assign(g,{asOf:f.safeAsOfDateRelativeTo(moment(h.postData.asOf).startOf("day"),h.org)}),g._dueDateUtc=h.postData.submissionDueDate?f.endOfDayRelativeTo(moment(h.postData.submissionDueDate),h.org):null,g._requestType=_.isPacket?1:0,g._templateId=_.item.id,g._includedEmployeeIds=c.unique(w.map(function(e){return e.id})),g._excludedEmployeeIds=c.unique(P.map(function(e){return e.id})),b=_.isPacket?i.postPacketInstanceBatch:i.postFormInstanceBatch,n(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b({organizationId:h.org.id},g);case 3:n=e.sent,_.batches.unshift(n),h.removeGroup(),l.clear(y),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),s.error("",'There was an error sending "'+t.form._name+'"',!1);case 13:return e.prev=13,_.isSending=!1,h.postData.recipients=[],h.postData.bulkRecipients=[],h.postData.exclusions=[],e.finish(13);case 19:case"end":return e.stop()}},e,this,[[0,9,13,19]])}))()}},removeBatch:function(e){var t=_.batches.indexOf(e);_.batches.splice(t,1)}});n(regeneratorRuntime.mark(function e(){var n,o,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y=h.org.id+"_template_"+h.data.id,e.next=4,i.getAllBatches({organizationId:h.org.id,"filter[templateid]":_.item.id});case 4:if(n=e.sent,n.length){e.next=7;break}return e.abrupt("return");case 7:return o=n.map(function(e){return i.getBatchStatus({id:e.id})}),e.next=10,d.all(o);case 10:a=e.sent,a=a.filter(function(e){return 3!==e._status&&!e._isArchived||3===e._status&&e._numFailed}),l=n.filter(function(e){return a.find(function(t){return t.id===e.id})}),_.batches=[].concat(r(l)),t.$on("$destroy",t.$watch("vm.batches.length",function(e,t){_.batchStyles=v.getBatchListStyles(_.batches)})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),s.error("",'There was an error retrieving current batches for "'+_.item._name+'"');case 20:case"end":return e.stop()}},e,this,[[0,17]])}))(),h.go={send:function(){var e=h.postData.recipients,t=h.postData.bulkRecipients,n=h.postData.exclusions;w.send(e,t,n)}}}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentSendHeader",function(){return new c("header")})},{"base-segment":55}],155:[function(e,t,n){"use strict";function r(e){return{buildInstance:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=Object.assign({},t),o=e.id;if(null!=r&&r.length){if(r.map(function(e){return e.id}).includes(o))return}i.employee={employeeId:o},n.attributes.push(i)},getDefaultBatchObj:function(){return{_requestType:0,_templateId:"",_filters:{},_includedEmployeeIds:[],_excludedEmployeeIds:[]}},getBatchListStyles:function(e){return{height:100*e.length+"px",transition:"height 0.5s","transition-delay":"1s"}}}}r.$inject=["$location"],angular.module("ec-forms-segment-logic").factory("segmentSendHeaderLogic",r)},{}],156:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{isHRMSEnabled:!1},retryLoading:!1},o={url:"/send/{type:[A-Za-z]+}/{id:[0-9A-Za-z-]+}",templateUrl:"routes/send/send.html",resolve:{packetFormName:["$stateParams","ssAsync","ssFormTemplatesApi","ssPacketsApi",function(e,t,n,r){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.templateType=e.type,"Packet"!==i.templateType){t.next=8;break}return t.next=5,r.get({id:e.id});case 5:i.data=t.sent,t.next=11;break;case 8:return t.next=10,n.get({id:e.id,include:"steps,formFields,statusHistory"});case 10:i.data=t.sent;case 11:return t.abrupt("return",i.data._name);case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}},t,this,[[0,14]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}],$title:["$stateParams","packetFormName",function(e,t){return"Frontline Central - Send "+e.type+" "+t}]},$permissions:function(e){return e.isPermittedAction("formTemplates","send")||e.isPermittedAction("packets","send")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.send",new r.State(o,i))}])},{"base-state":56}]},{},[1]);
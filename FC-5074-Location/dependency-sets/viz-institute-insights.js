(function(){"use strict";function e(e,t,r,a,s,n,o){return{createBottomChartContainer:function(l,d,c){function m(e){return e.reduce(function(e,t){var r=i.apply(Math,p(t.data));return r>e?r:e},0)}function h(e){var t=e.filter(function(e){return null!=e});return t.length?r.average(t):0}function g(){var e=a.toGenericHighchartSeries(l,C,T);return I.map(function(t){var r=n.deepCopy(t);return r.type=w,r.mergedData=0,e.forEach(function(e){if(e.data&&e.name===t.name&&e.stack===t.stack)return void(r.mergedData=e.data[0])}),r})}function u(e){return e.slice().map(function(e){return null===e?0:e})}var v=c.metricIsPercent,f=c.benchmarkTitles,y=c.yTitle,b=c.sortBySize,k=c.noDatesSeriesOverride,C=c.apiMergedDataOverride,w=c.highchartType,T={currentIsoDate:o().toISOString()};w||(w="column");var I=k?a.getSparkChartSeriesWithCustomXAxisCategories(k,l,d,T):a.toGenericHighchartSeries(l,d,T);var M={categories:k?k.xAxisCategories:a.getXCategoriesFromResponse(d)},S=void 0;return S=null==C?I.map(function(e){var t=n.deepCopy(e);return t.type=w,t.mergedData=v?t.data?h(t.data):0:t.data?r.sum(u(t.data)):0,t}):g(),function(r,i){var n=t.groupBy(r,"name"),o=a.getOrderedLegendNames(l),d=o.map(function(r){var a=n[r];if(!a)return void e.error("One of the requested legend items had no corresponding data in the input: "+r);var i=t.findWhere(a,{stack:f[0]}),o=t.findWhere(a,{stack:f[1]}),l={height:210,legendIsVisible:!1,noLowerMargin:!0,yTitle:y,isPercentage:v};v?l.tickPositioner=s.tickPositioners.percentageBy(20):l.maxY=m(I);var d=s.getBasicHighchartStructure(w,l),c=Object.assign({},d,{series:a});return c.xAxis=M,{primary:i,comparison:o,highchartConfig:c}}).filter(function(e){return!!e});return i&&d.sort(function(t,r){return t&&t.primary&&null!=t.primary.mergedData&&r&&r.primary&&null!=r.primary.mergedData||e.error("couldn't sort because mergedData was missing"),r.primary.mergedData-t.primary.mergedData}),d}(S,b)}}}function t(e,t,r,a,s,n,o){return{createTopAndBottomChartContainers:function(l,d,c){function m(e){return e.reduce(function(e,t){var r=i.apply(Math,p(t.data));return r>e?r:e},0)}function h(e){var t=e.filter(function(e){return null!=e});return t.length?r.average(t):0}function g(e){return e.slice().map(function(e){return null===e?0:e})}var u=c.metricIsPercent,v=c.benchmarkTitles,f=c.overflowName,y=c.yTitle,b=c.fillAreaUnderFirstLineTrend,k={currentIsoDate:o().toISOString(),fillAreaUnderFirstLineTrend:b},C=a.toGenericHighchartSeries(l,d,k),w={categories:a.getXCategoriesFromResponse(d)},T=C.map(function(e){var t=n.deepCopy(e);return"area"!==t.type&&(t.type="line"),t.mergedData=u?t.data?h(t.data):0:t.data?r.sum(g(t.data)):0,t}),I=function(r){var i=t.groupBy(r,"name"),n=a.getOrderedLegendNames(l),o=n.map(function(r){var a=i[r];if(!a)return void e.error("One of the requested legend items had no corresponding data in the input: "+r);var n=t.findWhere(a,{stack:v[0]}),o=t.findWhere(a,{stack:v[1]}),l={height:210,legendIsVisible:!1,noLowerMargin:!0,yTitle:y};u?l.tickPositioner=s.tickPositioners.percentageBy(20):l.maxY=m(C);var d=s.getBasicHighchartStructure("line",l),c=Object.assign({},d,{series:a});return c.xAxis=w,{primary:n,comparison:o,highchartConfig:c}}).filter(function(e){return!!e});return o}(T),M=function(t){if(5>=t.length)return t;t.sort(function(t,r){return t&&t.primary&&null!=t.primary.mergedData&&r&&r.primary&&null!=r.primary.mergedData||e.error("couldn't sort because mergedData was missing"),r.primary.mergedData-t.primary.mergedData});var r=n.deepCopy(t),a=r.splice(4,9999).reduce(function(t,r,a){return t&&t.primary&&null!=t.primary.data&&null!=t.primary.mergedData?(1>=a&&(t.primary.name=f||"All Others"),t.primary.listOfNames||(t.primary.listOfNames=[]),t.primary.listOfNames.push(r.primary.name),t.primary.mergedData+=r.primary.mergedData,t.comparison&&(t.comparison.mergedData+=r.comparison.mergedData),1>=a&&(t.primary.data=r.primary.data),t):(e.error("couldn't flatten the overflow charts because mergedData was missing"),t)});return r.push(a),r}(I);return{topChartContainers:M,bottomChartContainers:I}}}}function r(e,t,r,a,s,n,o){return{createTopAndBottomChartContainers:function(r,l,d,c){function m(e){return e.reduce(function(e,t){var r=i.apply(Math,p(t.data));return r>e?r:e},0)}var h=c.metricIsPercent,g=c.benchmarkTitles,u=c.overflowName,v=c.yTitle,f=c.fillAreaUnderFirstLineTrend,y={currentIsoDate:o().toISOString(),fillAreaUnderFirstLineTrend:f},b=a.toGenericHighchartSeries(r,l,y),k=a.detailToLegendRemap(d,r),C={categories:a.getXCategoriesFromResponse(l)},w=b.map(function(e){var t=n.deepCopy(e);"area"!==t.type&&(t.type="line");var r=e.stack===l[0]._parameters.name?0:1;return t.mergedData=k[r]._groups[0].legendKeyValues[e.name]?k[r]._groups[0].legendKeyValues[e.name]:0,t}),T=function(i){var n=t.groupBy(i,"name"),o=a.getOrderedLegendNames(r),l=o.map(function(r){var a=n[r];if(!a)return void e.error("One of the requested legend items had no corresponding data in the input: "+r);var i=t.findWhere(a,{stack:g[0]}),o=t.findWhere(a,{stack:g[1]}),l={height:210,legendIsVisible:!1,noLowerMargin:!0,yTitle:v};h?l.tickPositioner=s.tickPositioners.percentageBy(20):l.maxY=m(b);var d=s.getBasicHighchartStructure("line",l),c=Object.assign({},d,{series:a});return c.xAxis=C,{primary:i,comparison:o,highchartConfig:c}}).filter(function(e){return!!e});return l}(w),I=function(t){if(5>=t.length)return t;t.sort(function(t,r){return t&&t.primary&&null!=t.primary.mergedData&&r&&r.primary&&null!=r.primary.mergedData||e.error("couldn't sort because mergedData was missing"),r.primary.mergedData-t.primary.mergedData});var r=n.deepCopy(t),a=r.splice(4,9999).reduce(function(t,r,a){return t&&t.primary&&null!=t.primary.data&&null!=t.primary.mergedData?(1>=a&&(t.primary.name=u||"All Others"),t.primary.listOfNames||(t.primary.listOfNames=[]),t.primary.listOfNames.push(r.primary.name),t.primary.mergedData+=r.primary.mergedData,t.comparison&&(t.comparison.mergedData+=r.comparison.mergedData),1>=a&&(t.primary.data=r.primary.data),t):(e.error("couldn't flatten the overflow charts because mergedData was missing"),t)});return r.push(a),r}(T);return{topChartContainers:I,bottomChartContainers:T}}}}function a(e,t,r,a,i,n){function o(t,i){function n(t){var a=r.deepCopy(t);return Object.keys(a).forEach(function(t){a[t]&&"object"===s(a[t])&&!Array.isArray(a[t])&&(Object.keys(a[t]).forEach(function(r){return a.hasOwnProperty(r)?e.error("API/Pact test error. The consumer contract testing should not allow for complex objects in the detail obj that have properties that also exist directly on detail."):void(a[r]=a[t][r])}),delete a[t])}),a}function o(e,t){var i=r.deepCopy(e);if(!t)return i;var s=t.reduce(function(e,t){if(!t.to||!t.from||!t.from.forEach)throw new Error("Malformed input: legendMapping either did not have the 'from' array or the 'to' string");var r=t.mathMethod?t.mathMethod:a.average;return t.from.forEach(function(a){i.hasOwnProperty(a)&&(e[t.to]=void 0===e[t.to]?i[a]:r([e[t.to]||0,i[a]||0]))}),e},{});return s}p(t);var l=r.deepCopy(t);return l.map(function(e){return e._groups&&(e._groups=e._groups.map(function(e){if(!e.dataIsAvailable)return e;if(!e.detail)throw new Error("dataIsAvailable was true, however detail was falsy. This likely means that the apiResult was malformed");var t=n(e.detail);return e.legendKeyValues=o(t,i),e})),e})}function l(r,a,i){var s=[];if(!t.getOptions)return e.error("ssDashboardColorsHlp must have changed. It's supposed to have a getOptions method.");p(a);var l=t.getOptions(),d=a.filter(function(e){return!0===e._insightResultCountExceedsMinimum}),m=o(d,r),v=c(r);return m.forEach(function(t,r){if(!t._parameters.name)return e.error("Without requesting name with institute request, then we can't map the benchmark name.");var a=!1===t._insightResultCountExceedsMinimum,o=f(t);if(!a&&o){var d=t._parameters.name,c=void 0;if(i&&i.pivotByDate){var p=g(t._groups,v,i.currentIsoDate);c=u(d,Object.keys(p),p,l,r,i)}else{var m=h(t._groups,v,i?i.currentIsoDate:null);c=u(d,v,m,l,r,i)}i&&i.fillAreaUnderFirstLineTrend&&0===r&&c.forEach(function(e){e.fillOpacity=.1,e.type=n.area}),s=s.concat(c)}}),s}function d(){return 10}function c(e){return e.map(function(e){if(!e.to)throw new Error("Malformed input: legendMapping either did not have the 'to' string");return e.to})}function p(e){if(!m(e))throw new Error("anInstituteResponse did not pass duck typing. Review the input against the isAnInstituteResponse duck type method.")}function m(e){if(!e||!e.length)return!1;var t=e[0];return!((null==t._groups||null==t._insightResultCountExceedsMinimum||null==t._parameters)&&(!1!==t._insightResultCountExceedsMinimum||null!=t._groups))}function h(e,t,r){var a=d(),s=i(r).date()>=a?1:2,n=i(r).subtract(s,"months");return e.reduce(function(e,r){var a=!i(r.effectiveStartDate).isAfter(n);return t.forEach(function(t){e[t]||(e[t]=[]),a?r.dataIsAvailable&&r.legendKeyValues&&null!=r.legendKeyValues[t]?e[t].push(r.legendKeyValues[t]):e[t].push(0):e[t].push(null)}),e},{})}function g(e,t,r){var a=d(),s=i(r).date()>=a?1:2,n=i(r).subtract(s,"months");return e.reduce(function(e,r){var a=i(r.effectiveStartDate).format("MMMM YYYY"),s=!i(r.effectiveStartDate).isAfter(n);return t.forEach(function(t){e[a]||(e[a]=[]),s?r.dataIsAvailable&&r.legendKeyValues&&null!=r.legendKeyValues[t]?e[a].push(r.legendKeyValues[t]):e[a].push(0):e[a].push(null)}),e},{})}function u(e,r,a,i,s,n){function o(e,t){return t?2===e?"lighter":1===e?"darker":"normal":2===e?"darker":1===e?"lighter":"normal"}function l(e,t){if(t&&1==e%2)return!0}var d=n||{},c=d.groupColorsByBenchmark,p=d.groupLightnessByBenchmark,m=d.usePatternForAlternatingSeries,h=d.reverseLightness,g=d.numColorsToAdvance,u=g===void 0?0:g,v=d.alwaysShowFullLegend,f=i;return r.map(function(r,i){var n=c!==void 0&&c?i:s,d=!(p!==void 0)||p?s:i;n+=u;var g=o(d,h!==void 0&&h),y=l(d,m!==void 0&&m);return y&&(f=t.getPatternedOptions(),g="normal"),{name:r,data:a[r],stack:e,color:f[n][g],showInLegend:!!(v!==void 0&&v||0===s)}})}function v(e){p(e);var t=e.filter(function(e){return!0===e._insightResultCountExceedsMinimum});if(1>t.length)return"Please widen the filter criteria above."}function f(e){return e._groups&&e._groups.some(function(e){return!0===e.dataIsAvailable})}function y(e){p(e);var t=e.length,r=e.filter(function(e){return!f(e)})||[];if(1===t){if(r.length){if(1===r.length){if(!r[0]._parameters.name)throw new Error("Since benchmarkSideThatIsMissing[0]._parameters.name was falsy, we can conclude that the Pact tests did not enforce that the backend must be supplying a name parameter");return"We apologize, but there is no data for "+r[0]._parameters.name+" at this time."}return"We apologize, but there is no data for one of the benchmarks at this time."}}else if(1<r.length)return"We apologize, but there is no data for either filter at this time. Please select a wider filter."}return{toGenericHighchartSeries:l,getXCategoriesFromResponse:function(e){p(e);var t=e.filter(function(e){return f(e)});if(t&&t.length){var r=t[0];return r._groups.reduce(function(e,t){return e.push(i(t.effectiveStartDate).format("MMM YYYY")),e},[])}},isAnInstituteResponse:m,detailToLegendRemap:o,getDateOffset:d,getOrderedLegendNames:c,warningGuardConditions:function(e){return v(e)||y(e)},hasSomeData:f,createStackToCharacterMapping:function(e){return p(e),e.reduce(function(e,t,r){return e[t._parameters.name]=0===r?"A":"B",e},{})},getSeriesWithCustomXAxisCategories:function(t,r,a,i){if(!t||!t.xAxisCategories||!t.detailItemName)return e.error("Missing information for overrideConfigWithCustomXAxisCategories"),[];var s=t.xAxisCategories,n=t.detailItemName,o=l(r,a,i),d=a.filter(function(e){return f(e)}),c=1;return o.forEach(function(e,r){if(t.isPercentage){var a=s.reduce(function(e,t){return e+d[r]._groups[0].detail[n][t]},0);c=100/a}e.data=s.reduce(function(e,t){return e.push(d[r]._groups[0].detail[n][t]*c),e},[])}),o},getSparkChartSeriesWithCustomXAxisCategories:function(r,a,i,s){if(!r||!r.xAxisCategories||!r.detailItemName)return e.error("Missing information for overrideConfigWithCustomXAxisCategories"),[];var l=r.xAxisCategories,d=r.detailItemNameSeries,c=r.detailSeriesKeyName,m=r.detailValueKeyName,h=r.detailXAxisKeyName,g=r.calculatePercentageFromTotals;if(!t.getOptions)return e.error("ssDashboardColorsHlp must have changed. It's supposed to have a getOptions method.");p(i);var v=t.getOptions(),y=i.filter(function(e){return!0===e._insightResultCountExceedsMinimum}),b=a.reduce(function(e,t){return t.from.forEach(function(r){e[r]=t.to}),e},{}),k=[],C=o(y,a);return C.forEach(function(t,r){if(!t._parameters.name)return e.error("Without requesting name with institute request, then we can't map the benchmark name.");var a=!1===t._insightResultCountExceedsMinimum,i=f(t);if(!a&&i){var o=t._parameters.name,p=void 0,y={},C=Object.values(b).reduce(function(e,t){return e[t]=Array(l.length),e[t].fill(0),e},{});g&&(Object.keys(b).forEach(function(e){y[e]=0}),t._groups[0].detail[d].forEach(function(e){y[e[c]]+=e[m]})),t._groups[0].detail[d].forEach(function(e){var t=l.indexOf(e[h]);0<=t&&(g?C[b[e[c]]][t]=100*(e[m]/y[e[c]]):C[b[e[c]]][t]=e[m])}),p=u(o,Object.values(b),C,v,r,s),s&&s.fillAreaUnderFirstLineTrend&&0===r&&p.forEach(function(e){e.fillOpacity=.1,e.type=n.area}),k=k.concat(p)}}),k}}}var i=Math.max;(function(t){try{t=angular.module("super-templates")}catch(e){t=angular.module("super-templates",[])}t.run(["$templateCache",function(e){e.put("components/super-faded-trends-list/faded-trends-list.html","<div class=\"super-faded-trends-list\"><div class=\"faded-trends\" ng-attr-id=\"{{ vm.uniqueId }}\"><div class=\"trend-list\"><div class=\"gd-row overview\"><header class=\"title gd-25p\"><h2 ng-bind=\"title\"></h2><h3>{{benchmarkTitles[0]}} <span ng-if=\"benchmarkTitles[1]\">vs. {{benchmarkTitles[1]}}</span></h3></header><div class=\"gd-65p\"><p class=\"description\">{{description}} <a ng-if=\"helpLink != null\" href=\"{{helpLink}}\" ss-icon-after=\"angle-right\" target=\"_blank\">Learn&nbsp;More</a></p><p class=\"insight\"><strong>Insight:</strong> {{insight}}</p></div></div><ul><li ng-repeat=\"chart in vm.charts | limitTo:vm.chartsToShow\"><div class=\"gd-row\"><div class=\"gd-20p\"><super-sparkline-status-card context-text=\"{{chart.secondWord}}\" main-metric=\"chart.firstWord\" metric-is-percent=\"false\" comparison-metric=\"false\" comparison-name=\"\"></super-sparkline-status-card></div><div class=\"gd-80p\"><super-viz-highcharts-wrap config=\"chart.highchartConfig\"></super-viz-highcharts-wrap></div></div></li></ul><div class=\"bottom-fade-out\" ng-show=\"vm.chartsToShow <= vm.numChartsWeInitiallyShowed && vm.charts.length > vm.numChartsWeInitiallyShowed\"></div></div><super-button smp ng-click=\"go.closeOrOpen()\" ng-show=\"vm.charts.length > vm.numChartsWeInitiallyShowed\" ss-icon-after=\"{{vm.chartsToShow <= vm.numChartsWeInitiallyShowed ? 'plus': 'minus'}}\" label=\"{{vm.chartsToShow <= vm.numChartsWeInitiallyShowed ? 'Show ' + trendLabel : 'Hide ' + trendLabel}}\"></super-button></div></div>"),e.put("components/super-sparkline-status-card/sparkline-status-card.html","<div class=\"super-sparkline-status-card\"><div class=\"gd-row\"><div class=\"gd-50p\"><h3>{{vm.mainMetric || 0}}<span ng-if=\"metricIsPercent\">%</span></h3></div><div class=\"gd-50p\"><super-viz-sparkline ng-if=\"vm.sparklineArray && !vm.hideSparklineCharts\" input-data=\"sparklineArray\"></super-viz-sparkline></div></div><div class=\"summary-data\"><h3 class=\"chart-context\" ng-bind=\"contextText\"></h3><p class=\"delta-row\" ng-if=\"comparisonName\"><span class=\"comparison-delta\">{{vm.deltaAverage > 0 ? '+' : ''}}{{vm.deltaAverage}}<span ng-if=\"metricIsPercent\">%</span></span> <span class=\"compare\">compared to {{comparisonName}}</span></p></div></div>"),e.put("components/super-view-more-charts/view-more-charts.html","<div class=\"super-view-more-charts\"><div class=\"top-charts-container\"><div class=\"gd-row overview\"><header class=\"title gd-25p\"><h2 ng-bind=\"title\"></h2><h3 ng-bind=\"subtitle\"></h3><h3>{{benchmarkTitles[0]}} <span ng-if=\"benchmarkTitles[1]\">vs. {{benchmarkTitles[1]}}</span></h3></header><div class=\"gd-65p\"><p class=\"description\">{{description}} <a ng-if=\"helpLink != null\" href=\"{{helpLink}}\" ss-icon-after=\"angle-right\" target=\"_blank\">Learn&nbsp;More</a></p><p class=\"insight\" ng-if=\"insight != null\"><strong>Insight:</strong> {{insight}}</p></div></div><ul class=\"gd-row\"><li><div class=\"warning-chart-container\" ng-if=\"vm.warningMessage\"><span ng-bind=\"vm.warningMessage\"></span></div><div class=\"chart-container\" ng-if=\"!vm.warningMessage\"><super-viz-highcharts-wrap config=\"topChartConfig\"></super-viz-highcharts-wrap></div></li></ul></div><div class=\"charts\"><super-button smp ss-icon-after=\"{{vm.chartsVisible === false ? 'plus': 'minus'}}\" ng-if=\"vm.bottomChartContainers.length > 0\" ng-click=\"vm.chartsVisible = !vm.chartsVisible\" label=\"{{vm.chartsVisible ? 'Hide ' + chartLabel : 'Show ' + chartLabel}}\" ng-init=\"vm.chartsVisible = false\"></super-button><div class=\"chart-list\" ng-if=\"vm.chartsVisible\"><ul><li ng-repeat=\"chart in vm.bottomChartContainers\"><div class=\"gd-row\"><div class=\"gd-20p\"><super-sparkline-status-card context-text=\"{{chart.primary.name}}\" ng-if=\"!hideMainMetricsInViewMore\" main-metric=\"chart.primary.mergedData\" metric-is-percent=\"metricIsPercent\" comparison-metric=\"chart.comparison.mergedData\" comparison-name=\"{{benchmarkTitles[1]}}\"></super-sparkline-status-card><div ng-if=\"hideMainMetricsInViewMore\" class=\"summary-data-no-sparkline\"><h3 ng-bind=\"chart.primary.name\"></h3></div></div><div class=\"gd-80p\"><super-viz-highcharts-wrap config=\"chart.highchartConfig\"></super-viz-highcharts-wrap></div></div></li></ul></div></div></div>"),e.put("components/super-view-more-trends/view-more-trends.html","<div class=\"super-view-more-trends\"><div class=\"cmp-spark-chart-list\"><div class=\"top-charts-container\"><div class=\"gd-row overview\"><header class=\"title gd-25p\"><h2 ng-bind=\"title\"></h2><h3 ng-bind=\"subtitle\"></h3><h3>{{benchmarkTitles[0]}} <span ng-if=\"benchmarkTitles[1]\">vs. {{benchmarkTitles[1]}}</span></h3></header><div class=\"gd-65p\"><p class=\"description\">{{description}} <a ng-if=\"helpLink != null\" href=\"{{helpLink}}\" ss-icon-after=\"angle-right\" target=\"_blank\">Learn&nbsp;More</a></p><p class=\"insight\" ng-if=\"insight != null\"><strong>Insight:</strong> {{insight}}</p></div></div><ul class=\"gd-row\"><li class=\"gd-20p spark-card\" ng-repeat=\"chart in vm.topChartContainers\"><super-sparkline-status-card context-text=\"{{chart.primary.name}}\" main-metric=\"chart.primary.mergedData\" metric-is-percent=\"metricIsPercent\" sparkline-array=\"chart.primary.data\" comparison-metric=\"chart.comparison.mergedData\" comparison-name=\"{{benchmarkTitles[1]}}\" hide-sparkline-charts=\"hideSparklineCharts\"></super-sparkline-status-card></li></ul></div></div><div class=\"trends\"><super-button smp ss-icon-after=\"{{vm.trendsVisible === false ? 'plus': 'minus'}}\" ng-if=\"vm.bottomChartContainers.length > 0\" ng-click=\"vm.trendsVisible = !vm.trendsVisible\" label=\"{{vm.trendsVisible ? 'Hide ' + trendLabel : 'Show ' + trendLabel}}\" ng-init=\"vm.trendsVisible = false\"></super-button><div class=\"trend-list\" ng-if=\"vm.trendsVisible\"><ul><li ng-repeat=\"chart in vm.bottomChartContainers\"><div class=\"gd-row\"><div class=\"gd-20p\"><super-sparkline-status-card context-text=\"{{chart.primary.name}}\" main-metric=\"chart.primary.mergedData\" metric-is-percent=\"metricIsPercent\" comparison-metric=\"chart.comparison.mergedData\" comparison-name=\"{{benchmarkTitles[1]}}\"></super-sparkline-status-card></div><div class=\"gd-80p\"><super-viz-highcharts-wrap config=\"chart.highchartConfig\"></super-viz-highcharts-wrap></div></div></li></ul></div></div></div>"),e.put("components/super-view-more-trends-mashup/view-more-trends-mashup.html","<!-- Frontline Education 2018 --><div class=\"super-view-more-trends-mashup\"><div class=\"cmp-spark-chart-list\"><div class=\"top-charts-container\"><div class=\"gd-row overview\"><header class=\"title gd-25p\"><h2 ng-bind=\"title\"></h2><h3 ng-bind=\"subtitle\"></h3><h3>{{benchmarkTitles[0]}} <span ng-if=\"benchmarkTitles[1]\">vs. {{benchmarkTitles[1]}}</span></h3></header><div class=\"gd-65p\"><p class=\"description\">{{description}} <a ng-if=\"helpLink != null\" href=\"{{helpLink}}\" ss-icon-after=\"angle-right\" target=\"_blank\">Learn&nbsp;More</a></p><p class=\"insight\" ng-if=\"insight != null\"><strong>Insight:</strong> {{insight}}</p></div></div><ul class=\"gd-row\"><li class=\"gd-20p spark-card\" ng-repeat=\"chart in vm.topChartContainers\"><super-sparkline-status-card context-text=\"{{chart.primary.name}}\" main-metric=\"chart.primary.mergedData\" metric-is-percent=\"metricIsPercent\" sparkline-array=\"chart.primary.data\" comparison-metric=\"chart.comparison.mergedData\" comparison-name=\"{{benchmarkTitles[1]}}\" hide-sparkline-charts=\"hideSparklineCharts\"></super-sparkline-status-card></li></ul></div></div><div class=\"trends\"><super-button smp ss-icon-after=\"{{vm.trendsVisible === false ? 'plus': 'minus'}}\" ng-if=\"vm.bottomChartContainers.length > 0\" ng-click=\"vm.trendsVisible = !vm.trendsVisible\" label=\"{{vm.trendsVisible ? 'Hide ' + trendLabel : 'Show ' + trendLabel}}\" ng-init=\"vm.trendsVisible = false\"></super-button><div class=\"trend-list\" ng-if=\"vm.trendsVisible\"><ul><li ng-repeat=\"chart in vm.bottomChartContainers\"><div class=\"gd-row\"><div class=\"gd-20p\"><super-sparkline-status-card context-text=\"{{chart.primary.name}}\" main-metric=\"chart.primary.mergedData\" metric-is-percent=\"metricIsPercent\" comparison-metric=\"chart.comparison.mergedData\" comparison-name=\"{{benchmarkTitles[1]}}\"></super-sparkline-status-card></div><div class=\"gd-80p\"><super-viz-highcharts-wrap config=\"chart.highchartConfig\"></super-viz-highcharts-wrap></div></div></li></ul></div></div></div>")}])})();var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r,a=0;a<t.length;a++)r=t[a],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e},c=function(){function e(e,t){var r=[],a=!0,i=!1,s=void 0;try{for(var n,o=e[Symbol.iterator]();!(a=(n=o.next()).done)&&(r.push(n.value),!(t&&r.length===t));a=!0);}catch(e){i=!0,s=e}finally{try{!a&&o["return"]&&o["return"]()}finally{if(i)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},m=function e(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};n(this,e),this.restrict="E",this.replace=!0,this.scope=t,this.templateUrl="components/super-"+r+"/"+r+".html",Object.assign(this,a)},h={title:"@",trendLabel:"@",legendMapping:"=",apiResults:"=",benchmarkTitles:"=",metricIsPercent:"=",overflowName:"=",initialPreviewNum:"=",xCategories:"=",yTitle:"@",helpLink:"=",overrideMaxY:"=",enumHighchartsType:"@",fillAreaUnderFirstLineTrend:"=",description:"@",insight:"@"},g={};angular.module("super-suit-components").directive("superFadedTrendsList",function(){var e=function(e){function t(){return n(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),o(t,[{key:"controller",value:["$scope","ssInstituteInsightsHlp","ssHighchartsFactoryHlp","$anchorScroll",function(e,t,r,a){function s(){l.chartsToShow=l.numChartsWeInitiallyShowed}function n(e){return e.reduce(function(e,t){var r=i.apply(Math,p(t.data));return r>e?r:e},0)}function o(e,t){return e.reduce(function(e,r){var a=r.data;t&&(a=a.filter(function(e){return 0!==e}));var i=Math.min.apply(Math,p(a));return i<e?i:e},1/0)}var l=e.vm={numChartsWeInitiallyShowed:e.initialPreviewNum||2,uniqueId:"scroll-on-close"+Math.random().toString(36).slice(2)},d=e.go={closeOrOpen:function(){l.chartsToShow<=l.numChartsWeInitiallyShowed?l.chartsToShow=9999:(l.chartsToShow=l.numChartsWeInitiallyShowed,a(l.uniqueId))}};s(),e.$watch("benchmarkTitles",function(t){e.benchmarkTitles=t}),e.$watchGroup(["apiResults","legendMapping"],function(a){var i=c(a,2),d=i[0],p=i[1];if(d&&p&&e.benchmarkTitles){s();var m={pivotByDate:!0,currentIsoDate:moment().toISOString(),fillAreaUnderFirstLineTrend:e.fillAreaUnderFirstLineTrend,groupLightnessByBenchmark:!0},h=t.toGenericHighchartSeries(p,d,m),g=h.filter(function(e){return e.data&&e.data.every(function(e){return null!=e})}),u=e.enumHighchartsType||"line",v={height:210,legendIsVisible:!1,noLowerMargin:!0,yTitle:e.yTitle,stackMapping:t.createStackToCharacterMapping(d),isPercentage:e.metricIsPercent},f=[];if(Object.keys(v.stackMapping).forEach(function(e){var t=g.filter(function(t){return t.stack===e});f=f.concat(t.reverse())}),e.metricIsPercent){var y=o(f,!0),b=e.overrideMaxY||100;v.tickPositioner=r.tickPositioners.createsAPositionerFunction(10,y,b)}else v.maxY=n(f);l.charts=f.reduce(function(e,a){var i=a.name.split(" "),s=i[0],n=i[1],o=e.findIndex(function(e){return e.firstWord===s&&e.secondWord===n});if(0>o){var l=r.getBasicHighchartStructure(u,v);l.series=[a],l.xAxis={categories:t.getOrderedLegendNames(p)};e.push({firstWord:s,secondWord:n,highchartConfig:l})}else e[o].highchartConfig.series.push(a);return e},[])}})}]}]),t}(m);return new e(h,"faded-trends-list",g)});var u={contextText:"@",mainMetric:"=",metricIsPercent:"=",sparklineArray:"=",comparisonMetric:"=",comparisonName:"@",hideSparklineCharts:"="},v={};angular.module("super-suit-components").directive("superSparklineStatusCard",function(){var e=function(e){function t(){return n(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),o(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={deltaAverage:0,sparklineArray:e.sparklineArray,hideSparklineCharts:e.hideSparklineCharts},r=e.go={};e.$watchGroup(["mainMetric","comparisonMetric"],function(e){var r=Math.round,a=c(e,2),i=a[0],s=a[1];null!=i&&null!=s&&(t.deltaAverage=r(i-s)),i&&(Number.isFinite(i)?t.mainMetric=r(i):t.mainMetric=i)})}]}]),t}(m);return new e(u,"sparkline-status-card",v)}),e.$inject=["$log","ssArrayHlp","ssMathHlp","ssInstituteInsightsHlp","ssHighchartsFactoryHlp","ssObjectHlp","moment"],angular.module("super-suit-helpers").factory("ssViewMoreChartsHlp",e);var f={title:"@",subtitle:"@",yTitle:"@",chartLabel:"@",helpLink:"=",legendMapping:"=",topChartConfig:"=",apiMainResults:"=",apiMoreResults:"=",apiMergedDataOverride:"=",benchmarkTitles:"=",metricIsPercent:"=",overflowName:"=",description:"@",insight:"@",sortBySize:"=",noDatesSeriesOverride:"=",hideMainMetricsInViewMore:"=",highchartType:"="},y={};angular.module("super-suit-components").directive("superViewMoreCharts",function(){var e=function(e){function t(){return n(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),o(t,[{key:"controller",value:["$scope","ssViewMoreChartsHlp","$injector",function(e,t){var r=e.vm={};e.$watch("benchmarkTitles",function(t){e.benchmarkTitles=t}),e.$watch("topChartConfig",function(t){e.topChartConfig=t}),e.$watchGroup(["apiMainResults","apiMoreResults","legendMapping","apiMergedDataOverride"],function(a){var i=c(a,4),s=i[0],n=i[1],o=i[2],l=i[3];if(s&&n&&o&&e.benchmarkTitles){var d={metricIsPercent:e.metricIsPercent,benchmarkTitles:e.benchmarkTitles,yTitle:e.yTitle,sortBySize:e.sortBySize,noDatesSeriesOverride:e.noDatesSeriesOverride,legendMapping:r.legendMapping,highchartType:e.highchartType,apiMergedDataOverride:l},p=t.createBottomChartContainer(o,n,d);r.bottomChartContainers=p}});e.go={}}]}]),t}(m);return new e(f,"view-more-charts",y)}),t.$inject=["$log","ssArrayHlp","ssMathHlp","ssInstituteInsightsHlp","ssHighchartsFactoryHlp","ssObjectHlp","moment"],angular.module("super-suit-helpers").factory("ssViewMoreTrendsHlp",t);var b={title:"@",subtitle:"@",yTitle:"@",trendLabel:"@",helpLink:"=",legendMapping:"=",apiResults:"=",benchmarkTitles:"=",metricIsPercent:"=",overflowName:"=",fillAreaUnderFirstLineTrend:"=",description:"@",insight:"@",hideSparklineCharts:"="},k={};angular.module("super-suit-components").directive("superViewMoreTrends",function(){var e=function(e){function t(){return n(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),o(t,[{key:"controller",value:["$scope","ssViewMoreTrendsHlp",function(e,t){var r=e.vm={};e.$watch("benchmarkTitles",function(t){e.benchmarkTitles=t}),e.$watchGroup(["apiResults","legendMapping"],function(a){var i=c(a,2),s=i[0],n=i[1];if(s&&n&&e.benchmarkTitles){var o={metricIsPercent:e.metricIsPercent,benchmarkTitles:e.benchmarkTitles,overflowName:e.overflowName,yTitle:e.yTitle,fillAreaUnderFirstLineTrend:e.fillAreaUnderFirstLineTrend},l=t.createTopAndBottomChartContainers(n,s,o),d=l.topChartContainers,p=l.bottomChartContainers;r.topChartContainers=d,r.bottomChartContainers=p}});e.go={}}]}]),t}(m);return new e(b,"view-more-trends",k)}),r.$inject=["$log","ssArrayHlp","ssMathHlp","ssInstituteInsightsHlp","ssHighchartsFactoryHlp","ssObjectHlp","moment"],angular.module("super-suit-helpers").factory("ssViewMoreTrendsMashupHlp",r);var C={title:"@",subtitle:"@",yTitle:"@",trendLabel:"@",helpLink:"=",legendMapping:"=",chartApiResults:"=",featuredApiResults:"=",benchmarkTitles:"=",metricIsPercent:"=",overflowName:"=",fillAreaUnderFirstLineTrend:"=",description:"@",insight:"@",hideSparklineCharts:"="},w={};angular.module("super-suit-components").directive("superViewMoreTrendsMashup",function(){var e=function(e){function t(){return n(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),o(t,[{key:"controller",value:["$scope","ssViewMoreTrendsMashupHlp",function(e,t){var r=e.vm={};e.$watch("benchmarkTitles",function(t){e.benchmarkTitles=t}),e.$watchGroup(["chartApiResults","featuredApiResults","legendMapping"],function(a){var i=c(a,3),s=i[0],n=i[1],o=i[2];if(s&&n&&o&&e.benchmarkTitles){var l={metricIsPercent:e.metricIsPercent,benchmarkTitles:e.benchmarkTitles,overflowName:e.overflowName,yTitle:e.yTitle,fillAreaUnderFirstLineTrend:e.fillAreaUnderFirstLineTrend},d=t.createTopAndBottomChartContainers(o,s,n,l),p=d.topChartContainers,m=d.bottomChartContainers;r.topChartContainers=p,r.bottomChartContainers=m}});e.go={}}]}]),t}(m);return new e(C,"view-more-trends",w)}),a.$inject=["$log","ssDashboardColorsHlp","ssObjectHlp","ssMathHlp","moment","enumHighchartsTypes"],angular.module("super-suit-helpers").factory("ssInstituteInsightsHlp",a)})();

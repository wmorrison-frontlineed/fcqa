(function(){"use strict";function e(e,t,s,a,i,n,r){function l(a){function i(s,a){var i=[].concat(d(s._emails)),r=t.findWhere(i,{_emailType:e.usageType.byName(a)});return null==r&&(r=angular.extend({},n),r._emailType=e.usageType.byName(a),l=!0),r}null==a._emails&&(a._emails=[]);var n={_isPrimary:!1,_emailAddress:null,_emailType:null},r={_emailAddress:"",_emailType:""},l=!1;return a.workEmail=i(a,"work"),a.personalEmail=i(a,"personal"),s.setFieldDefaultValues(a.workEmail,r),s.setFieldDefaultValues(a.personalEmail,r),l}function o(e){null==e._addresses&&(e._addresses=[]);var t={_street1:"",_street2:"",_city:"",_state:"",_zip:""};if(0<e._addresses.length)for(var a=0;a<e._addresses.length;a++)s.setFieldDefaultValues(e._addresses[a],t);return!1}function p(e){e._preferredName&&(e._preferredName=e._preferredName.trim()),e._emails&&m(e._emails,"_emailAddress"),e._phoneNumbers&&m(e._phoneNumbers,"_number"),e._emergencyContacts&&m(e._emergencyContacts,"_contactName")}function m(t,s){if(!t.length)return!1;var e="string"==typeof s?function(t){return null!=t[s]&&t[s].trim().length}:"function"==typeof s?s:function(){return!0};var a=t.filter(e);return a.length!==t.length&&(!(t.length=0,!!a.length)||(a.forEach(function(s){return t.push(s)}),!0))}function u(e,t){var s=n.utcIsoToRelativeMoment(e,t);return s.clone().add(1,"days")}function c(e){var t=e.sort(function(e,t){return new Date(t._to)-new Date(e._to)});return t[0]}function v(e){e.hasPlatformSyncIssue=!1,r.isSharedEmployeeEnabledAndCentralIsSystemOfRecord().then(function(t){return t?e._orgPersonCreated?e._orgPersonUpdated?e._canonicalEmployeeEventsOutOfSync?(e.platformSyncMessage="This employee\u2019s data may be out of sync.",void(e.hasPlatformSyncIssue=!0)):void 0:(e.platformSyncMessage="This employee\u2019s data is out of sync.",void(e.hasPlatformSyncIssue=!0)):(e.platformSyncMessage="This employee is not connected to the platform.",void(e.hasPlatformSyncIssue=!0)):void 0})}return{newAddress:function(e,t){var s=c(e);return{_from:s?u(s._from,t).toISOString():i.foreverPastString,_to:i.foreverFutureString,_addressType:0,_isPrimary:!0,_street1:null,_street2:null,_city:null,_state:null,_zip:null,_countryCode:null}},nextDay:u,preSave:function(e){p(e)},processDates:function(e,t,s){var a=n.utcIsoToRelativeMoment(e._from,s),r=n.utcIsoToRelativeMoment(e._to,s);return e.startDateTxt=i.isForeverPast(e._from)?"":a.format("MM/DD/YYYY"),e.endDateTxt=i.isForeverFuture(e._to)?"":r.format("MM/DD/YYYY"),e.hasAddressInformation=!(e._street1||e._city||e._state||e._zip),e},setupEmployee:function(e){p(e),o(e),l(e),v(e)},validator:{email:a.email(),externalId:a.string({required:!r.isHRMSEnabled(),maxLength:100}),phone:a.phone(),required:a.required(),ssn:a.ssn(),zip:a.zip(),educatorId:a.string({maxLength:100})},loadEmployee:function(e){return s.setFieldDefaultValues(e,{_firstName:"",_middleName:"",_lastName:"",_aliasFirstName:"",_aliasMiddleName:"",_aliasLastName:"",_sSN:"",_externalId:"",_stateEducatorId:"",_multipleRaces:[],_retirementSystem:{id:-1,name:""}}),!1},loadEmergencyContacts:function(e){var t={_isPrimary:!1,_relationshipType:-1,_contactName:null,_primaryPhone:null,_alternatePhone:null},a={_contactName:"",_primaryPhone:"",_alternatePhone:""},i=!1,n=e._emergencyContacts;return 0===n.length?(n.push(angular.extend({},t)),n.push(angular.extend({},t)),n[0]._isPrimary=!0,i=!0):1===n.length&&(n.push(angular.extend({},t)),n[1]._isPrimary=!n[0]._isPrimary,i=!0),e.primaryEmergencyContact=n.find(function(e){return e._isPrimary}),e.secondaryEmergencyContact=n.find(function(e){return!e._isPrimary}),s.setFieldDefaultValues(e.primaryEmergencyContact,a),s.setFieldDefaultValues(e.secondaryEmergencyContact,a),i},cleanEmployeeForSave:p}}function t(e,t){return{sleep:function(s){var a=e.defer();return t(function(){return a.resolve()},s||2000),a.promise}}}(function(t){try{t=angular.module("super-templates")}catch(e){t=angular.module("super-templates",[])}t.run(["$templateCache",function(e){e.put("components/super-address-list/address-list.html","<div class=\"super-address-list\" data-test=\"address-list\"><h3 id=\"address-heading\">Address</h3><super-button smp class=\"add-address\" label=\"Add New Address\" ng-click=\"go.add()\" ss-icon=\"plus-circle\" ng-if=\"vm.editMode\" is-disabled=\"go.isAddDisabled()\" data-test=\"address-add\"></super-button><!-- Future Address --><div class=\"gd-row future-address\" ng-if=\"vm.future != null\" data-test=\"future-address\"><h4>Upcoming Address:</h4><ul class=\"record-list date-row\"><li class=\"gd-20p\"><super-input-datepicker model=\"vm.future.startDateTxt\" options=\"vm.futureDtPickerOpt\" label=\"Start Date\" edit-mode=\"vm.editMode\" data-test=\"address-start-date\"></super-input-datepicker></li><li class=\"gd-80p\" ng-show=\"vm.editMode\"><super-button smp label=\"Remove\" ng-click=\"go.removeFuture(vm.future)\" ss-icon=\"times\" data-test=\"remove\"></super-button></li></ul><ul class=\"record-list\"><li class=\"gd-40p\"><super-input-text input-id=\"future-address-line-1\" model=\"vm.future._street1\" label=\"Address Line 1\" aria-label=\"address line 1\" name=\"AddressLine1\" edit-mode=\"vm.editMode\" data-test=\"address-1\"></super-input-text></li><li class=\"gd-40p\"><super-input-text input-id=\"future-address-line-2\" model=\"vm.future._street2\" label=\"Address Line 2\" aria-label=\"address line 2\" name=\"AddressLine2\" edit-mode=\"vm.editMode\" data-test=\"address-2\"></super-input-text></li></ul><ul class=\"record-list\"><li class=\"gd-20p\"><super-input-text input-id=\"future-city\" model=\"vm.future._city\" label=\"City\" aria-label=\"city\" name=\"city\" edit-mode=\"vm.editMode\" data-test=\"address-city\"></super-input-text></li><li class=\"gd-45p\"><super-single-filter-list edit-mode=\"vm.editMode\" databind-name=\"name\" databind-value=\"value\" label=\"State\" model=\"vm.future._state\" items=\"vm.states\" data-test=\"address-state\" permissions=\"permissions\"></super-single-filter-list></li><li class=\"gd-20p\"><super-input-text input-id=\"future-zip\" model=\"vm.future._zip\" label=\"Zip Code\" name=\"zip\" aria-label=\"zip code\" ss-validate=\"validator.zip(vm.future._zip)\" edit-mode=\"vm.editMode\" data-test=\"address-zip\"></super-input-text></li></ul></div><!-- Current Address --><div class=\"gd-row current-address\" ng-if=\"vm.current != null\" data-test=\"current-address\"><h4>Current Address:</h4><ul class=\"record-list date-row\"><li class=\"gd-20p\"><super-input-datepicker edit-mode=\"vm.editMode && vm.future == null\" model=\"vm.current.startDateTxt\" label=\"Start Date\" aria-label=\"start date\" options=\"vm.currentDtPickerOpt\" data-test=\"address-start-date\"></super-input-datepicker></li><li class=\"gd-20p\"><label class=\"label\">End Date</label><div>{{ vm.current.endDateTxt }}</div></li></ul><ul class=\"record-list\"><li class=\"gd-40p\"><super-input-text input-id=\"current-address-line-1\" model=\"vm.current._street1\" label=\"Address Line 1\" aria-label=\"address line 1\" name=\"AddressLine1\" edit-mode=\"vm.editMode\" data-test=\"address-1\"></super-input-text></li><li class=\"gd-40p\"><super-input-text input-id=\"current-address-line-2\" model=\"vm.current._street2\" label=\"Address Line 2\" aria-label=\"address line 2\" name=\"AddressLine1\" edit-mode=\"vm.editMode\" data-test=\"address-2\"></super-input-text></li></ul><ul class=\"record-list\"><li class=\"gd-20p\"><super-input-text input-id=\"current-city\" model=\"vm.current._city\" label=\"City\" aria-label=\"city\" name=\"city\" edit-mode=\"vm.editMode\" data-test=\"address-cty\"></super-input-text></li><li class=\"gd-45p\"><super-single-filter-list edit-mode=\"vm.editMode\" databind-name=\"name\" databind-value=\"value\" label=\"State\" model=\"vm.current._state\" items=\"vm.states\" data-test=\"address-state\" permissions=\"permissions\"></super-single-filter-list></li><li class=\"gd-20p\"><super-input-text input-id=\"current-zip\" model=\"vm.current._zip\" label=\"Zip Code\" aria-label=\"zip code\" name=\"zip\" ss-validate=\"validator.zip(vm.current._zip)\" edit-mode=\"vm.editMode\" data-test=\"address-zip\"></super-input-text></li></ul></div><!-- Past Addresses --><div ng-if=\"vm.past.length > 0\"><button type=\"button\" class=\"smp show-hide-details {{ (vm.expanded) ? 'fa-angle-down-after' : 'fa-angle-up-after' }} ss-toggle-closed\" ss-toggle=\"past-address\" ng-click=\"go.toggle()\" ss-toggle-start-expanded=\"{{vm.expanded}}\" data-test=\"past-addresses-toggle\"><span>{{ vm.expanded ? 'Hide' : 'View' }} Address history</span></button><div class=\"gd-row past-address\" data-test=\"past-addresses-content\"><h4>Past Address(es):</h4><ul class=\"record-list\" ng-repeat=\"address in vm.past\" data-test=\"past-address\"><li class=\"gd-100p dates\">{{ address.startDateTxt }} - {{ address.endDateTxt }}</li><li class=\"gd-100p\" ng-if=\"address.hasAddressInformation\">Address information not available.</li><li class=\"gd-100p\" ng-if=\"!address.hasAddressInformation\"><ul><li class=\"gd-100p\">{{ address._street1 }}</li><li class=\"gd-100p\">{{ address._street2 }}</li><li class=\"gd-100p\">{{ address._city }} {{ address._state }} {{ address._zip }}</li></ul></li></ul></div></div></div>"),e.put("components/super-assignment/assignment.html","<div class=\"super-assignment\" ng-class=\"{'edit-mode': vm.editing, 'has-error': position.hasError}\" ss-validate=\"validator.validate()\" data-test-type=\"assignment\" data-test-position-id=\"{{position.id}}\" data-test-assignment-id=\"{{position.assignment.id}}\" ss-pending=\"position.isUpdating\"><div class=\"position\"><div class=\"header\"><div ng-bind=\"vm.tagText\" class=\"ss-tag\" data-test=\"tag\" ng-class=\"{'ss-tag-positive': vm.isCurrent, 'ss-tag-primary': vm.isFuture}\"></div><h4 class=\"title\" ng-bind=\"vm.isNew ? 'Assignment Information' : position.name\" data-test=\"name\"></h4><div class=\"date-range\" ng-if=\"!vm.editing\" ng-bind=\"vm.dateRange\" data-test=\"date-range\"></div><div class=\"date-range\" ng-if=\"vm.editing\" ss-validate=\"validator.required(vm.startDate, 'start date')\" data-test=\"date-range\"><super-input-datepicker edit-mode=\"vm.editing\" placeholder=\"Start Date\" model=\"vm.startDate\" class=\"assignment-start-date\" required=\"true\" options=\"vm.dateOptions\" required=\"true\" data-test=\"start-date\"></super-input-datepicker><super-input-datepicker edit-mode=\"vm.editing\" placeholder=\"End Date\" model=\"vm.endDate\" class=\"assignment-end-date\" options=\"vm.dateOptions\" data-test=\"end-date\"></super-input-datepicker></div><!-- Create menu --><div class=\"actions\" ng-if=\"vm.mode === 'new'\"><super-button ss-icon-after=\"angle-down\" data-test=\"assignment-actions-menu\"><item class=\"create\" ss-permitted=\"assignments.create\" ng-if=\"position.assignment.$permitted.actions.create\" ng-click=\"go.addDetails()\" data-test=\"assignment-add-details\">Add New Assignment Details</item><item class=\"cancel\" ng-if=\"vm.editing\" ng-click=\"go.cancel()\" data-test=\"assignment-cancel\">Cancel</item></super-button></div><!-- EDIT menu --><div class=\"actions\" ng-if=\"vm.mode !== 'view' && position.assignment.$permitted.actions.edit\"><super-button ss-icon-after=\"angle-down\" data-test=\"actions\"><item class=\"edit\" ng-if=\"!vm.editing\" ng-click=\"go.edit()\" ng-disabled=\"vm.mode === 'delete'\" data-test=\"edit\">Edit</item><item class=\"cancel\" ng-if=\"vm.editing\" ng-click=\"go.cancel()\" data-test=\"cancel\">Cancel</item><item class=\"create\" ss-permitted=\"assignments.create\" ng-if=\"vm.editing && position.assignment.$permitted.actions.create\" ng-disabled=\"position._jobType == null || position._jobType.id == null\" ng-click=\"go.addDetails()\" data-test=\"add-details\">Add New Assignment Details</item><item class=\"remove\" ss-permitted=\"assignments.delete\" ng-if=\"position.id != null && position.assignment.$permitted.actions.delete\" ng-click=\"remove()\" data-test=\"remove\">Delete</item></super-button></div></div><div class=\"assignment\"><div class=\"gd-row\"><ul class=\"record-list\"><li><super-single-filter-list edit-mode=\"vm.editing\" databind-name=\"name\" databind-value=\"value\" permissions=\"vm.permissions.positions\" class=\"position-name\" data-test=\"position-name\" label=\"Position Name\" model=\"position._name\" ss-validate=\"validator.required(position._name, 'position name')\" required=\"true\" items=\"vm.positionTypes\"></super-single-filter-list></li><li><super-single-filter-list required=\"true\" label=\"Job Type\" class=\"job-type\" data-test=\"job-type\" databind-name=\"_name\" databind-value=\"id\" permissions=\"vm.permissions.jobTypes\" ss-validate=\"validator.required(position._jobType.id, 'job type')\" required=\"true\" items=\"vm.jobTypes\" model=\"position._jobType.id\" edit-mode=\"vm.editing\" include-none-option=\"false\"></super-single-filter-list></li><li ng-if=\"featureFlags['fc_enable_contract_groups'] && vm.contractGroups.length\"><super-single-filter-list label=\"Contract Group\" class=\"contract-group\" data-test=\"contract-group\" permissions=\"\" items=\"vm.contractGroups\" model=\"position.assignment._contractGroupId\" edit-mode=\"vm.editing\" include-none-option=\"true\"></super-single-filter-list></li><li><super-input-text edit-mode=\"false\" permissions=\"vm.permissions.jobTypes\" class=\"employment-group\" label=\"Employment Group / CBU\" model=\"position.jobType.employmentGroup.name\" data-test=\"employment-group\"></super-input-text></li></ul></div><div class=\"gd-row\"><ul class=\"record-list\"><li><super-single-filter-list required=\"true\" label=\"Location\" class=\"location\" data-test=\"location\" databind-name=\"_name\" databind-value=\"id\" permissions=\"vm.permissions.locations\" ss-validate=\"validator.required(position._location.id, 'location')\" required=\"true\" items=\"vm.locations\" model=\"position._location.id\" edit-mode=\"vm.editing\" include-none-option=\"false\"></super-single-filter-list></li><li><super-single-filter-list required=\"true\" label=\"Department\" class=\"department\" data-test=\"department\" databind-name=\"_name\" databind-value=\"id\" permissions=\"vm.permissions.departments\" ss-validate=\"validator.required(position._department.id, 'department')\" required=\"true\" items=\"vm.departments\" model=\"position._department.id\" edit-mode=\"vm.editing\" include-none-option=\"false\"></super-single-filter-list></li><li><super-input-text required=\"false\" label=\"External ID\" class=\"externalId\" data-test=\"externalId\" model=\"position.assignment._externalId\" edit-mode=\"vm.editing\" ss-validate=\"validator.externalId(position.assignment._externalId)\" ss-validate-message=\"Value must not exceed 100 characters in length\"></super-input-text></li></ul></div></div></div><super-assignment-details ng-class=\"{'last': $last}\" details=\"details\" ng-repeat=\"details in position.assignment._details\" edit-mode=\"vm.editing\" permissions=\"position.assignment.$permitted.props\" job-type=\"position.assignment.jobType\" org=\"org\" remove=\"go.removeDetails($index)\"></super-assignment-details></div>"),e.put("components/super-assignment-details/assignment-details.html","<div class=\"super-assignment-details\" data-test=\"assignment-details\" data-test-id=\"{{details.id}}\"><div class=\"header gd-row\"><button type=\"button\" class=\"collapse\" ss-icon=\"{{vm.collapsed ? 'plus-square' : 'minus-square'}}\" ng-click=\"vm.collapsed = !vm.collapsed\" data-test=\"collapse\">Assignment Details</button><div class=\"actions\" ng-if=\"vm.editMode\"><super-button ss-icon-after=\"angle-down\" data-test=\"actions\"><item class=\"remove\" ng-click=\"remove()\" data-test=\"remove\">Delete</item></super-button></div><div class=\"date-range\" ng-if=\"!vm.editMode\" ng-bind=\"vm.dateRange\" data-test=\"date-range\"></div><div class=\"date-range\" ng-if=\"vm.editMode\" ss-validate=\"validator.dates()\"><super-input-datepicker class=\"assignment-details-start-date\" edit-mode=\"vm.editMode\" placeholder=\"Start Date\" options=\"details.startDateOptions\" model=\"vm.startDate\" required=\"true\" data-test=\"start-date\"></super-input-datepicker><super-input-datepicker class=\"assignment-details-end-date\" edit-mode=\"vm.editMode\" placeholder=\"End Date\" options=\"details.endDateOptions\" model=\"vm.endDate\" data-test=\"end-date\"></super-input-datepicker></div></div><div class=\"details\" ng-show=\"!vm.collapsed\"><div class=\"gd-row\"><ul class=\"record-list\" ng-repeat=\"col in vm.jobTypeDetailsCols\"><li class=\"revertable-field\" ng-repeat=\"field in col\" ng-class=\"{'empty-field': !vm.editMode && details[field.prop] == null}\"><super-input-text class=\"{{field.prop}}\" ng-if=\"!vm.editMode\" edit-mode=\"vm.editMode\" label=\"{{ field.displayText }}\" type=\"number\" step=\"0.001\" model=\"details[field.prop] != null ? details[field.prop] : vm.jobTypeDetails[field.prop]\" data-test=\"{{field.dataTest}}\"></super-input-text><super-input-text class=\"{{field.prop}}\" ng-if=\"vm.editMode\" edit-mode=\"vm.editMode\" label=\"{{ field.displayText }}\" type=\"number\" step=\"0.001\" model=\"details[field.prop]\" placeholder=\"{{ vm.jobTypeDetails[field.prop] }}\" data-test=\"{{field.dataTest}}\"></super-input-text><button type=\"button\" ss-icon-after=\"rotate-left\" title=\"Revert\" class=\"revert-val\" ng-click=\"go.revert(field.prop)\" ng-if=\"vm.editMode && details[field.prop] != null && jobTypeDetails != null\" data-test=\"{{field.dataTest}}-revert\">(<span ng-bind=\"vm.jobTypeDetails[field.prop]\"></span>)</button></li></ul></div><!-- Pay schedules available --><div class=\"gd-row\" ng-if=\"jobType != null\"><ul class=\"record-list\"><li><super-input-text class=\"pay-schedule\" edit-mode=\"false\" label=\"Pay Schedule\" model=\"details.paySchedule._name\" data-test=\"pay-schedule-name\">N/A</super-input-text></li><li><super-select-list class=\"pay-lane\" edit-mode=\"vm.editMode\" ng-if=\"vm.payScheduleIsValid\" label=\"Pay Lane\" model=\"details._payLane\" ss-validate=\"validator.required(details._payLane, 'pay lane')\" data-test=\"pay-lane\"><super-select-list-item value=\"$index\" label=\"lane.name\" ng-repeat=\"lane in details.paySchedule._payLanes\"></super-select-list-item></super-select-list><dl data-test=\"pay-lane\" class=\"data-field pay-lane\" ng-if=\"!vm.payScheduleIsValid\"><dt>Pay Lane</dt><dd>N/A</dd></dl></li><li><super-select-list class=\"pay-step\" edit-mode=\"vm.editMode\" ng-if=\"vm.payScheduleIsValid\" label=\"Pay Step\" model=\"details._payStep\" ss-validate=\"validator.step()\" data-test=\"pay-step\"><super-select-list-item value=\"$index\" label=\"step.name\" ng-repeat=\"step in vm.paySteps\"></super-select-list-item></super-select-list><dl data-test=\"pay-step\" class=\"data-field pay-step\" ng-if=\"!vm.payScheduleIsValid\"><dt>Pay Step</dt><dd>N/A</dd></dl></li></ul></div><div class=\"gd-row\" ng-if=\"jobType != null\"><ul class=\"record-list\"><li><super-select-list class=\"pay-type\" edit-mode=\"vm.editMode\" default-option-label=\"None\" ng-if=\"!vm.payScheduleIsValid\" label=\"Pay Type\" model=\"details._payRateFrequency\" data-test=\"pay-type\"><super-select-list-item label=\"'None'\" value=\"null\"></super-select-list-item><super-select-list-item ng-repeat=\"option in vm.payRateOptions\" label=\"option.name\" value=\"option.value\"></super-select-list-item></super-select-list><dl class=\"data-field pay-type\" ng-if=\"vm.payScheduleIsValid\" data-test=\"pay-type\"><dt>Pay Type</dt><dd ng-bind=\"vm.payRateFrequencyString\"></dd></dl></li><li><super-input-text class=\"pay-period\" label=\"Pay/Period\" edit-mode=\"false\" model=\"vm.payPerPeriod | currency\" data-test=\"pay-period\">N/A</super-input-text></li><li class=\"revertable-field\" ng-class=\"{'empty-field': !vm.editMode && details._payPeriodsPerYear == null}\"><super-input-text class=\"periods-year\" ng-if=\"!vm.editMode\" edit-mode=\"vm.editMode\" type=\"number\" step=\"0.001\" label=\"Periods/Year\" model=\"details._payPeriodsPerYear != null ? details._payPeriodsPerYear : vm.jobTypeDetails._payPeriodsPerYear\" data-test=\"periods-year\"></super-input-text><super-input-text class=\"periods-year\" ng-if=\"vm.editMode\" edit-mode=\"vm.editMode\" type=\"number\" step=\"0.001\" label=\"Periods/Year\" model=\"details._payPeriodsPerYear\" placeholder=\"{{ vm.jobTypeDetails._payPeriodsPerYear }}\" data-test=\"periods-year\"></super-input-text><button type=\"button\" ss-icon-after=\"rotate-left\" title=\"Revert\" class=\"revert-val\" ng-click=\"go.revert('_payPeriodsPerYear')\" ng-if=\"vm.editMode && details._payPeriodsPerYear != null\" data-test=\"periods-year-revert\">(<span ng-bind=\"vm.jobTypeDetails._payPeriodsPerYear\"></span>)</button></li><li class=\"annual-salary-number revertable-field\" ng-if=\"vm.payRateFrequencyString != null\" ng-class=\"{'empty-field': !vm.editMode && details._payRate == null}\"><super-input-text class=\"salary\" type=\"number\" step=\"0.001\" ng-if=\"!vm.editMode\" edit-mode=\"vm.editMode\" label=\"{{ vm.payRateFrequencyString }}\" model=\"vm.annualSalary | currency\" data-test=\"annual-salary\"></super-input-text><span ng-if=\"vm.editMode\">$</span><super-input-text class=\"salary\" type=\"number\" step=\"0.001\" ng-if=\"vm.editMode\" edit-mode=\"vm.editMode\" label=\"{{ vm.payRateFrequencyString }}\" model=\"details._payRate\" placeholder=\"{{ vm.annualSalary }}\" data-test=\"annual-salary\"></super-input-text><button type=\"button\" ss-icon-after=\"rotate-left\" title=\"Revert\" class=\"revert-val\" ng-click=\"go.revert('_payRate')\" ng-if=\"vm.editMode && details._payRate != null\" data-test=\"annual-salary-revert\">(<span ng-bind=\"vm.annualSalary | currency\"></span>)</button></li></ul><div class=\"hourly-help-text\" ng-if=\"(!vm.payScheduleIsValid && !vm.jobTypeDetailValuesAreValid)\" data-test=\"hourly-help-text\">Please input the Pay Type, Hours/Day, Work Days/Year and Periods/Year to calculate the Hourly Salary.</div></div><!-- No pay schedule available so everything is N/A --><div class=\"gd-row\" ng-if=\"jobType == null\"><ul class=\"record-list\"><li><dl class=\"data-field pay-schedule\"><dt>Pay Schedule</dt><dd>N/A</dd></dl></li><li><dl data-test=\"pay-lane\" class=\"data-field pay-lane\"><dt>Pay Lane</dt><dd>N/A</dd></dl></li><li><dl data-test=\"pay-step\" class=\"data-field pay-step\"><dt>Pay Step</dt><dd>N/A</dd></dl></li></ul></div><div class=\"gd-row\" ng-if=\"jobType == null\"><ul class=\"record-list\"><li><dl class=\"data-field pay-period\"><dt>Pay/Period</dt><dd>N/A</dd></dl></li><li><dl class=\"data-field periods-year\"><dt>Periods/Year</dt><dd>N/A</dd></dl></li><li><dl class=\"data-field salary\"><dt>Salary</dt><dd>N/A</dd></dl></li></ul></div></div></div>"),e.put("components/super-assignment-list/assignment-list.html","<div class=\"super-assignment-list\" ss-pending=\"vm.loading\" data-test=\"assignments\"><!-- PRIMARY assignments --><div class=\"record\" ss-validate=\"validator.validate()\" data-test=\"primary-assignments\"><h3 class=\"section-heading\">Primary Assignment</h3><super-button smp ng-if=\"vm.editMode\" ss-permitted=\"assignments.create\" ng-click=\"go.addPrimary()\" label=\"Add New Primary Assignment\" ss-icon=\"plus-circle\" ng-disabled=\"vm.editingId != null\" data-test=\"add-primary-assignment\"></super-button><div class=\"no-assignments\" ng-if=\"!vm.newPrimaryPosition && !vm.primaryPosition && !vm.futurePrimaryPositions.length && !vm.pastPositions.length\" data-test=\"no-primary-assignment\">No Primary Assignment</div><!-- NEW PRIMARY position --><super-assignment ng-if=\"vm.newPrimaryPosition\" position=\"vm.newPrimaryPosition\" mode=\"go.getMode(vm.newPrimaryPosition)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(vm.newPrimaryPosition)\" cancel=\"go.cancelPosition(vm.newPrimaryPosition)\" menu-data=\"vm.menuData\" data-test=\"new-primary-assignment\"></super-assignment><!-- FUTURE PRIMARY positions --><super-assignment ng-if=\"vm.futurePrimaryPositions.length\" position=\"position\" ng-repeat=\"position in vm.futurePrimaryPositions\" mode=\"go.getMode(position)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(position, vm.futurePrimaryPositions)\" cancel=\"go.cancelPosition(position)\" menu-data=\"vm.menuData\" data-test=\"future-primary-assignment\"></super-assignment><!-- PRIMARY position --><super-assignment ng-if=\"vm.primaryPosition\" position=\"vm.primaryPosition\" mode=\"go.getMode(vm.primaryPosition)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(vm.primaryPosition)\" cancel=\"go.cancelPosition(vm.primaryPosition)\" menu-data=\"vm.menuData\" data-test=\"current-primary-assignment\"></super-assignment><!-- PAST positions --><div ng-if=\"vm.pastPositions.length\"><button type=\"button\" class=\"smp show-hide-details {{ vm.pastPositionsExpanded ? 'fa-angle-up-after' : 'fa-angle-down-after' }} ss-toggle-closed\" ss-toggle=\"toggle-content\" ss-toggle-start-expanded=\"{{vm.pastPositionsExpanded}}\" ng-click=\"vm.pastPositionsExpanded = !vm.pastPositionsExpanded\" data-test=\"past-primary-assignments-toggle\">{{ vm.pastPositionsExpanded ? 'Hide' : 'View' }} Past Assignments</button><div class=\"toggle-content\" data-test=\"past-primary-assignments\"><super-assignment position=\"position\" ng-repeat=\"position in vm.pastPositions\" mode=\"go.getMode(position)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(position, vm.pastPositions)\" cancel=\"go.cancelPosition(position)\" menu-data=\"vm.menuData\" data-test=\"past-primary-assignment\"></super-assignment></div></div></div><!-- ADDITIONAL assignments --><div class=\"record\" data-test=\"secondary-assignments\"><h3 class=\"section-heading\">Additional Assignment</h3><super-button smp ng-if=\"vm.editMode\" ss-permitted=\"assignments.create\" ng-click=\"go.addSecondary()\" label=\"Add New Additional Assignment\" ss-icon=\"plus-circle\" ng-disabled=\"vm.editingId != null\" data-test=\"add-secondary-assignment\"></super-button><div class=\"no-assignments\" ng-if=\"!vm.newPosition && !vm.futureOtherPositions.length && !vm.otherPositions.length && !vm.pastOtherPositions.length\" data-test=\"no-secondary-assignment\">No Additional Assignment</div><!-- NEW ADDITIONAL position --><super-assignment ng-if=\"vm.newPosition != null\" position=\"vm.newPosition\" mode=\"go.getMode(vm.newPosition)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(vm.newPosition)\" cancel=\"go.cancelPosition(vm.newPosition)\" menu-data=\"vm.menuData\" data-test=\"new-secondary-assignment\"></super-assignment><!-- FUTURE OTHER postions --><super-assignment ng-if=\"vm.futureOtherPositions\" position=\"position\" ng-repeat=\"position in vm.futureOtherPositions\" mode=\"go.getMode(position)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(position, vm.futureOtherPositions)\" cancel=\"go.cancelPosition(position)\" menu-data=\"vm.menuData\" data-test=\"future-secondary-assignment\"></super-assignment><!-- OTHER positions --><super-assignment ng-if=\"vm.otherPositions\" position=\"position\" ng-repeat=\"position in vm.otherPositions\" mode=\"go.getMode(position)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(position, vm.otherPositions)\" cancel=\"go.cancelPosition(position)\" menu-data=\"vm.menuData\" data-test=\"current-secondary-assignment\"></super-assignment><!-- PAST OTHER positions --><div ng-if=\"vm.pastOtherPositions.length\"><button type=\"button\" class=\"smp show-hide-details {{ vm.pastOtherPositionsExpanded ? 'fa-angle-up-after' : 'fa-angle-down-after' }} ss-toggle-closed\" ss-toggle=\"toggle-content\" ss-toggle-start-expanded=\"{{vm.pastOtherPositionsExpanded}}\" ng-click=\"vm.pastOtherPositionsExpanded = !vm.pastOtherPositionsExpanded\" data-test=\"past-secondary-assignment-toggle\">{{ vm.pastOtherPositionsExpanded ? 'Hide' : 'View' }} Past Assignments</button><div class=\"toggle-content\" data-test=\"past-secondary-assignments\"><super-assignment position=\"position\" ng-repeat=\"position in vm.pastOtherPositions\" mode=\"go.getMode(position)\" org=\"org\" permissions=\"vm.permissions\" remove=\"go.removePosition(position, vm.pastOtherPositions)\" cancel=\"go.cancelPosition(position)\" menu-data=\"vm.menuData\" data-test=\"past-secondary-assignment\"></super-assignment></div></div></div></div>"),e.put("components/super-credential/credential.html","<div class=\"super-credential\"><div class=\"edit-container\" ng-if=\"vm.credentialBeingEdited !== null\" ss-pending=\"vm.isProcessing\"><super-credential-add-edit credential=\"vm.credentialBeingEdited\" save-credential=\"go.saveCredential\" cancel-credential=\"go.cancelCredential\" org=\"vm.org\" logged-in-user-key=\"loggedInUserKey\" is-cloning=\"vm.isCloning\"></super-credential-add-edit></div><article class=\"non-edit-container\" ng-class=\"'empcred-{{credential.id}}'\" ng-if=\"vm.credentialBeingEdited === null\" ss-pending=\"vm.isProcessing\"><header><p ng-show=\"vm.deletedIssuer\" class=\"information\" ss-icon=\"info-circle\" role=\"alert\" aria-live=\"polite\">The issuer for this credential has been deleted. To make active or renew, delete this one and add a new credential.</p><p ng-show=\"vm.deletedCredentialType\" class=\"information\" ss-icon=\"info-circle\" role=\"alert\" aria-live=\"polite\">This credential can no longer be issued. To make active or renew, delete this one and add a new credential</p><h4 class=\"credential-name\" ng-bind=\"credential._credential.name\"></h4><ul class=\"credential-meta ss-pipe-children\"><li class=\"meta-item credential-issuer\" ng-if=\"credential._credential.issuer.name\" ng-bind=\"credential._credential.issuer.name\"></li><li class=\"meta-item credential-number\" ng-if=\"credential._credentialNumber\" ng-bind=\"credential._credentialNumber\"></li></ul></header><div><p class=\"subjects\" ng-if=\"credential._subjects.length\" ng-bind=\"go.getSubjects()\"></p><div class=\"dates active\" ng-if=\"go.hasActiveDates()\"><span class=\"issued\" ng-if=\"credential._stateStartedDay\"><span ng-if=\"go.isRenewed()\">Renewed:</span> <span ng-if=\"!go.isRenewed()\">Issued:</span> {{go.showDate(credential._stateStartedDay)}} </span><span class=\"expired\" ng-class=\"{'expires-soon': go.expiresSoon() || go.isExpired() }\" ng-if=\"credential._expirationDay && !go.isForeverFuture()\"><span aria-hidden=\"true\" ng-if=\"go.expiresSoon()\"><i ss-icon=\"warning\"></i>&nbsp;</span> {{go.getExpirationLabel()}}: {{go.showDate(credential._expirationDay)}} </span><span class=\"verifier\" ng-if=\"credential._verifier && credential._verifier.verifiedDay\"><i class=\"shield\" aria-hidden=\"true\" ss-icon=\"shield\"></i> &nbsp;Verified: {{go.showDate(credential._verifier.verifiedDay)}} by {{credential._verifier.name}}</span></div><div class=\"dates in-progress\" ng-if=\"go.hasInProgressDates()\"><span class=\"label\">In Progress</span> <span class=\"started\" ng-if=\"credential._stateStartedDay\">Started: {{go.showDate(credential._stateStartedDay)}}</span> <span class=\"tentative-completion\" ng-if=\"credential._expirationDay\">Tentative Completion: {{go.showDate(credential._expirationDay)}}</span></div><ul class=\"files\" ng-if=\"credential._files.length\" ss-permitted=\"employeeCredentials.viewEmployeeCredentialFiles\"><li ng-repeat=\"file in credential._files\"><i class=\"file-icon\" ss-icon=\"{{ file.isDownloading ? 'spinner' :  go.getIcon(file) }}\"></i><super-button aria-label=\"Download {{ file.name }}\" class=\"add-credential\" link=\"\" label=\"{{ file.name }}\" ng-click=\"go.downloadFile(file)\" is-disabled=\"file.isDownloading\"></super-button></li></ul></div><div class=\"actions-button\"><super-button ng-hide=\"vm.deletedIssuer || vm.deletedCredentialType\" ss-permitted=\"employeeCredentials.create\" class=\"hide-when-archive\" ng-click=\"go.onRenew()\" label=\"Renew\" is-disabled=\"currentlyEditing !== null || (vm.deletedIssuer || vm.deletedCredentialType)\" ng-if=\"!credential._isGrantedForLife && credential._issuedReason !== vm.credentialConstants.CREDENTIAL_INPROGRESS\"></super-button><super-button ng-hide=\"vm.deletedIssuer || vm.deletedCredentialType\" ss-permitted=\"employeeCredentials.create\" class=\"hide-when-archive\" title=\"Change from In-Progress to Active\" ng-click=\"go.onMakeActive()\" label=\"Make Active\" is-disabled=\"currentlyEditing !== null || (vm.deletedIssuer || vm.deletedCredentialType)\" ng-if=\"!credential._isGrantedForLife && credential._issuedReason === vm.credentialConstants.CREDENTIAL_INPROGRESS\"></super-button><super-button class=\"other-empcred-options\" ss-icon-after=\"angle-down\" is-disabled=\"currentlyEditing !== null\" ng-if=\"go.showActions()\"><item class=\"edit-btn hide-when-archive\" ss-permitted=\"employeeCredentials.edit\" ng-click=\"go.onEdit()\"><h6>Edit</h6></item><item class=\"delete-btn\" ng-click=\"go.onDelete()\" ss-permitted=\"employeeCredentials.softDelete\"><h6>Delete</h6></item></super-button></div></article></div>"),e.put("components/super-credential-add-edit/credential-add-edit.html","<div class=\"super-credential-add-edit\"><form ss-validate-form ng-submit=\"go.saveCredential()\" autocomplete=\"off\"><div class=\"gd-row\"><div ng-if=\"vm.deletedIssuerLockdown\" class=\"message\" ss-icon-before=\"info-circle\">Editing of this credential is limited since the issuer is deleted.</div><div ng-if=\"vm.deletedCredentialLockdown\" class=\"message\" ss-icon-before=\"info-circle\">Editing of this credential is limited since the credential is deleted.</div><br><fieldset class=\"gd-70p\" aria-label=\"Select credential group\" ng-class=\"{ 'block-section': isCloning }\" ng-disabled=\"vm.isEdit\"><div class=\"gd-40p right-border\"><super-input-radio ng-disabled=\"vm.isEdit\" label=\"State & National\" name=\"credential-type\" value=\"0\" model=\"vm.isCustomCredential\"></super-input-radio><div aria-label=\"Credentials added by Frontline Education\" class=\"sub-label\">Added by Frontline Education</div></div><div class=\"gd-60p\"><super-input-radio ng-disabled=\"vm.isEdit\" label=\"Custom\" name=\"credential-type\" value=\"1\" model=\"vm.isCustomCredential\"></super-input-radio><div aria-label=\"Credential added by your district\" class=\"sub-label\">Added by {{ org._name }}</div></div></fieldset><div class=\"gd-30p right\"><super-button ng-click=\"go.cancelAddingCredential()\" label=\"Cancel\" class=\"cancel\"></super-button><super-button smp pri aria-label=\"Save Credential\" type=\"submit\" is-disabled=\"vm.credentialTypeId === null || vm.issuer === null || vm.credentialId === null || credential.data._stateStartedDay === '' || vm.isUploading\" label=\"Save\"></super-button></div></div><div class=\"gd-row no-border\"><div class=\"gd-50p\" ng-class=\"{ 'block-section': isCloning }\"><super-single-filter-list class=\"auto-credential-types\" label=\"Credential Type\" items=\"credential.credentialTypes\" model=\"vm.credentialTypeId\" databind-name=\"_name\" databind-value=\"id\" include-none-option=\"false\" edit-mode=\"!vm.loadingCredentialTypes && !vm.changeLockdown\"></super-single-filter-list><span ss-icon=\"spinner\" class=\"fadeSpinner\" ng-show=\"vm.loadingCredentialTypes\"></span></div></div><div class=\"gd-row border-top fade ng-cloak\" ng-show=\"vm.credentialTypeId !== null\"><div class=\"gd-50p\" ng-class=\"{'right-border': vm.credentialTypeId !== vm.credentialConstants.DRIVER_LICENSE, 'block-section': isCloning}\"><super-single-filter-list required=\"true\" class=\"auto-issuers\" label=\"Issued By\" items=\"vm.issuersToLoad\" model=\"vm.issuer\" databind-name=\"_name\" databind-value=\"id\" include-none-option=\"false\" edit-mode=\"!vm.loadingIssuers && !vm.changeLockdown\"></super-single-filter-list><span ss-icon=\"spinner\" class=\"fadeSpinner\" ng-show=\"vm.loadingIssuers\"></span></div><div class=\"gd-50p\" ng-if=\"vm.credentialTypeId !== vm.credentialConstants.DRIVER_LICENSE\" ng-class=\"{ 'block-section': vm.issuer === null || isCloning }\"><super-single-filter-list required=\"true\" class=\"auto-credentials\" label=\"{{ credential.getCredentialLabelsByCredentialType(vm.credentialTypeId) }}\" items=\"credential.credentials\" model=\"vm.credentialId\" databind-name=\"_name\" databind-value=\"id\" include-none-option=\"false\" edit-mode=\"credential.credentials.length > 0 && !vm.loadingCredentials && !vm.changeLockdown\"></super-single-filter-list><div ng-if=\"vm.issuer != null && !credential.credentials.length && !vm.loadingCredentials && vm.issuer !== -1\" class=\"message\" ss-icon-before=\"info-circle\">There are no available items for this Issuer.</div><span ss-icon=\"spinner\" class=\"fadeSpinner\" ng-show=\"!credential.credentials.length && vm.loadingCredentials\"></span></div></div><div class=\"gd-row fade ng-cloak\" ng-show=\"vm.credentialTypeId !== null\"><div class=\"gd-50p right-border\" ng-if=\"vm.credentialTypeId !== vm.credentialConstants.DRIVER_LICENSE\" ng-class=\"{ 'block-section': vm.issuer === null }\"><super-multi-filter-list class=\"auto-subjects\" label=\"{{ credential.getSubjectAreaLabelByCredentialType(vm.credentialTypeId) }}\" display=\"tags\" selected=\"vm.selectedSubjects\" is-disabled=\"!credential.subjects.length || vm.loadingSubjects || vm.changeLockdown\"><super-multi-filter-list-item ng-repeat=\"subject in credential.subjects\" option=\"subject\"></super-multi-filter-list-item></super-multi-filter-list><div ng-if=\"vm.issuer != null && !credential.subjects.length && !vm.loadingSubjects && vm.issuer !== -1\" class=\"message\" ss-icon-before=\"info-circle\">Thereare no available items for this Issuer.</div><span ss-icon=\"spinner\" class=\"fadeSpinner\" ng-show=\"!credential.subjects.length && vm.loadingSubjects\"></span></div><div class=\"gd-50p\" ng-class=\"{ 'block-section': vm.issuer === null }\"><super-input-text ss-validate=\"go.validateCredentialNumber(vm.credentialNumber)\" class=\"auto-certification-number\" model=\"vm.credentialNumber\" required=\"vm.credentialTypeId === vm.credentialConstants.DRIVER_LICENSE\" label=\"{{ credential.getCredentialIdentifierByCredentialType(vm.credentialTypeId) }}\"></super-input-text></div></div><div class=\"gd-row fade ng-cloak\" ng-show=\"vm.credentialTypeId !== null\"><super-credential-status ng-class=\"{ 'block-section': vm.issuer === null }\" credential=\"credential\" credential-type-id=\"vm.credentialTypeId\" credential-id=\"vm.credentialId\" issuer=\"vm.issuer\" logged-in-user-key=\"loggedInUserKey\" is-cloning=\"isCloning\"></super-credential-status></div><div class=\"gd-row file-attachments\" ng-if=\"vm.credentialTypeId !== null\" ss-permitted=\"employeeCredentials.viewEmployeeCredentialFiles\"><div class=\"gd-20p\">Attachments</div><div class=\"gd-80p\"><super-credential-files files=\"vm.files\" is-uploading=\"vm.isUploading\"></super-credential-files></div></div></form></div>"),e.put("components/super-credential-files/credential-files.html","<div class=\"super-credential-files\"><div><ul class=\"uploaded-files\" ng-if=\"files.length\"><li class=\"file-item\" ng-repeat=\"file in files track by $index\" ng-class=\"{'markDeleted': file.isDeleted }\"><i class=\"file-icon\" ss-icon=\"{{ file.isDownloading ? 'spinner' :  go.getIcon(file) }}\"></i> <span class=\"file-name-group\"><super-button aria-label=\"Download {{ file.name }}\" class=\"add-credential\" label=\"{{ file.name }}\" link=\"\" ng-click=\"go.download(file)\" is-disabled=\"file.isDownloading\"></super-button><span class=\"file-meta\"><span class=\"extension\">{{ go.getExtension(file) }}</span> added <span ng-bind=\"file.createdUtc | date: 'MM/dd/yyyy'\"></span></span></span><super-button ss-icon-after=\"angle-down\" ss-permitted=\"employeeCredentials.deleteEmployeeCredentialFiles\"><item ng-click=\"go.deleteFile(file)\" aria-label=\"Remove {{ file.name }} from form\" title=\"Remove {{ file.name }}\"><h6>Delete</h6></item></super-button></li></ul></div><label for=\"file-upload\" class=\"fileContainer\" ss-permitted=\"employeeCredentials.uploadEmployeeCredentialFiles\"><div type=\"button\" class=\"super-button std uploadContainer\" ng-disabled=\"$scope.isUploading\">{{ $scope.isUploading ? 'Uploading...' : 'Upload File Attachment' }}<fluid-file-upload tmpl:prop=\"Default Value\" class-name=\"'file-upload-button'\" name=\"'file'\" accept=\"vm.accept\" aria-label=\"'Select file'\" on:change=\"go.sendFile($event)\"></fluid-file-upload></div></label></div>"),e.put("components/super-credential-status/credential-status.html","<div class=\"super-credential-status\"><fieldset aria-label=\"Select credential status\"><div class=\"flex-container statuses\" ng-class=\"{ 'block-section': isCloning }\"><div class=\"flex-item\" ng-repeat=\"status in vm.allCredentialStatuses\"><super-input-radio label=\"{{ status.label }}\" name=\"credentialStatus\" value=\"{{ status.value }}\" model=\"vm.credentialStatus\"></super-input-radio></div></div></fieldset><div class=\"flex-container\"><div class=\"flex-item renewal marginBottom\" ng-class=\"{ 'block-section': vm.isInProgress || isCloning }\"><super-input-checkbox aria-label=\"Renew the credential\" label=\"Renewal\" model=\"vm.isRenewal\"></super-input-checkbox></div><div class=\"flex-item issued date-picker left-border\"><super-input-datepicker ss-validate=\"validator.required(vm.stateStartedDay, credential.getIssueDateLabelsByStatus(vm.credentialStatus))\" label=\"{{ credential.getIssueDateLabelsByStatus(vm.credentialStatus, vm.isRenewal) }}\" required=\"true\" options=\"vm.stateStartedDtOptions\" model=\"vm.stateStartedDay\"></super-input-datepicker></div><div class=\"flex-item expiration\"><div class=\"left-border validation-group\" ss-validate=\"go.validateOr(vm.expirationDay, vm.isGrantedForLife)\"><div ng-class=\"{ 'block-section': vm.isGrantedForLife }\"><super-input-datepicker ss-validate=\"go.validateExpiration()\" class=\"date-picker\" required=\"credentialTypeId === vm.credentialConstants.DRIVER_LICENSE\" label=\"{{ credential.getExpirationDateLabelsByStatus(vm.credentialStatus) }}\" options=\"vm.expirationDtOptions\" is-disabled=\"vm.isGrantedForLife\" model=\"vm.expirationDay\"></super-input-datepicker></div><div class=\"lifetime\" ng-if=\"credentialTypeId !== vm.credentialConstants.DRIVER_LICENSE\" ng-class=\"{ 'block-section': vm.isInProgress || vm.expirationDay }\"><super-input-checkbox aria-label=\"This credential will never expire\" label=\"Lifetime\" model=\"vm.isGrantedForLife\"></super-input-checkbox></div></div></div><div class=\"flex-item verified marginBottom\" ng-class=\"{ 'block-section': vm.isInProgress }\"><super-input-checkbox aria-label=\"Verified by Admin\" label=\"Verified by Admin\" model=\"vm.isVerified\" is-disabled=\"!$root.isPermitted.employeeCredentials.verify\"></super-input-checkbox></div></div></div>"),e.put("components/super-credentials-cntr/credentials-cntr.html","<div class=\"super-credentials-cntr\"><h3>Certificates, Licenses and Clearances</h3><super-button aria-label=\"Add Credentials\" label=\"Add\" ss-icon=\"plus-circle\" class=\"add-credential\" link=\"\" ng-click=\"go.addCredential()\" is-disabled=\"vm.newCredential !== null || vm.currentlyEditing !== null\" ss-permitted=\"employeeCredentials.create\"></super-button><super-credential-add-edit ss-pending=\"vm.savingCredential\" ng-if=\"vm.newCredential !== null\" credential=\"vm.newCredential\" save-credential=\"go.saveCredential\" cancel-credential=\"go.cancelCredential\" org=\"vm.org\" logged-in-user-key=\"vm.loggedInUserKey\"></super-credential-add-edit><div><super-credentials-list ng-if=\"(vm.credentials.length > 0  && !vm.loadingCredentialList)\" credentials-list=\"vm.credentials\" org=\"vm.org\" logged-in-user-key=\"vm.loggedInUserKey\" currently-editing=\"vm.currentlyEditing\"></super-credentials-list><p class=\"no-credentials\" ng-if=\"(vm.credentials.length == 0 && !vm.loadingCredentialList && vm.currentlyEditing == null)\">No credentials added</p><div class=\"credential-loader\" ng-class=\"{'spinning': vm.loadingCredentialList, 'not-spinning': !vm.loadingCredentialList}\" ng-show=\"vm.loadingCredentialList\" ss-pending=\"vm.loadingCredentialList\"></div></div></div>"),e.put("components/super-credentials-list/credentials-list.html","<div class=\"super-credentials-list\"><div class=\"recent-credentials\" ng-show=\"vm.recent && vm.recent.length\"><super-credential ng-repeat=\"credential in vm.recent\" credential=\"credential\" org=\"org\" currently-editing=\"ctrl.currentlyEditing\" save-credential=\"go.saveCredential\" delete-credential=\"go.deleteCredential\"></super-credential></div><div ng-if=\"vm.archive.length\"><span><h3 class=\"header\">Archived ({{ vm.archive.length }})</h3></span><button type=\"button\" class=\"smp show-hide-details {{ (vm.archiveExpanded) ? 'fa-angle-up-after' : 'fa-angle-down-after' }} ss-toggle-closed\" ng-click=\"go.toggle()\"><span>{{ (vm.archiveExpanded) ? 'Hide' : 'View' }}</span></button></div><div class=\"archived-credentials\" ng-show=\"vm.archiveExpanded\"><div><super-credential ng-repeat=\"credential in vm.archive\" credential=\"credential\" org=\"org\" currently-editing=\"ctrl.currentlyEditing\" save-credential=\"go.saveCredential\" delete-credential=\"go.deleteCredential\"></super-credential></div></div></div>"),e.put("components/super-document-editor/document-editor.html","<div class=\"super-document-editor\"><!-----------------------------\nView\n------------------------------><!-- FILE --><div class=\"flex-wrapper document-view\" ng-if=\"model.isFile && !vm.isEdit\"><div class=\"flex-item content\"><i class=\"file-icon\" role=\"presentation\" ss-icon-before=\"{{ vm.fileIcon }}\"></i> <a class=\"document\" href=\"#\" ng-click=\"go.downloadFile(model._fileId)\" ng-bind=\"model._name\" title=\"View {{ model._name }}\"></a><ul class=\"ss-pipe-children file-meta\"><li class=\"file-ext\">.{{vm.extension}} file</li><li class=\"file-date\">{{vm.fileDateUtc}}</li></ul></div><div class=\"document-actions\" ng-if=\"employeePermissions.props[categoryPermission].edit\"><button type=\"button\" ss-icon=\"pencil\" class=\"smp edit\" ng-click=\"vm.isEdit = true\" ng-disabled=\"\"></button></div></div><!-- WEB FORM --><div class=\"flex-wrapper document-view\" ng-if=\"!model.isFile && !vm.isEdit\"><div class=\"flex-item content\"><i class=\"file-icon\" role=\"presentation\" ss-icon-before=\"{{ vm.fileIcon }}\"></i> <a class=\"document\" href=\"#\" ng-bind=\"model._name\" ng-click=\"go.viewOnline(model._formInstanceId)\" title=\"View {{ model._name }}\"></a><ul class=\"ss-pipe-children file-meta\"><li class=\"file-ext\">Web Form</li><li class=\"file-date\">{{vm.fileDateUtc}}</li><li class=\"file-attachments\" ng-if=\"vm.filesOnInstance.length\"><span ss-icon=\"spinner\" ng-if=\"vm.loadingFiles\"></span><super-popover link=\"{{ vm.filesOnInstance.length }}\" ss-icon=\"paperclip\" ng-if=\"!vm.loadingFiles\" title=\"file attachments\"><p>UPLOADED FILES (<small>These files were uploaded by a user as part of a workflow step.</small>)</p><ul class=\"popover-step-list\" ng-repeat=\"file in vm.filesOnInstance\"><li ss-icon-before=\"{{ file.icon }}\" ng-bind=\"file.filename\" ng-click=\"go.downloadFile(file.id)\" title=\"click to download {{file.filename}}\"></li></ul><p><button ng-if=\"vm.filesOnInstance.length > 1\" ng-click=\"go.downloadFiles(vm.filesOnInstance)\">Download all {{ vm.filesOnInstance.length }} files</button></p></super-popover></li><li ng-if=\"featureFlags['fc_enhanced_denied_form_workflow'] && model._deniedInfo\"><span ng-if=\"!vm.validDeniedInfo\" class=\"denied\" ss-icon=\"thumbsdown-stripes\">Form Denied</span><super-popover ng-if=\"vm.validDeniedInfo\" class=\"denied\" link=\"Form Denied\" aria-label=\"Click here for denied info.\" ss-icon=\"thumbsdown-stripes\">Denied by {{model._deniedInfo.denier.name}}<br>Comments: {{model._deniedInfo.comments}}</super-popover></li></ul></div><div class=\"document-actions\" ng-if=\"employeePermissions.props[categoryPermission].edit\"><button type=\"button\" ss-icon=\"pencil\" class=\"smp edit\" ng-click=\"vm.isEdit = true\" ng-disabled=\"\"></button></div></div><!-----------------------------\nEdit\n------------------------------><form ng-if=\"vm.isEdit\" class=\"flex-wrapper document-edit\" ss-pending=\"vm.saving\" ng-submit=\"go.save()\" ss-validate-form><fieldset class=\"flex-item content\"><div class=\"flex-wrapper\"><i class=\"file-icon\" role=\"presentation\" ss-icon-before=\"{{ vm.fileIcon }}\"></i><div class=\"flex-item file-name\"><a class=\"document\" href=\"#\" ng-if=\"!model.isFile\" ng-bind=\"model._name\" ng-click=\"go.viewOnline(model._formInstanceId)\" title=\"View {{ model._name }}\"></a><super-input-text ng-if=\"model.isFile\" required=\"true\" ss-validate=\"validator.required(model._name, 'file name')\" model=\"model._name\" name=\"fileName\"></super-input-text></div><div class=\"flex-item file-category\"><super-select-list model=\"vm.webFormCategory\"><super-select-list-item type=\"heading\" label=\"'Personnel Documents'\"></super-select-list-item><super-select-list-item value=\"'0-' + cat.value\" label=\"cat.name\" ng-repeat=\"cat in vm.categoryEnums.personnel\" ng-if=\"employeePermissions.props[cat.properties.permission].view\"></super-select-list-item><super-select-list-item type=\"heading\" label=\"'Medical Documents'\"></super-select-list-item><super-select-list-item value=\"'1-' + cat.value\" label=\"cat.name\" ng-repeat=\"cat in vm.categoryEnums.medical\" ng-if=\"employeePermissions.props[cat.properties.permission].view\"></super-select-list-item></super-select-list></div></div></fieldset><fieldset class=\"document-actions\"><button type=\"submit\" class=\"save\" ss-icon=\"check\" title=\"Save\"></button> <button type=\"button\" class=\"cancel\" ss-icon=\"times\" ng-click=\"go.cancelEdit()\" title=\"Cancel\"></button> <button type=\"button\" class=\"delete\" ss-icon=\"trash-o\" ng-click=\"onRemove({$item: model})\" title=\"Delete\"></button></fieldset></form></div>"),e.put("components/super-emergency-contact/emergency-contact.html","<div class=\"super-emergency-contact\" ss-pending=\"vm.loading\"><form id=\"emergency-contacts\" ss-validate-form ng-submit=\"go.save()\" autocomplete=\"off\" ng-if=\"vm.permitted.emergencyContacts.view\"><div class=\"control-panel\" ng-if=\"vm.permitted.emergencyContacts.edit\"><super-button label=\"Edit Emergency\" ng-click=\"go.edit()\" ng-if=\"!vm.editMode\"></super-button><super-button label=\"Cancel\" ng-click=\"go.cancel()\" ng-if=\"vm.editMode\" is-disabled=\"vm.saving\"></super-button><super-button pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" ng-if=\"vm.editMode\"></super-button></div><div class=\"record\" data-qa=\"primary-contact\" ss-validate=\"go.validateOr(vm.primary)\"><h3>Primary Emergency Contact</h3><div class=\"row\"><ul class=\"record-list\"><li><super-input-text permissions=\"vm.permitted.emergencyContacts\" model=\"vm.primary._contactName\" edit-mode=\"vm.editMode\" label=\"Name\" name=\"contactName\"></super-input-text></li><li><super-select-list label=\"Relationship\" model=\"vm.primary._relationshipType\" permissions=\"vm.permitted.emergencyContacts\" edit-mode=\"vm.editMode\" default-option-value=\"-1\" include-default-option=\"true\" enum-type=\"relationshipTypes\"><super-select-list-item ng-repeat=\"option in vm.options\" value=\"option.value\" label=\"option.name\" ng-if=\"go.hideLabel(option.value)\"></super-select-list-item></super-select-list></li><li class=\"remove\"><super-button smp label=\"Clear\" ss-icon=\"times\" ss-pending=\"vm.removing\" ng-if=\"vm.editMode\" ng-click=\"go.clearContact(vm.primary)\"></super-button></li></ul></div><div class=\"row\"><ul class=\"record-list\"><li><super-input-text name=\"primaryPhonePersonal\" model=\"vm.primary._primaryPhone\" edit-mode=\"vm.editMode\" label=\"Phone Number - Personal\" mask=\"phone\" ss-validate=\"vm.validator.phone(vm.primary._primaryPhone, 'Phone Number')\" permissions=\"vm.permitted.emergencyContacts\"></super-input-text></li><li><super-input-text name=\"primaryPhoneWork\" model=\"vm.primary._alternatePhone\" edit-mode=\"vm.editMode\" label=\"Phone Number - Work\" mask=\"phone\" ss-validate=\"vm.validator.phone(vm.primary._alternatePhone, 'Phone Number')\" permissions=\"vm.permitted.emergencyContacts\"></super-input-text></li></ul></div></div><div class=\"record\" data-qa=\"secondary-contact\" ss-validate=\"go.validateOr(vm.secondary)\"><h3>Secondary Emergency Contact</h3><div class=\"row\"><ul class=\"record-list\"><li><super-input-text model=\"vm.secondary._contactName\" edit-mode=\"vm.editMode\" label=\"Name\" name=\"contactName\" permissions=\"vm.permitted.emergencyContacts\"></super-input-text></li><li><super-select-list label=\"Relationship\" model=\"vm.secondary._relationshipType\" permissions=\"vm.permitted.emergencyContacts\" edit-mode=\"vm.editMode\" default-option-value=\"-1\" include-default-option=\"true\" enum-type=\"relationshipTypes\"><super-select-list-item ng-repeat=\"option in vm.options\" value=\"option.value\" label=\"option.name\" permissions=\"vm.permitted.emergencyContacts\" ng-if=\"go.hideLabel(option.value)\"></super-select-list-item></super-select-list></li><li class=\"remove\"><super-button smp label=\"Clear\" ss-icon=\"times\" ss-pending=\"vm.removing\" ng-if=\"vm.editMode\" ng-click=\"go.clearContact(vm.secondary)\"></super-button></li></ul></div><div class=\"row\"><ul class=\"record-list\"><li><super-input-text name=\"secondaryPhonePersonal\" model=\"vm.secondary._primaryPhone\" edit-mode=\"vm.editMode\" label=\"Phone Number - Personal\" mask=\"phone\" ss-validate=\"vm.validator.phone(vm.secondary._primaryPhone, 'Phone Number')\" permissions=\"vm.permitted.emergencyContacts\"></super-input-text></li><li><super-input-text name=\"secondaryPhoneWork\" model=\"vm.secondary._alternatePhone\" edit-mode=\"vm.editMode\" label=\"Phone Number - Work\" mask=\"phone\" ss-validate=\"vm.validator.phone(vm.secondary._alternatePhone, 'Phone Number')\" permissions=\"vm.permitted.emergencyContacts\"></super-input-text></li></ul></div></div></form></div>"),e.put("components/super-employment-info/employment-info.html","<div class=\"super-employment-info\" ss-pending=\"vm.loading && !employeeVm.refreshing\"><div ng-class=\"{'edit-mode': vm.editMode}\" ng-if=\"vm.employee != null\"><form ng-submit=\"go.save()\" ss-validate-form><div class=\"control-panel\" ng-if=\"vm.anyFieldIsEditable\"><super-button ng-if=\"!vm.editMode\" label=\"Edit Employment\" ng-click=\"go.edit()\" data-test=\"edit\"></super-button><super-button ng-if=\"vm.editMode\" label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel\"></super-button><super-button ng-if=\"vm.editMode\" class=\"save-button\" type=\"submit\" pri label=\"Save\" data-test=\"save\"></super-button></div><div class=\"record\"><h3 class=\"section-heading\" ng-if=\"!featureFlags.global_fc_shared_employee\">Employment</h3><h3 class=\"section-heading\" ng-if=\"featureFlags.global_fc_shared_employee\" class=\"shared-emp-heading\">Frontline Central Employment Details</h3><p ng-if=\"featureFlags.global_fc_shared_employee\" class=\"shared-emp-disclaimer\">The following details are for Frontline Central only.</p><div class=\"gd-row\"><ul class=\"record-list\" ng-if=\"vm.permitted.hireDate.view || vm.permitted.seniorityDate.view || vm.permitted.tenureDate.view || vm.permitted.retirementSystem.view\"><li ng-if=\"vm.permitted.hireDate.view\"><super-input-text ng-if=\"!vm.editMode\" permissions=\"vm.permitted.hireDate\" model=\"vm.hireDateTxt\" label=\"Hire Date\"><span ng-bind=\"vm.hireDateTxt\" data-test=\"hire-date\"></span> <span ng-if=\"vm.hireDateTxt.length\" data-test=\"hire-date-from-now\">{{vm.hireDateTxt | fromNow:'days':'Y[y] / M[m] / D[d]'}}</span></super-input-text><super-input-datepicker ng-if=\"vm.editMode\" class=\"hire-date\" permissions=\"vm.permitted.hireDate\" model=\"vm.hireDateTxt\" label=\"Hire Date\" edit-mode=\"vm.editMode\" data-test=\"hire-date\"></super-input-datepicker><span ng-if=\"vm.editMode && vm.hireDateTxt.length\" data-test=\"hire-date-from-now\">{{vm.hireDateTxt | fromNow:'days':'Y[y] / M[m] / D[d]'}}</span></li><li ng-if=\"vm.permitted.seniorityDate.view\"><super-input-datepicker permissions=\"vm.permitted.seniorityDate\" model=\"vm.seniorityDateTxt\" label=\"Seniority Date\" edit-mode=\"vm.editMode\" data-test=\"seniority-date\"></super-input-datepicker></li><li ng-if=\"vm.permitted.tenureDate.view\"><super-input-datepicker permissions=\"vm.permitted.tenureDate\" model=\"vm.tenureDateTxt\" label=\"Tenure Date\" edit-mode=\"vm.editMode\" data-test=\"tenure-date\"></super-input-datepicker></li><li ng-if=\"vm.permitted.retirementSystem.view\"><super-single-filter-list label=\"Retirement System\" items=\"vm.retirementSystems\" model=\"vm.employee._retirementSystem.id\" edit-mode=\"vm.editMode && vm.permitted.retirementSystem.edit\" databind-name=\"name\" databind-value=\"value\" include-none-option=\"false\" data-test=\"retirement-system\"></super-single-filter-list></li></ul></div><div class=\"gd-row\" ng-if=\"featureFlags.hasStateEducatorIdonEmployment && vm.permitted.stateEducatorId.view\"><ul class=\"record-list\"><li class=\"educator-id\" ss-hide-when-empty><super-input-text permissions=\"vm.permitted.stateEducatorId\" edit-mode=\"vm.editMode\" model=\"vm.employee._stateEducatorId\" label=\"State Educator ID\" name=\"educator-id\" id=\"external-id\" aria-label=\"educator id\" ss-validate=\"validator.educatorId(vm.employee._stateEducatorId)\" data-test=\"state-educator-id\"></super-input-text></li></ul></div></div><div class=\"record\" ng-if=\"vm.permitted.supervisor.view\"><super-supervisors employee=\"vm.employee\" edit-mode=\"vm.editMode\" org=\"vm.org\"></super-supervisors></div><div class=\"record\" ng-if=\"vm.permitted.statusHistory.view\"><super-status-group employee=\"vm.employee\" edit-mode=\"vm.editMode\" org=\"vm.org\"></super-status-group></div><div class=\"record\" ng-if=\"!vm.loading && vm.permitted.assignments.view\"><super-assignment-list employee=\"vm.employee\" edit-mode=\"vm.editMode\" org=\"vm.org\" positions=\"vm.positions\" on-load=\"go.assignmentsAreLoaded($loaded)\"></super-assignment-list></div><div class=\"record\" ng-if=\"vm.permitted.supplementals.view && featureFlags.fc_feb_2021_enable_employee_supplementals\"><super-supplemental-list employee=\"vm.employee\" edit-mode=\"vm.editMode\" org=\"vm.org\" supplementals=\"vm.supplementals\"></super-supplemental-list></div></form></div></div>"),e.put("components/super-input-ssn/input-ssn.html","<div class=\"super-input-ssn\" ng-class=\"{'showing-value': vm.showValue, 'has-value': hasValue}\"><!-- We have a value and are showing it in edit mode --><super-input-text mask=\"ssn\" ng-show=\"hasValue && vm.showValue\" edit-mode=\"vm.editMode\" model=\"cmpt.model\" permissions=\"vm.permissions\" name=\"{{name}}\" input-id=\"{{inputId}}\" placeholder=\"{{placeholder}}\" label=\"{{label}}\" label-weight=\"{{labelWeight}}\" required=\"required\" is-disabled=\"isDisabled\"></super-input-text><!-- We have a value and are not showing it. Show stars --><super-input-text ng-show=\"hasValue && !vm.showValue\" edit-mode=\"false\" model=\"vm.redactedValue\" permissions=\"vm.permissions\" name=\"{{name}}\" input-id=\"{{inputId}}\" placeholder=\"{{placeholder}}\" label=\"{{label}}\" label-weight=\"{{labelWeight}}\" required=\"required\" is-disabled=\"isDisabled\"></super-input-text><!-- We do not have a value. Use super-input-text as is --><super-input-text mask=\"ssn\" ng-if=\"!hasValue\" edit-mode=\"vm.editMode\" model=\"cmpt.model\" permissions=\"vm.permissions\" name=\"{{name}}\" input-id=\"{{inputId}}\" placeholder=\"{{placeholder}}\" label=\"{{label}}\" label-weight=\"{{labelWeight}}\" required=\"required\" is-disabled=\"isDisabled\"></super-input-text><super-button smp label=\"View\" ss-icon=\"eye\" ng-click=\"go.get()\" ng-if=\"!vm.loading && hasValue && !vm.showValue\"></super-button><super-button smp label=\"View\" ss-icon=\"spinner\" is-disabled=\"true\" ng-if=\"vm.loading\"></super-button></div>"),e.put("components/super-medical-documents/medical-documents.html","<div class=\"super-medical-documents\"><super-employee-documents employee-id=\"vm.employeeId\" category-id=\"1\"></super-employee-documents></div>"),e.put("components/super-personal-info/personal-info.html","<div class=\"super-personal-info\"><super-personal-info-new employee-id=\"employeeId\" on-before-save=\"onBeforeSave()\" on-after-save=\"onAfterSave()\" on-before-cancel=\"onBeforeCancel()\" on-after-cancel=\"onAfterCancel()\"></super-personal-info-new></div>"),e.put("components/super-personal-info-new/personal-info-new.html","<div class=\"super-personal-info-new\" ss-pending=\"vm.loading\"><form ng-if=\"vm.emp\" ss-validate-form ng-submit=\"go.save()\" autocomplete=\"off\" ng-class=\"{'is-editing': vm.editMode.personal || vm.editMode.addresses || vm.editMode.emails || vm.editMode.phones}\"><div ng-if=\"vm.emp.hasPlatformSyncIssue\" class=\"error-banner\" role=\"alert\" aria-live=\"polite\">{{vm.emp.platformSyncMessage}}<super-button smp ng-if=\"go.canEdit('personal')\" ng-click=\"go.syncOrgPerson()\" ss-pending=\"vm.saving\" label=\"Select sync to resolve.\"></super-button></div><div class=\"heading\" ng-if=\"vm.editMode.all\"><super-button label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel-all\"></super-button><super-button pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" data-test=\"save-all\"></super-button></div><section class=\"personal\" aria-labelledby=\"personal-heading\" tabindex=\"0\" data-test=\"section-personal\"><div class=\"control-panel\" ng-if=\"go.canEdit('personal')\"><super-button ng-if=\"!vm.editMode.personal\" ng-disabled=\"go.isEditDisabled('personal')\" label=\"Edit\" ng-click=\"go.edit('personal')\" title=\"Edit your personal details\" data-test=\"edit-personal\"></super-button><super-button ng-if=\"vm.editMode.personal && !vm.editMode.all\" label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel-personal\" is-disabled=\"vm.saving\"></super-button><super-button ng-if=\"vm.editMode.personal && !vm.editMode.all\" pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" data-test=\"save-personal\"></super-button></div><div class=\"record personal-record\"><h3 id=\"personal-heading\">Personal</h3><div class=\"gd-row\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-20p\" ss-hide-when-empty><super-select-list permissions=\"vm.permitted.title\" label=\"Title\" model=\"vm.emp._title\" enum-type=\"salutation\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"title\"><super-select-list-item ng-repeat=\"option in vm.options.title\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li><li class=\"gd-20p\" ss-hide-when-empty><super-input-text label=\"First\" name=\"first\" input-id=\"first-name\" aria-label=\"first name\" model=\"vm.emp._firstName\" permissions=\"vm.permitted.firstName\" edit-mode=\"vm.editMode.personal\" ss-validate=\"validator.required(vm.emp._firstName, 'first name')\" data-test=\"first-name\"></super-input-text></li><li class=\"gd-20p\" ss-hide-when-empty><super-input-text label=\"Middle\" name=\"middle\" input-id=\"middle\" aria-label=\"middle name\" model=\"vm.emp._middleName\" edit-mode=\"vm.editMode.personal\" permissions=\"vm.permitted.middleName\" data-test=\"middle-name\"></super-input-text></li><li class=\"gd-20p\" ss-hide-when-empty><super-input-text label=\"Last\" name=\"last\" input-id=\"last\" aria-label=\"last name\" permissions=\"vm.permitted.lastName\" model=\"vm.emp._lastName\" edit-mode=\"vm.editMode.personal\" ss-validate=\"validator.required(vm.emp._lastName, 'last name')\" data-test=\"last-name\"></super-input-text></li><li class=\"gd-20p\" ss-hide-when-empty><super-select-list input-id=\"suffix\" permissions=\"vm.permitted.suffix\" label=\"Suffix\" model=\"vm.emp._suffix\" enum-type=\"suffix\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"suffix\"><super-select-list-item ng-repeat=\"option in vm.options.suffix\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li></ul></div><div class=\"gd-row\" ng-if=\"!vm.editMode.personal\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-50p\" ss-hide-when-empty ng-if=\"featureFlags.fc_apr_2021_enable_preferred_staff_member_name\"><super-input-text label=\"Preferred Name\" input-id=\"preferred-name\" name=\"preferred-name\" ss-validate=\"validator.preferredName(vm.emp._preferredName)\" aria-label=\"preferred name\" model=\"vm.emp._preferredName\" edit-mode=\"vm.editMode.personal\" permissions=\"vm.permitted.preferredName\" data-test=\"preferred-name\"></super-input-text></li><li class=\"gd-50p\" ss-hide-when-empty><super-input-text label=\"Other/Maiden Name (if applicable)\" input-id=\"alias-name\" name=\"alias-name\" aria-label=\"alias name\" model=\"vm.emp.aliasName\" edit-mode=\"vm.editMode.personal\" permissions=\"vm.permitted.aliasLastName\" data-test=\"alias-name\"></super-input-text></li></ul></div><div class=\"gd-row\" ng-if=\"vm.editMode.personal\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-25p\" ss-hide-when-empty ng-if=\"featureFlags.fc_apr_2021_enable_preferred_staff_member_name\"><super-input-text label=\"Preferred Name\" input-id=\"preferred-name\" name=\"preferred-name\" ss-validate=\"validator.preferredName(vm.emp._preferredName)\" aria-label=\"preferred name\" model=\"vm.emp._preferredName\" edit-mode=\"vm.editMode.personal\" permissions=\"vm.permitted.preferredName\" data-test=\"preferred-name\"></super-input-text></li><li class=\"gd-25p\" ss-hide-when-empty><super-input-text input-id=\"alias-first-name\" permissions=\"vm.permitted.aliasFirstName\" model=\"vm.emp._aliasFirstName\" label=\"Other/Maiden Name First\" edit-mode=\"vm.editMode.personal\" aria-label=\"Other/Maiden name first\" name=\"aliasFirstName\" data-test=\"alias-first-name\"></super-input-text></li><li class=\"gd-25p\" ss-hide-when-empty><super-input-text input-id=\"alias-first-middle\" permissions=\"vm.permitted.aliasMiddleName\" model=\"vm.emp._aliasMiddleName\" label=\"Other/Maiden Name Middle\" edit-mode=\"vm.editMode.personal\" aria-label=\"Other/Maiden name middle\" name=\"aliasMiddleName\" data-test=\"alias-middle-name\"></super-input-text></li><li class=\"gd-25p\" ss-hide-when-empty><super-input-text input-id=\"alias-first-last\" permissions=\"vm.permitted.aliasLastName\" model=\"vm.emp._aliasLastName\" label=\"Other/Maiden Name Last\" edit-mode=\"vm.editMode.personal\" aria-label=\"Other/Maiden name last\" name=\"aliasLastName\" data-test=\"alias-last-name\"></super-input-text></li></ul></div><div class=\"gd-row\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-25p birth-date\" ss-hide-when-empty><ul role=\"none\" class=\"gd-row\" ss-hide-when-empty><li class=\"gd-75p\" ss-hide-when-empty><super-input-datepicker input-id=\"birthday\" permissions=\"vm.permitted.birthDateUtc\" model=\"vm.birthDateTxt\" label=\"Birth Date\" edit-mode=\"vm.editMode.personal\" aria-label=\"birth date\" name=\"birthDate\" data-test=\"birth-date\"></super-input-datepicker></li><li class=\"gd-25p\" ss-hide-when-empty><super-input-text ng-if=\"!vm.editMode.personal && vm.birthDateTxt != null\" permissions=\"vm.permitted.age\" model=\"vm.emp._age\" label=\"Age\" aria-label=\"Age\" edit-mode=\"vm.editMode.personal\" name=\"age\" input-id=\"age\" data-test=\"age\"></super-input-text></li></ul></li><li class=\"gd-50p\" ss-hide-when-empty><div class=\"qa-validate-ssn-externalid\" ss-validate=\"go.validateOr([vm.emp._sSN, vm.emp._externalId])\" ss-hide-when-empty><ul role=\"none\" class=\"gd-row\"><li class=\"gd-50p\" ss-hide-when-empty><super-input-ssn model=\"vm.emp._sSN\" employee-id=\"{{vm.emp.id}}\" has-value=\"vm.emp._hasSsn\" edit-mode=\"vm.editMode.personal\" label=\"Social Security #\" name=\"ssn\" input-id=\"ssn\" ss-validate=\"go.validateSSN()\" permissions=\"vm.permitted.ssn\" aria-label=\"Social security number\" data-test=\"ssn\"></super-input-ssn></li><li class=\"gd-50p\" ss-hide-when-empty><super-input-text permissions=\"vm.permitted.externalId\" model=\"vm.emp._externalId\" required=\"$scope.featureFlags['isHRMSEnabled']\" label=\"Staff ID\" name=\"external-id\" data-test=\"external-id\" edit-mode=\"vm.editMode.personal\" input-id=\"external-id\" aria-label=\"Staff ID\" ss-validate=\"validator.externalId(vm.emp._externalId, 'Staff ID')\"></super-input-text></li></ul></div></li><li class=\"gd-25p educator-id\" ss-hide-when-empty ng-if=\"featureFlags.hasStateEducatorIdonPersonal\"><super-input-text permissions=\"vm.permitted.stateEducatorId\" model=\"vm.emp._stateEducatorId\" label=\"State Educator ID\" name=\"state-educator-id\" data-test=\"state-educator-id\" input-id=\"state-educator-id\" edit-mode=\"vm.editMode.personal\" aria-label=\"state educator id\" ss-validate=\"validator.educatorId(vm.emp._stateEducatorId)\"></super-input-text></li></ul></div><div class=\"gd-row\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-20p\" ss-hide-when-empty><super-select-list permissions=\"vm.permitted.maritalStatus\" label=\"Marital Status\" model=\"vm.emp._maritalStatus\" enum-type=\"maritalStatus\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"marital-status\"><super-select-list-item ng-repeat=\"option in vm.options.maritalStatus\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li><li class=\"gd-20p\" ss-hide-when-empty><super-select-list permissions=\"vm.permitted.gender\" label=\"Gender\" model=\"vm.emp._gender\" enum-type=\"gender\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"gender\"><super-select-list-item ng-repeat=\"option in vm.options.gender\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li><li class=\"gd-25p\" ss-hide-when-empty><super-select-list permissions=\"vm.permitted.ethnicity\" label=\"Ethnicity\" model=\"vm.emp._ethnicity\" enum-type=\"ethnicity\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"ethnicity\"><super-select-list-item ng-repeat=\"option in vm.options.ethnicity\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></li><li class=\"gd-35p\" ss-hide-when-empty><super-select-list ng-if=\"vm.permitted.race.view && !featureFlags.fc_enable_multiple_races\" permissions=\"vm.permitted.race\" label=\"Race\" model=\"vm.emp._race\" enum-type=\"race\" edit-mode=\"vm.editMode.personal\" include-default-option=\"true\" data-test=\"race\"><super-select-list-item ng-repeat=\"option in vm.options.race\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list><super-combo-select-list ng-if=\"vm.permitted.race.view && featureFlags.fc_enable_multiple_races\" label=\"Race\" model=\"vm.emp._multipleRaces\" edit-mode=\"vm.editMode.personal\" permissions=\"vm.permitted.race\"><super-combo-select-list-item ng-repeat=\"race in vm.options.race\" option=\"race\"></super-combo-select-list-item></super-combo-select-list></li></ul></div></div></section><section class=\"addresses\" aria-labelledby=\"address-heading\" tabindex=\"0\" ng-if=\"vm.permitted.addresses.view\" data-test=\"section-addresses\"><div class=\"control-panel\" ng-if=\"go.canEdit('addresses')\"><super-button ng-if=\"!vm.editMode.addresses\" ng-disabled=\"go.isEditDisabled('addresses')\" label=\"Edit\" ng-click=\"go.edit('addresses')\" title=\"Edit your address\" data-test=\"edit-addresses\"></super-button><super-button ng-if=\"vm.editMode.addresses && !vm.editMode.all\" label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel-addresses\"></super-button><super-button ng-if=\"vm.editMode.addresses && !vm.editMode.all\" pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" data-test=\"save-addresses\"></super-button></div><div class=\"record address-record\"><super-address-list addresses=\"vm.emp._addresses\" edit-mode=\"vm.editMode.addresses\" org=\"vm.org\" permissions=\"vm.permitted.addresses\"></super-address-list></div></section><section class=\"emails\" aria-labelledby=\"emails-heading\" tabindex=\"0\" ng-if=\"vm.permitted.organizationEmails.view || vm.permitted.personalEmails.view\" data-test=\"save-emails\"><div class=\"control-panel\" ng-if=\"go.canEdit('emails')\"><super-button ng-if=\"!vm.editMode.emails\" ng-disabled=\"go.isEditDisabled('emails')\" label=\"Edit\" ng-click=\"go.edit('emails')\" title=\"Edit your emails\" data-test=\"edit-emails\"></super-button><super-button ng-if=\"vm.editMode.emails && !vm.editMode.all\" label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel-emails\"></super-button><super-button ng-if=\"vm.editMode.emails && !vm.editMode.all\" pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" data-test=\"save-emails\"></super-button></div><div class=\"record contact-record\"><h3>Emails</h3><div class=\"gd-row\" ss-hide-when-empty><ul class=\"record-list\" ss-hide-when-empty><li class=\"gd-50p\" ss-hide-when-empty><super-input-text input-id=\"work-email\" permissions=\"vm.permitted.organizationEmails\" model=\"vm.emp.workEmail._emailAddress\" label=\"Organization Email\" data-test=\"email-organization\" edit-mode=\"vm.editMode.emails\" aria-label=\"organization email\" ss-validate=\"validator.email(vm.emp.workEmail._emailAddress, 'Organization Email')\"></super-input-text></li><li class=\"gd-50p\" ss-hide-when-empty><super-input-text input-id=\"personal-email\" permissions=\"vm.permitted.personalEmails\" model=\"vm.emp.personalEmail._emailAddress\" label=\"Personal Email\" data-test=\"email-personal\" edit-mode=\"vm.editMode.emails\" aria-label=\"personal email\" ss-validate=\"validator.email(vm.emp.personalEmail._emailAddress, 'Personal Email')\"></super-input-text></li></ul></div></div></section><section class=\"phones\" aria-labelledby=\"phones-heading\" tabindex=\"0\" ng-if=\"vm.permitted.organizationPhoneNumbers.view || vm.permitted.personalPhoneNumbers.view\" data-test=\"save-phones\"><div class=\"control-panel\" ng-if=\"go.canEdit('phones')\"><super-button ng-if=\"!vm.editMode.phones\" ng-disabled=\"go.isEditDisabled('phones')\" label=\"Edit\" ng-click=\"go.edit('phones')\" title=\"Edit your phones\" data-test=\"edit-phones\"></super-button><super-button ng-if=\"vm.editMode.phones && !vm.editMode.all\" label=\"Cancel\" ng-click=\"go.cancel()\" data-test=\"cancel-phones\"></super-button><super-button ng-if=\"vm.editMode.phones && !vm.editMode.all\" pri label=\"Save\" type=\"submit\" ss-pending=\"vm.saving\" data-test=\"save-phones\"></super-button></div><div class=\"record\"><super-phone-list phones=\"vm.emp._phoneNumbers\" edit-mode=\"vm.editMode.phones\" permissions=\"vm.permitted\"></super-phone-list></div></section></form></div>"),e.put("components/super-personnel-documents/personnel-documents.html","<div class=\"super-personnel-documents\"><super-employee-documents employee-id=\"vm.employeeId\" category-id=\"0\"></super-employee-documents></div>"),e.put("components/super-phone/phone.html","<div class=\"super-phone\" data-test=\"phone\"><super-grid-cell><super-select-list model=\"phone._usageType\" enum-type=\"usageType\" ss-validate=\"validator.required(phone._usageType, 'Usage Type')\" edit-mode=\"phone.isEditing\" include-default-option=\"true\" default-option-value=\"\"><super-select-list-item ng-repeat=\"option in vm.usageTypes | filter: go.filterUsageTypes\" value=\"option.value\" label=\"option.name\"></super-select-list-item></super-select-list></super-grid-cell><super-grid-cell><super-input-text data-cy=\"edit-number\" placeholder=\"Phone Number\" model=\"phone._number\" ss-validate=\"validator.phoneNumber(phone._number, 'Phone Number')\" edit-mode=\"phone.isEditing\" mask=\"phone\"></super-input-text></super-grid-cell><super-grid-cell><super-input-text data-cy=\"edit-ext\" placeholder=\"Extension\" model=\"phone._extension\" edit-mode=\"phone.isEditing\"></super-input-text></super-grid-cell><super-grid-cell><span ss-icon-before=\"check\" ng-if=\"phone._canReceiveTexts && !phone.isEditing\"></span><super-input-checkbox data-cy=\"edit-can-receive-texts\" placeholder=\"Can Receive Texts\" model=\"phone._canReceiveTexts\" edit-mode=\"phone.isEditing\" ng-if=\"phone.isEditing\"></super-input-checkbox></super-grid-cell><super-grid-cell><span ss-icon-before=\"check\" ng-if=\"phone._isPrimary && !phone.isEditing\"></span><super-input-checkbox data-cy=\"edit-primary\" placeholder=\"Primary\" model=\"phone._isPrimary\" edit-mode=\"phone.isEditing\" ng-if=\"phone.isEditing\"></super-input-checkbox></super-grid-cell><super-grid-cell class=\"actions\"><button type=\"button\" class=\"edit\" ng-click=\"go.edit()\" data-cy=\"edit\" ng-if=\"go.canEditUsageType(phone._usageType) && editMode && !phone.isEditing\">Edit</button> <button type=\"button\" class=\"cancel\" ss-icon=\"times\" title=\"Cancel\" ng-click=\"go.cancel()\" data-cy=\"cancel\" ng-if=\"phone.isEditing\"></button> <button type=\"button\" class=\"delete\" ss-icon=\"trash-o\" title=\"Delete\" ng-click=\"go.remove()\" data-cy=\"delete\" ng-if=\"phone.id && phone.isEditing\"></button></super-grid-cell></div>"),e.put("components/super-phone-list/phone-list.html","<div class=\"super-phone-list\" data-test=\"phone-list\"><div><h3 id=\"phones-heading\">Phones</h3><super-button smp ng-if=\"vm.editMode\" label=\"Add New Phone\" ng-click=\"go.add()\" ss-icon=\"plus-circle\" data-test=\"phone-add\"></super-button></div><super-grid ss-pending=\"vm.loading\"><grid-header><super-grid-column>Usage Type</super-grid-column><super-grid-column width=\"35%\">Phone Number</super-grid-column><super-grid-column width=\"80px\">Extension</super-grid-column><super-grid-column>Can Receive Texts</super-grid-column><super-grid-column width=\"80px\">Primary</super-grid-column><super-grid-column width=\"80px\">Actions</super-grid-column></grid-header><grid-rows><super-grid-row ng-repeat=\"phone in phones\"><super-phone permissions=\"permissions\" phone=\"phone\" on-remove=\"go.onRemove($index)\" on-check=\"go.onCheck($index)\" edit-mode=\"vm.editMode\"></super-phone></super-grid-row><super-grid-row ng-if=\"!phones.length\"><super-grid-cell><super-input-text model=\"'No phones were found.'\" edit-mode=\"false\"></super-input-text></super-grid-cell></super-grid-row></grid-rows></super-grid></div>"),e.put("components/super-status-group/status-group.html","<div class=\"super-status-group employee-status-group\" ss-validate=\"go.validate()\" data-test=\"statues\"><h3 class=\"section-heading\" ng-if=\"vm.currentStatus || vm.pastStatuses.length || vm.futureStatuses.length || editMode\" data-test=\"current-displayed-status\">Status<span ng-if=\"hasCurrentStatus && vm.currentStatus && vm.currentStatus.name\">- <span ng-bind=\"vm.currentStatus.name\"></span></span></h3><super-button smp label=\"Add Status Change\" ng-click=\"go.addStatus()\" ss-icon=\"plus-circle\" ng-if=\"vm.editMode\" class=\"add-status\" data-test=\"add-status\"></super-button><div class=\"gd-row new-status-group\" ng-if=\"vm.newStatuses.length\"><super-status-item org=\"org\" class=\"status-new\" data-test=\"new-status\" label=\"New Status\" edit-mode=\"vm.editMode\" ng-repeat=\"status in vm.newStatuses\" on-remove=\"go.removeStatus(status, vm.newStatuses)\" status=\"status\" editable=\"true\" type=\"new\"></super-status-item></div><div class=\"gd-row future-status-group\" ng-if=\"vm.futureStatuses.length\"><super-status-item org=\"org\" class=\"status-future\" data-test=\"future-status\" label=\"Future Status\" edit-mode=\"vm.editMode\" ng-repeat=\"status in vm.futureStatuses\" on-remove=\"go.removeStatus(status, vm.futureStatuses)\" status=\"status\" type=\"future\"></super-status-item></div><div class=\"gd-row current-status-group\" ng-if=\"vm.hasCurrentStatus\"><super-status-item org=\"org\" class=\"status-current\" data-test=\"current-status\" label=\"Current Status\" edit-mode=\"vm.editMode\" status=\"vm.currentStatus\" on-remove=\"go.removeStatus(vm.currentStatus, vm.newStatuses)\" type=\"current\"></super-status-item></div><div class=\"gd-row current-status-group\" ng-if=\"!vm.hasCurrentStatus && !vm.editMode\"><super-status-item org=\"org\" class=\"status-no-current\" data-test=\"no-status\" label=\"Current Status\" edit-mode=\"vm.editMode\" status=\"vm.currentStatus\" type=\"none\"></super-status-item></div><div class=\"gd-row past-status-group\" ng-if=\"vm.pastStatuses.length\"><button type=\"button\" class=\"smp show-hide-details {{ (vm.expanded) ? 'fa-angle-up-after' : 'fa-angle-down-after' }}\" data-test=\"past-status-toggle\" ng-click=\"vm.expanded = !vm.expanded\">Past Statuses</button><div class=\"past-status-toggle\" ng-show=\"vm.expanded\"><super-status-item org=\"org\" class=\"status-past\" data-test=\"past-status\" label=\"Past Status\" edit-mode=\"vm.editMode\" ng-repeat=\"status in vm.pastStatuses\" on-remove=\"go.removeStatus(status, vm.pastStatuses)\" status=\"status\" type=\"past\"></super-status-item></div></div></div>"),e.put("components/super-status-item/status-item.html","<div class=\"super-status-item {{vm.classes}}\" data-test-id=\"{{ status.id }}\" data-test-type=\"status\"><label class=\"status-label\" ng-bind=\"label\" ng-if=\"type === 'none'\" data-test=\"status-label\"></label><div ng-if=\"!vm.editable\"><div class=\"view-status\"><div ng-if=\"type !== 'none' && type !== 'new'\"><div ng-bind=\"vm.tagText\" class=\"ss-tag\" data-test=\"status-tag\" ng-class=\"{'ss-tag-positive': type === 'current', 'ss-tag-primary': type === 'future'}\"></div></div><span class=\"status-name none\" ng-if=\"status._statusId === enumEmployeeStatus.noStatus\" data-test=\"status-name\">None</span> <span class=\"status-name\" ng-if=\"status._statusId !== enumEmployeeStatus.noStatus\" data-test=\"status-name\">{{status._statusId | enumByValue:'employeeStatus'}}</span> <span ng-if=\"type === 'none' && vm.startDateTxt\">as of</span> <span ng-if=\"type === 'current'\">from</span> <span ng-if=\"type === 'future'\">starting on</span> <span data-test=\"status-start-date\">{{ vm.startDateTxt | date: 'MM/dd/yyyy'}}</span> <span ng-if=\"type !== 'none' && vm.endDateTxt && vm.endDateTxt.length\" data-test=\"status-end-date\">&ndash; {{ vm.endDateTxt | date: 'MM/dd/yyyy'}}</span><super-button ng-if=\"editMode\" smp class=\"edit\" label=\"Edit / Make Correction\" ng-click=\"go.open()\" data-test=\"status-edit\"></super-button><super-button ng-if=\"editMode && go.showRemove()\" smp class=\"remove\" label=\"Delete\" ng-click=\"go.remove()\" ss-icon=\"times\" data-test=\"status-remove\"></super-button></div><div class=\"view-reason\" ng-if=\"vm.currentChangeReason\" data-test=\"status-reason\"><span>Reason:&nbsp;</span><span ng-bind=\"vm.currentChangeReason\"></span></div></div><div ng-if=\"vm.editable\"><super-select-list class=\"status\" model=\"status._statusId\" ss-validate=\"validator.required(status._statusId, 'status type')\" data-test=\"status-type\"><super-select-list-item value=\"stat.value\" label=\"stat.name\" ng-repeat=\"stat in enumEmployeeStatus.getEnums()\" ng-if=\"stat.value !== enumEmployeeStatus.noStatus\"></super-select-list-item></super-select-list><span class=\"edit-from\">from</span> <span class=\"edit-from-date\"><super-input-datepicker model=\"vm.startDateTxt\" ss-validate=\"go.validateStart()\" data-test=\"status-start-date\"></super-input-datepicker></span><span class=\"edit-to\">to</span> <span class=\"edit-to-date\"><super-input-datepicker model=\"vm.endDateTxt\" ss-validate=\"go.validateEnd()\" data-test=\"status-end-date\"></super-input-datepicker></span><super-select-list class=\"reason\" ng-if=\"status._statusId >= 0 && status._statusId !== 1\" model=\"status._statusChangeReasonId\" data-test=\"status-reason\"><super-select-list-item value=\"r.value\" label=\"r.name\" ng-repeat=\"r in vm.changeReasons\"></super-select-list-item></super-select-list><super-button smp class=\"cancel\" label=\"Cancel\" ng-click=\"go.cancel()\" ss-icon=\"times\" data-test=\"status-cancel\"></super-button></div></div>"),e.put("components/super-supervisor/supervisor.html","<div class=\"super-supervisor {{editMode ? 'edit-mode' : ''}}\" data-test-id=\"{{supervisor.id}}\" data-test-type=\"supervisor\"><div class=\"supervisor-record\" data-test=\"supervisor-name\" ng-if=\"editMode\"><span class=\"segment\" ng-if=\"vm.isNewSupervisor\"><super-employee-search model=\"vm.supervisorHolder\" limit=\"1\" use-pill=\"false\" remove-by-id=\"{{employee.id}}\" ss-validate=\"go.validateNewSupervisor(vm.supervisorHolder)\" placeholder=\"Search staff members...\"></super-employee-search></span><span class=\"segment\" ng-if=\"!vm.isNewSupervisor\">{{supervisor._firstName}} {{supervisor._lastName}}</span> <span class=\"segment\">{{vm.endDateTxt === null ? 'as of' : 'from'}}</span> <span class=\"segment\" ss-validate=\"go.validateDates(supervisor._from, supervisor._to)\"><span ng-if=\"!supervisor.hasForeverPast && !vm.isNewSupervisor\" data-test=\"supervisor-start-date\">{{vm.startDateTxt | date: 'MM/dd/yyyy'}}</span> <span ng-if=\"supervisor.hasForeverPast || vm.isNewSupervisor\"><super-input-datepicker permissions=\"vm.permitted.supervisors\" model=\"vm.startDateTxt\" placeholder=\"Start Date\" ss-validate=\"validator.required(vm.startDateTxt, 'Start Date')\" options=\"vm.dtPickerOpt\" edit-mode=\"editMode\" data-test=\"supervisor-start-date\"></super-input-datepicker></span><span class=\"segment\" ng-if=\"vm.endDateTxt !== null\">to</span> <span class=\"segment\"><super-input-datepicker permissions=\"vm.permitted.supervisors\" model=\"vm.endDateTxt\" placeholder=\"End Date\" edit-mode=\"editMode\" data-test=\"supervisor-end-date\"></super-input-datepicker></span></span></div><div class=\"supervisor-record\" ng-if=\"!editMode\"><p><span class=\"segment\">{{supervisor._firstName}} {{supervisor._lastName}}</span> <span class=\"segment\">{{vm.endDateTxt === null ? 'as of' : 'from'}}</span> <span class=\"segment\" ng-if=\"!supervisor.hasForeverPast\" data-test=\"supervisor-start-date\">{{vm.startDateTxt | date: 'MM/dd/yyyy'}}</span> <span class=\"segment\" ng-show=\"vm.endDateTxt !== null\">to</span> <span class=\"segment\" ng-if=\"vm.endDateTxt !== null\">{{vm.endDateTxt | date: 'MM/dd/yyyy'}}</span></p></div><div class=\"action\" ng-if=\"editMode\"><super-button smp label=\"Remove\" class=\"remove-supervisor\" data-test=\"supervisor-remove\" ng-click=\"go.removeSupervisor(supervisor)\" ss-icon=\"times\" is-disabled=\"disableRemove\"></super-button></div></div>"),e.put("components/super-supervisors/supervisors.html","<div class=\"super-supervisors\" data-test=\"supervisors\"><div ng-if=\"vm.canView\"><h3 class=\"section-heading\">Supervisor</h3><super-button smp class=\"add-supervisor\" label=\"Add New Supervisor\" ng-if=\"vm.editMode && vm.canEdit\" ng-click=\"go.addNewSupervisor()\" ss-icon=\"plus-circle\" is-disabled=\"vm.newSupervisor !== null && vm.currentSupervisor !== null\" data-test=\"add-supervisor\"></super-button><super-supervisor class=\"new-supervisor\" ng-if=\"vm.newSupervisor !== null\" title=\"New Supervisor\" supervisor=\"vm.newSupervisor\" employee=\"employee\" edit-mode=\"vm.editMode && vm.canEdit\" org=\"vm.org\" data-test=\"new-supervisor\"></super-supervisor><div class=\"no-supervisor\" ng-if=\"vm.currentSupervisor == null\" data-test=\"no-current-supervisor\">Currently no supervisor assigned.</div><div class=\"supervisor-group future-supervisors\" ng-if=\"vm.futureSupervisors.length\" data-test=\"future-supervisors\"><h4>Future Supervisor(s)</h4><ul><li ng-repeat=\"supervisor in vm.futureSupervisors\"><super-supervisor class=\"future-supervisor\" supervisor=\"supervisor\" employee=\"employee\" edit-mode=\"vm.editMode && vm.canEdit\" org=\"vm.org\" data-test=\"future-supervisor\" remove=\"go.removeSupervisor(supervisor,vm.futureSupervisors)\" disable-remove=\"vm.disableRemove\"></super-supervisor></li></ul></div><div class=\"supervisor-group\" ng-if=\"vm.currentSupervisor != null\"><h4>Current Supervisor</h4><super-supervisor class=\"current-supervisor\" title=\"Current Supervisor\" supervisor=\"vm.currentSupervisor\" employee=\"employee\" edit-mode=\"vm.editMode && vm.canEdit\" org=\"vm.org\" data-test=\"current-supervisor\" remove=\"go.removeSupervisor(vm.currentSupervisor)\" disable-remove=\"vm.disableRemove\"></super-supervisor></div><div ng-if=\"vm.pastSupervisors.length\"><div><button type=\"button\" class=\"smp show-hide-details {{ (vm.expanded) ? 'fa-angle-up-after' : 'fa-angle-down-after' }} ss-toggle-closed\" ng-click=\"vm.expanded = !vm.expanded\" data-test=\"past-supervisors-toggle\"><span>{{vm.expanded ? 'Hide' : 'View'}} Supervisor history</span></button></div><ul class=\"supervisor-group past-supervisors\" ng-show=\"vm.expanded\" data-test=\"past-supervisors\"><li ng-repeat=\"supervisor in vm.pastSupervisors\"><super-supervisor supervisor=\"supervisor\" employee=\"employee\" edit-mode=\"false\" org=\"vm.org\" data-test=\"past-supervisor\"></super-supervisor></li></ul></div></div></div>"),e.put("components/super-supplemental/supplemental.html","<div class=\"super-supplemental\" data-test-type=\"supplemental\" data-test-supplemental-id=\"{{supplemental.id}}\"><div class=\"create-supplemental\" ng-if=\"vm.editing\" ss-validate=\"validator.validate()\"><div class=\"supplemental-remove\"><super-button smp data-test=\"supplemental-remove\" ng-click=\"go.cancel()\" ss-icon=\"times\" title=\"Cancel\" ng-if=\"vm.editing\"></super-button><super-button ng-if=\"vm.mode === 'edit'  || vm.mode === 'delete'\" data-test=\"supplemental-delete\" ss-permitted=\"employeeSupplementals.SoftDelete\" ng-click=\"go.remove()\" ss-icon=\"trash-o\" title=\"Delete\"></super-button></div><div class=\"gd-row\"><ul class=\"record-list\"><li><super-single-filter-list edit-mode=\"vm.editing\" databind-name=\"_name\" databind-value=\"id\" class=\"supplemental-name\" data-test=\"supplemental-name\" label=\"Supplemental Name\" model=\"supplemental._supplementalId\" ss-validate=\"validator.required(supplemental._supplementalId, 'supplemental name')\" required=\"true\" items=\"vm.supplementalList\" include-none-option=\"false\"></super-single-filter-list></li><li><super-input-text required=\"true\" label=\"Total Amount\" class=\"amount\" data-test=\"amount\" type=\"number\" step=\"0.01\" model=\"supplemental._totalPayAmount\" edit-mode=\"vm.editing\" ss-validate=\"validator.amount(supplemental._totalPayAmount)\" ss-validate-message=\"Total Amount is required and must be a number less than 10,000,000\"></super-input-text></li><li><super-input-text required=\"true\" label=\"Number of Installments\" class=\"installments\" data-test=\"installments\" type=\"number\" step=\"1\" model=\"supplemental._totalInstallments\" edit-mode=\"vm.editing\" ss-validate=\"validator.installments(supplemental._totalInstallments)\" ss-validate-message=\"Number of Installments is required and must be a number less than 500\"></super-input-text></li></ul></div><div class=\"gd-row\"><ul class=\"record-list\"><li><super-input-datepicker edit-mode=\"vm.editing\" label=\"Dates\" placeholder=\"Start Date\" model=\"vm.startDateTxt\" class=\"supplemental-start-date\" required=\"true\" options=\"vm.dateOptions\" ss-validate=\"validator.required(vm.startDateTxt, 'start date')\" data-test=\"start-date\"></super-input-datepicker><span>&nbsp;-&nbsp;</span><super-input-datepicker edit-mode=\"vm.editing\" placeholder=\"End Date\" model=\"vm.endDateTxt\" class=\"supplemental-end-date\" required=\"true\" options=\"vm.dateOptions\" data-test=\"end-date\"></super-input-datepicker></li><li ng-if=\"featureFlags['fc_enable_contract_groups'] && vm.contractGroupList.length\"><super-single-filter-list label=\"Contract Group\" class=\"contract-group\" data-test=\"contract-group\" permissions=\"\" items=\"vm.contractGroupList\" model=\"supplemental._contractGroupId\" edit-mode=\"vm.editing\" include-none-option=\"true\"></super-single-filter-list></li><li><super-input-text required=\"false\" label=\"Ext. ID\" class=\"externalId\" data-test=\"externalId\" model=\"supplemental._externalId\" edit-mode=\"vm.editing\" ss-validate=\"validator.externalId(supplemental._externalId)\" ss-validate-message=\"ExternalId must not exceed 100 characters in length\"></super-input-text></li></ul></div></div><div class=\"view-supplemental\" ng-if=\"!vm.editing\"><div class=\"gd-row-edit\"><super-button ng-if=\"vm.mode==='edit' || vm.mode === 'delete'\" label=\"Edit\" ng-click=\"go.edit()\" ss-permitted=\"employeeSupplementals.Edit\" data-test=\"supplemental-edit\"></super-button></div><div class=\"gd-row\"><h4>{{supplemental.name}}</h4></div><div class=\"gd-row\"><ul class=\"record-list\"><li>{{supplemental._totalPayAmount | currency}}</li><li>{{supplemental._totalInstallments}}&nbsp;Installments</li><li>{{supplemental.reason}}</li><li>Contract Group:&nbsp;{{supplemental.contractGroup}}</li><li>Ext.&nbsp;ID:&nbsp;{{supplemental._externalId}}</li></ul></div><div class=\"gd-row\"><ul class=\"record-list\"><li><div ng-bind=\"vm.tagText\" class=\"ss-tag\" data-test=\"tag\" ng-class=\"{'ss-tag-positive': vm.isCurrent, 'ss-tag-primary': vm.isFuture}\"></div><span>&nbsp;&nbsp;{{vm.dateRange}}</span></li></ul></div></div></div>"),e.put("components/super-supplemental-list/supplemental-list.html","<div class=\"super-supplemental-list\" ss-pending=\"vm.loading\"><!-- Supplementals --><div class=\"record\" data-test=\"supplementals\"><h3>Supplementals</h3><super-button smp ng-if=\"vm.editMode\" ss-permitted=\"employeeSupplementals.Create\" ng-click=\"go.addSupplemental()\" label=\"Add New Supplemental\" ss-icon=\"plus-circle\" ng-disabled=\"vm.editingId != null\" data-test=\"add-supplemental\"></super-button><div class=\"no-supplementals\" ng-if=\"!vm.newSupplemental && !vm.currentSupplementals.length && !vm.futureSupplementals.length && !vm.pastSupplementals.length\" data-test=\"no-supplemental\">No Supplementals</div><!-- NEW supplemental --><super-supplemental ng-if=\"vm.newSupplemental\" supplemental=\"vm.newSupplemental\" mode=\"go.getMode(vm.newSupplemental)\" org=\"org\" permissions=\"vm.permissions\" menu-data=\"vm.menuData\" emp-supplementals=\"supplementals\" cancel=\"go.cancelSupplemental(vm.newSupplemental)\" remove=\"go.removeSupplemental(vm.newSupplemental)\" data-test=\"new-supplemental\"></super-supplemental><!-- FUTURE supplementals --><super-supplemental ng-if=\"vm.futureSupplementals.length\" supplemental=\"supplemental\" ng-repeat=\"supplemental in vm.futureSupplementals\" mode=\"go.getMode(supplemental)\" org=\"org\" permissions=\"vm.permissions\" menu-data=\"vm.menuData\" emp-supplementals=\"supplementals\" cancel=\"go.cancelSupplemental(supplemental)\" remove=\"go.removeSupplemental(supplemental,vm.futureSupplementals)\" data-test=\"future-supplemental\"></super-supplemental><!-- CURRENT supplementals --><super-supplemental ng-if=\"vm.currentSupplementals.length\" supplemental=\"supplemental\" ng-repeat=\"supplemental in vm.currentSupplementals\" mode=\"go.getMode(supplemental)\" org=\"org\" permissions=\"vm.permissions\" menu-data=\"vm.menuData\" emp-supplementals=\"supplementals\" cancel=\"go.cancelSupplemental(supplemental)\" remove=\"go.removeSupplemental(supplemental,vm.currentSupplementals)\" data-test=\"current-supplemental\"></super-supplemental><!-- PAST supplementals --><div ng-if=\"vm.pastSupplementals.length\"><button type=\"button\" class=\"smp show-hide-details {{ vm.pastSupplementalsExpanded ? 'fa-angle-up-after' : 'fa-angle-down-after' }} ss-toggle-closed\" ss-toggle=\"toggle-content\" ss-toggle-start-expanded=\"{{vm.pastSupplementalsExpanded}}\" ng-click=\"vm.pastSupplementalsExpanded = !vm.pastSupplementalsExpanded\" data-test=\"past-supplementals-toggle\">{{ vm.pastSupplementalsExpanded ? 'Hide' : 'View' }} Past Supplementals</button><div class=\"toggle-content\" data-test=\"past-supplementals\"><super-supplemental supplemental=\"supplemental\" ng-repeat=\"supplemental in vm.pastSupplementals\" mode=\"go.getMode(supplemental)\" org=\"org\" permissions=\"vm.permissions\" menu-data=\"vm.menuData\" emp-supplementals=\"supplementals\" cancel=\"go.cancelSupplemental(supplemental,vm.futureSupplementals)\" remove=\"go.removeSupplemental(supplemental,vm.pastSupplementals)\" data-test=\"past-supplemental\"></super-supplemental></div></div></div></div>"),e.put("components/super-two-column-list/two-column-list.html","<div class=\"super-two-column-list gd-row\"><div class=\"gd-25p\"><h4><label class=\"label\" ng-bind=\"vm.label\"></label></h4><h4><label class=\"label\" ng-if=\"!vm.hasLabel\">&nbsp;</label></h4></div><div class=\"gd-75p\" ng-transclude></div></div>")}])})();var s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var s=0,a;s<t.length;s++)a=t[s],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e},r=function(){function e(e,t){var s=[],a=!0,i=!1,n=void 0;try{for(var r=e[Symbol.iterator](),d;!(a=(d=r.next()).done)&&(s.push(d.value),!(t&&s.length===t));a=!0);}catch(e){i=!0,n=e}finally{try{!a&&r["return"]&&r["return"]()}finally{if(i)throw n}}return s}return function(t,s){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)},l=function e(t,a){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};s(this,e),this.restrict="E",this.replace=!0,this.scope=t,this.templateUrl="components/super-"+a+"/"+a+".html",Object.assign(this,i)},o={addresses:"=",editMode:"=?",org:"=",permissions:"="},p={};angular.module("super-suit-components").directive("superAddressList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","moment","ssAsync","ssEnum","ssDateHlp","ssDateByOrgHlp","ssEmployeeModelHlp","ssValidationHlp",function(e,t,s,a,i,n,r,d){function l(){if(0<e.addresses.length){var t=e.addresses.filter(function(e){return e._addressType===a.addressType.home});return m.future=t.find(function(t){return n.isInFuture({obj:t,fromProp:"_from",toProp:"_to",org:e.org})}),m.current=t.find(function(t){return n.isCurrent({obj:t,fromProp:"_from",toProp:"_to",org:e.org})}),m.past=t.filter(function(t){return n.isInPast({obj:t,fromProp:"_from",toProp:"_to",org:e.org})}).sort(function(e,t){return new Date(t._from)-new Date(e._from)}),o(m.future),o(m.current),m.past.forEach(o),null!==m.current&&(m.futureDtPickerOpt.minDate=r.nextDay(m.current._from,e.org).toDate(),m.hasNoValidAddresses=!1),void(0<m.past.length&&(m.currentDtPickerOpt.minDate=r.nextDay(m.past[0]._from,e.org).toDate()))}m.current={_from:i.foreverPastString,_to:i.foreverFutureString,_addressType:a.addressType.home,_isPrimary:!0,_street1:null,_street2:null,_city:null,_state:null,_zip:null,isCurrent:!0,isFuture:!1,isPast:!1},e.$watchGroup(["vm.current._street1","vm.current._street2","vm.current._city","vm.current._state","vm.current._zip"],function(t,s){if(t!==s)if(t.some(function(e){return null!=e&&""!==e})){var a=e.addresses.find(function(e){return e.isCurrent});null==a&&e.addresses.push(m.current)}else{var i=e.addresses.find(function(e){return e.isCurrent});e.addresses.splice(i,1)}})}function o(t){if(null!=t){var s=n.utcIsoToRelativeMoment(t._from,e.org),a=n.utcIsoToRelativeMoment(t._to,e.org);return t.startDateTxt=i.isForeverPast(t._from)?"":s.format("MM/DD/YYYY"),t.endDateTxt=i.isForeverFuture(t._to)?"":a.format("MM/DD/YYYY"),t.hasAddressInformation=!(t._street1||t._city||t._state||t._zip),t}}var p={current:null,future:null},m=e.vm={current:null,past:[],future:null,hasNoValidAddresses:!0,futureDtPickerOpt:{},currentDtPickerOpt:{},expanded:!1,states:a.states.getEnums()};e.validator={zip:d.zip()},e.$watch("editMode",function(){return s(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:m.editMode=!0===e.editMode,e.permissions.edit||(m.editMode=!1),"function"==typeof p.current&&(p.current(),p.current=null),"function"==typeof p.future&&(p.future(),p.future=null),l(),m.editMode&&(p.current=e.$watch("vm.current.startDateTxt",function(s,a){s===a||(s instanceof Date?(m.current._from=n.startOfDayRelativeTo(t(s),e.org),m.futureDtPickerOpt.minDate=r.nextDay(m.current._from,e.org).toDate()):m.current._from=i.foreverPast())}),e.$watch("vm.future.startDateTxt",function(s,a){s===a||s instanceof Date&&m.future&&(m.future._from=n.startOfDayRelativeTo(t(s),e.org))}));case 6:case"end":return s.stop();}},s,this)}))()});e.go={add:function(){m.future=o(r.newAddress(e.addresses,e.org)),e.addresses.push(m.future)},removeFuture:function(){var t=e.addresses.indexOf(m.future);e.addresses.splice(t,1),m.future=null,m.current&&(m.current.endDateTxt="")},toggle:function(){m.expanded=!m.expanded},isAddDisabled:function(){return null!=m.future||m.hasNoValidAddresses}}}]}]),t}(l);return new e(o,"address-list",p)});var m={mode:"=",org:"=",permissions:"=",position:"=",cancel:"&?",remove:"&?",menuData:"="},u={};angular.module("super-suit-components").directive("superAssignment",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","moment","ssDateByOrgHlp","ssDateHlp","ssValidationHlp","ssDepartmentSvc","ssLocationSvc","ssListSvc","ssJobTypeSvc","ssJobTypesApi","ssModalSvc","ssSaveInterrupterSvc","ssToastHlp","ssFilterActiveItemsHlp",function(e,t,s,a,i,n,r,d,l,o,p,m,u,c){function v(){if(b.isNew=null==_.id,b.isFuture=!1,b.isCurrent=!1,b.isPast=!1,b.isNew)b.tagText="New";else{b.isFuture=s.isInFuture({obj:_,fromProp:"_startDate",toProp:"_endDate",org:e.org}),b.isCurrent=s.isCurrent({obj:_,fromProp:"_startDate",toProp:"_endDate",org:e.org}),b.isPast=s.isInPast({obj:_,fromProp:"_startDate",toProp:"_endDate",org:e.org}),b.tagText=b.isCurrent?"In Effect":b.isFuture?"Upcoming":"Past";var t=s.utcIsoToRelativeMoment(_._startDate,e.org).format("MM/DD/YYYY"),i=a.isForeverFuture(_._endDate)?null:s.utcIsoToRelativeMoment(_._endDate,e.org).format("MM/DD/YYYY");null==i?b.isCurrent?b.dateRange=t+" - Current":b.isFuture&&(b.dateRange="Effective "+t):b.dateRange=t+" - "+i}}function g(){_.assignment._details.forEach(f)}function f(i){null==i.startDateOptions&&(i.startDateOptions={}),null==i.endDateOptions&&(i.endDateOptions={}),i.startDateOptions.minDate=a.isForeverPast(_._startDate)?null:t(s.startOfDayRelativeTo(t(_._startDate),e.org)).toDate(),i.startDateOptions.maxDate=a.isForeverFuture(_._endDate)?null:t(s.endOfDayRelativeTo(t(_._endDate),e.org)).toDate(),i.endDateOptions.minDate=a.isForeverPast(_._startDate)?null:t(s.startOfDayRelativeTo(t(_._startDate),e.org)).toDate(),i.endDateOptions.maxDate=a.isForeverFuture(_._endDate)?null:t(s.endOfDayRelativeTo(t(_._endDate),e.org)).toDate()}function y(){_.hasError=!1,_.assignment._details.forEach(function(e){return e.hasError=!1}),e.$emit("ss-validate-reset")}var h=e.featureFlags=e.$root.utils.findInParentScope("featureFlags",e),_=e.position,b=e.vm={departments:n.getAll().sort(function(e,t){return e._name.localeCompare(t._name)}),locations:r.getAll().sort(function(e,t){return e._name.localeCompare(t._name)}),jobTypes:l.getAll().sort(function(e,t){return e._name.localeCompare(t._name)}),positionTypes:e.menuData.positionTypes,employmentGroups:e.menuData.employmentGroups,contractGroups:e.menuData.contractGroups,tagText:"",dateRange:"",permissions:e.permissions,isNew:!1,isFuture:!1,isCurrent:!1,isPast:!1};e.validator={required:function(e,t){return!b.editing||i.required()(e,t)},validate:function(){if(!b.editing)return!0;if(null==_.assignment._details||!_.assignment._details.length)return!0;var e=_.assignment._details.slice(0);e.sort(function(e,t){return new Date(t._fromDateUtc)-new Date(e._fromDateUtc)}),_.hasError=!1,e.forEach(function(e){return e.hasError=!1});var s=e[e.length-1],a=e[0];if(t(s._fromDateUtc).isBefore(t(_._startDate)))return _.hasError=!0,s.hasError=!0,"The first assignment details must not start before the assignment begins.";if(9999!==t(a._toDateUtc).year()&&9999!==t(_._endDate).year()&&t(a._toDateUtc).isAfter(t(_._endDate)))return _.hasError=!0,a.hasError=!0,"The last assignment details must not end after the assignment completes.";if(t(_._startDate).isAfter(t(_._endDate)))return _.hasError=!0,"The start date of this assignment cannot come after the end date.";if(1===e.length)return!0;for(var n=1;n<e.length;n++){var r=e[n],d=e[n-1];if(t(r._toDateUtc).isAfter(t(d._fromDateUtc)))return _.hasError=!0,d.hasError=!0,r.hasError=!0,"This assignment cannot have overlapping details."}return!0},externalId:i.string({maxLength:100})};e.go={addDetails:function(){if(null==_._jobType||null==_._jobType.id||!b.startDate)return void u.error("Please enter values for required assignment fields before adding assignment details.",new String(""));var e={_payLane:null,_payStep:null,_fromDateUtc:_._startDate,_toDateUtc:_._endDate,dateOptions:{}};f(e),_.assignment._details.push(e),y()},cancel:function(){b.editing=!1,y(),e.cancel()},edit:function(){"delete"===b.mode||(b.startDate=null==_._startDate||a.isForeverPast(_._startDate)?null:s.utcIsoToRelativeMoment(_._startDate,e.org).format("MM/DD/YYYY"),b.endDate=null==_._endDate||a.isForeverFuture(_._endDate)?null:s.utcIsoToRelativeMoment(_._endDate,e.org).format("MM/DD/YYYY"),b.editing=!0,e.$emit("assignment-edit",_.id))},removeDetails:function(e){p.showDestructive({title:"Are you sure?",content:"Are you sure you want to delete this assignment details?",primaryText:"Delete Assignment Details",secondaryText:"Cancel"}).then(function(){_.assignment._details.splice(e,1),y()})}};e.$watch("mode",function(t){b.mode=t,b.editing=!1,"new"===b.mode&&(b.editing=!0),v(),_.name=d.mapName(_._name,b.positionTypes),b.dateOptions=_.dateOptions||{},null==_.assignment._details&&(_.assignment._details=[]),1<_.assignment._details.length&&_.assignment._details.sort(function(e,t){return new Date(t._fromDateUtc)-new Date(e._fromDateUtc)}),g(),e.featureFlags.fc_enable_employee_module_save_interrupter&&(m.register(_),m.register(_.assignment))}),e.$watch("vm.startDate",function(i,n){i===n||(_._startDate=null==i?a.foreverPast():s.startOfDayRelativeTo(t(i),e.org),_.assignment._startDateUtc=_._startDate,g())}),e.$watch("vm.endDate",function(i,n){i===n||(_._endDate=null===i?a.foreverFuture():s.endOfDayRelativeTo(t(i),e.org),_.assignment._endDateUtc=_._endDate,g())}),e.$watch("position._jobType.id",function(t){null==t||(e.featureFlags.fc_job_type_cache?_.assignment.jobType=b.jobTypes.find(function(e){return e.id===t}):o.get({id:t,include:"jobTypeDetails,paySchedules"}).then(function(e){_.assignment.jobType=e}).catch(function(){}))}),function(){e.featureFlags.fc_enable_referential_data_status&&(b.departments=c.getActiveItems(b.departments,_._department.id),b.locations=c.getActiveItems(b.locations,_._location.id),b.jobTypes=c.getActiveItems(b.jobTypes,_._jobType.id),b.positionTypes=c.getActiveItems(b.positionTypes,_._name,"value"))}()}]}]),t}(l);return new e(m,"assignment",u)});var c={details:"=",editMode:"=",jobType:"=",org:"=",permissions:"=",remove:"&?"},v={};angular.module("super-suit-components").directive("superAssignmentDetails",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$element","ssJobTypeHlp","ssEmployeeAssignmentHlp","ssDateByOrgHlp","ssDateHlp","ssEnum","ssValidationHlp","enumPayRateFrequency","ssFlagCCSvc","ssSaveInterrupterSvc",function(e,t,s,a,i,n,r,d,l,o,p){function m(){if(y.isNew=null==f.id,y.isFuture=!1,y.isCurrent=!1,y.isPast=!1,y.isNew)y.tagText="New",y.collapsed=!1;else{y.isFuture=i.isInFuture({obj:f,fromProp:"_fromDateUtc",toProp:"_toDateUtc",org:e.org}),y.isCurrent=i.isCurrent({obj:f,fromProp:"_fromDateUtc",toProp:"_toDateUtc",org:e.org}),y.isPast=i.isInPast({obj:f,fromProp:"_fromDateUtc",toProp:"_toDateUtc",org:e.org}),y.tagText=y.isCurrent?"In Effect":y.isFuture?"Upcoming":"Past";var t=i.utcIsoToRelativeMoment(f._fromDateUtc,e.org).format("MM/DD/YYYY"),s=n.isForeverFuture(f._toDateUtc)?null:i.utcIsoToRelativeMoment(f._toDateUtc,e.org).format("MM/DD/YYYY");null==s?y.isCurrent?y.dateRange=t+" - Current":y.isFuture&&(y.dateRange="Effective "+t):y.dateRange=t+" - "+s}}function u(){if(null!=e.jobType){var t=s.getPaySchedule({startDate:f._fromDateUtc,endDate:f._toDateUtc,jobType:e.jobType,org:e.org}),a=t._payLanes.map(function(e,t){e.index=t;var s=e.paySteps.map(function(e,t){return e.index=t,e});return e.paySteps=s,e});t._payLanes=a,f.paySchedule=t,y.jobTypeDetails=s.getJobTypeDetail({startDate:f._fromDateUtc,endDate:f._toDateUtc,jobType:e.jobType,org:e.org}),c(f._payLane,f._payLane),v()}}function c(e,t){if(null==e)return f._payLane=null,f._payStep=null,void(y.paySteps=[]);var a=void 0,i=s.isValidPS(f.paySchedule);e>=f.paySchedule._payLanes.length||!i?(a=f.paySchedule._payLanes[0],f._payLane=0,f._payStep=0):(a=f.paySchedule._payLanes[e],(e!==t||null!=f._payStep&&f._payStep>=f.paySchedule._stepNames.length)&&(f._payStep=null)),a&&a.paySteps&&(y.paySteps=a.paySteps)}function v(){if(null!=e.jobType){var t=f.paySchedule,i=a.jobTypeValuesForAssignment({paySchedule:t,jobTypeDetails:y.jobTypeDetails,assignmentDetails:f});if(y.payScheduleIsValid=s.isValidPS(t),y.jobTypeDetailValuesAreValid=i._jobTypeValuesForAssignmentAreValid,y.payScheduleIsValid||y.jobTypeDetailValuesAreValid){var n=a.getPayRate({paySchedule:t,currentDetails:f}),r=null==f._payRate?n:f._payRate,d=i._payRateFrequency,l=a.calculateAnnualSalary({payRateFrequency:d,payRate:r,hoursPerDay:i._hoursPerDay,workDaysPerYear:i._workDaysPerYear});y.payPerPeriod=a.calculatePayPerPeriod({calculatedSalary:l,payPeriodsPerYear:i._payPeriodsPerYear}),y.annualSalary=y.editMode?n:g({calculatedSalary:l,validPayRate:r,payRateFrequency:d}),y.payRateFrequencyString=a.getPayRateFrequencyString(d,y.payRateOptions)}else y.editMode?y.annualSalary=y.payPerPeriod=0:(y.annualSalary=f._payRate,y.payPerPeriod=0),y.payRateFrequencyString=a.getPayRateFrequencyString(f._payRateFrequency,y.payRateOptions)}}function g(e){var t=e.calculatedSalary,s=e.validPayRate,a=e.payRateFrequency;return a===l.hourly?s:t}var f=e.details,y=e.vm={payRateOptions:r.salaryType.getEnums(),collapsed:!0,jobTypeDetailsCols:a.jobTypeDetailFields(),startDate:null!=f.id||f._fromDateUtc?i.utcIsoToRelativeMoment(f._fromDateUtc,e.org).format("MM/DD/YYYY"):null,endDate:n.isForeverFuture(f._toDateUtc)?null:i.utcIsoToRelativeMoment(f._toDateUtc,e.org).format("MM/DD/YYYY"),isNew:!1,isFuture:!1,isPast:!1,isCurrent:!1};e.validator={required:function(e,t){return!y.editMode||d.required()(e,t)},dates:function(){return!y.editMode||(f.hasError=!1,!0===e.validator.required(y.startDate,"start date")?!moment(f._fromDateUtc).isAfter(moment(f._toDateUtc))||(f.hasError=!0,"The start date of this details cannot come after the end date."):(f.hasError=!0,e.validator.required(y.startDate,"start date")))},step:function(){return null==f._payLane||d.required()(f._payStep,"pay step")}};e.go={revert:function(t){f[t]=null,e.$emit("ss-validate-reset")}};e.$watch("editMode",function(){y.editMode=!0===e.editMode,e.permissions.details.edit||(y.editMode=!1),y.editMode?t.addClass("edit-mode"):t.removeClass("edit-mode"),o.ready.then(function(){return o.checkState("fc_enable_employee_module_save_interrupter")}).then(function(e){e&&(p.register(f),f.$$resetChangesDetected())}),m(),u()}),e.$watch("details.hasError",function(e){e?t.addClass("has-error"):t.removeClass("has-error")}),e.$watch("vm.startDate",function(t,s){t!==s&&t instanceof Date&&(f._fromDateUtc=i.startOfDayRelativeTo(moment(t),e.org),u())}),e.$watch("vm.endDate",function(t,s){t===s||(f._toDateUtc=null===t?n.foreverFuture():i.endOfDayRelativeTo(moment(t),e.org),u())}),e.$watch("jobType",function(e,t){e===t||u()}),e.$watch("details._payLane",function(e,t){e===t||c(e,t)}),e.$watch("details._payStep",function(e,t){e===t||v()}),e.$watch("details._payRateFrequency",function(e,t){e===t||(f._payRate=null,v())})}]}]),t}(l);return new e(c,"assignment-details",v)});var g={editMode:"=",employee:"=",org:"=",positions:"=",onLoad:"&"},f={};angular.module("super-suit-components").directive("superAssignmentList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","ssAssignmentApi","ssDateByOrgHlp","ssDateHlp","ssModalSvc","ssToastHlp","ssListSvc","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,s,i,a,n,r,d,l,o){function p(e){return _.newPosition=null,_.newPrimaryPosition=null,_.editMode=e,_.permissions.assignments.edit||(_.editMode=!1),_.loading||(_.loading=!0),t(regeneratorRuntime.mark(function e(){var t,s,n,r,l,o,p,c,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=0;case 2:if(!(t<y.length)){e.next=10;break}if(s=y[t],null==s._assignments[0]){e.next=7;break}return e.next=7,m(s);case 7:t++,e.next=2;break;case 10:if(1<y.length&&(y.sort(function(e,t){return new Date(t._startDate)-new Date(e._startDate)}),y.sort(function(e,t){return new Date(t.assignment._createdUtc)-new Date(e.assignment._createdUtc)}),y.sort(function(e,t){return new Date(t.assignment._startDateUtc)-new Date(e.assignment._startDateUtc)}),n=y.filter(function(e){return e.assignment._isPrimary}),1<n.length))for(r=n.length-1,l=0;l<n.length;l++)o=void 0,p=void 0,c=void 0,v=n[l],v.dateOptions={},l<r&&(p=n[l+1],c=new Date(a.startOfDayRelativeTo(moment(p._endDate).startOf("day"),h)),c=moment(c).add(1,"days").toDate(),v.dateOptions.minDate=c),0<l&&(o=n[l-1],c=new Date(a.startOfDayRelativeTo(moment(o._startDate).startOf("day"),h)),c=moment(c).subtract(1,"days").toDate(),v.dateOptions.maxDate=c);u(),e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](0);case 16:return e.prev=16,_.loading=!1,e.finish(16);case 19:case"end":return e.stop();}},e,this,[[0,14,16,19]])}))()}function m(e){return t(regeneratorRuntime.mark(function t(){var s,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e._assignments[0],t.next=3,i.getAssignment({id:e.id,assignmentId:s.id,include:"details"});case 3:n=t.sent,s.$permitted=n.$permitted,s._details=n._details,e.assignment=s;case 7:case"end":return t.stop();}},t,this)}))()}function u(){_.primaryPosition=y.find(function(e){return e.assignment._isPrimary&&a.isCurrent({obj:e,fromProp:"_startDate",toProp:"_endDate",org:h})}),_.futurePrimaryPositions=y.filter(function(e){return e.assignment._isPrimary&&a.isInFuture({obj:e,fromProp:"_startDate",toProp:"_endDate",org:h})}),_.pastPositions=y.filter(function(e){return e.assignment._isPrimary&&a.isInPast({obj:e,fromProp:"_startDate",toProp:"_endDate",org:h})}),_.otherPositions=y.filter(function(e){return!e.assignment._isPrimary&&a.isCurrent({obj:e,fromProp:"_startDate",toProp:"_endDate",org:h})}),_.futureOtherPositions=y.filter(function(e){return!e.assignment._isPrimary&&a.isInFuture({obj:e,fromProp:"_startDate",toProp:"_endDate",org:h})}),_.pastOtherPositions=y.filter(function(e){return!e.assignment._isPrimary&&a.isInPast({obj:e,fromProp:"_startDate",toProp:"_endDate",org:h})})}function c(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,s=n.foreverPast();t&&(s=a.startOfDayRelativeTo(moment({years:t.get("year"),months:t.get("month"),date:t.get("date")}),h));var i=n.foreverFuture(),r={_employee:{id:f.id},_isPrimary:e,_startDateUtc:s,_endDateUtc:i,_details:[],$isDirty:function(){return!0},$permitted:{actions:{create:!0,delete:!0},props:{details:{view:!0,edit:!0,redacted:!1,raw:3}}}};return{_name:"",_location:{},_jobType:{},_department:{},_startDate:s,_endDate:i,_assignments:[r],assignment:r,$isDirty:function(){return!0}}}function v(e){var t=a.utcIsoToRelativeMoment(e,h);return t.clone().add(1,"days").startOf("day")}function g(){y.forEach(function(e){return e.hasError=!1}),e.$emit("ss-validate-reset")}var f=e.employee,y=e.positions,h=e.org,_=e.vm={loading:!0,editingId:null,permissions:f.$permitted.props,pastPositionsExpanded:!1,pastOtherPositionsExpanded:!1,menuData:{employmentGroups:[],positionTypes:[],contractGroups:[]}};e.featureFlags={fc_enable_employee_module_save_interrupter:!1,fc_job_type_cache:!1,fc_enable_contract_groups:!1,fc_enable_referential_data_status:!1,showEmploymentGroups:!1},e.validator={validate:function(){if(_.loading||!_.editMode)return!0;var e=y.filter(function(e){return e.assignment._isPrimary});if(e.forEach(function(e){return e.hasError=!1}),2>e.length)return!0;e.sort(function(e,t){return new Date(t._startDate)-new Date(e._startDate)}),e.sort(function(e,t){return new Date(t.assignment._createdUtc)-new Date(e.assignment._createdUtc)}),e.sort(function(e,t){return new Date(t.assignment._startDateUtc)-new Date(e.assignment._startDateUtc)});for(var t=1;t<e.length;t++){var s=e[t],a=e[t-1];if(moment(s._endDate).isAfter(moment(a._startDate)))return s.hasError=!0,a.hasError=!0,"This employee cannot have overlapping primary assignments."}return!0}};e.go={addPrimary:function(){var e=y.filter(function(e){return e.assignment._isPrimary}),t=e[0],s=null;t&&(s=n.isForeverFuture(t._endDate)?v(t._startDate):v(t._endDate),n.isForeverFuture(s)&&(s=null)),_.newPrimaryPosition=c(!0,s),_.editingId="new",y.push(_.newPrimaryPosition),g()},addSecondary:function(){_.newPosition=c(),_.editingId="new",y.push(_.newPosition)},cancelPosition:function(e){if(e.isUpdating=!0,null==e.id){var s=y.findIndex(function(t){return t.id===e.id&&t.assignment._isPrimary===e.assignment._isPrimary});return 0<=s&&y.splice(s,1),e.assignment._isPrimary?_.newPrimaryPosition=null:_.newPosition=null,void(_.editingId=null)}t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$revert();case 3:return e.assignment._details=[],t.next=6,m(e);case 6:_.editingId=null,g(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),d.error("there was a problem retrieving assignment details");case 13:return t.prev=13,e.isUpdating=!1,t.finish(13);case 16:case"end":return t.stop();}},t,this,[[0,10,13,16]])}))()},getMode:function(e){return _.editMode?"delete"===_.editingId?"delete":"new"===_.editingId?null==e.id?"new":"view":null==_.editingId||null==e||_.editingId===e.id?"edit":"view":"view"},removePosition:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;r.showDestructive({title:"Are you sure?",content:"Are you sure you want to delete this assignment?",primaryText:"Delete Assignment",secondaryText:"Cancel"}).then(function(){var s;null==t?null!=e.id&&e.assignment._isPrimary&&(_.primaryPosition=null):(s=t.findIndex(function(t){return t.id===e.id}),0<=s&&t.splice(s,1)),s=y.findIndex(function(t){return t.id===e.id&&t.assignment._isPrimary===e.assignment._isPrimary}),0<=s&&y.splice(s,1),_.editingId="delete",g()})}};e.$on("assignment-edit",function(e,t){_.editingId=t,e.stopPropagation()}),t(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return _.loading=!0,t.prev=1,t.next=4,o.resolveAll(e.featureFlags);case 4:return t.next=6,l.getByExternalId("jobtype.employmentgroups");case 6:return _.menuData.employmentGroups=t.sent,t.next=9,l.getByExternalId("position.types");case 9:return _.menuData.positionTypes=t.sent,t.next=12,s.queryContractGroups();case 12:a=t.sent,a&&a.length&&(_.menuData.contractGroups=a.map(function(e){return{_name:e._name,value:e.id}})),e.$watch("editMode",p),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](1),_.loading=!1,d.error(t.t0);case 21:case"end":return t.stop();}},t,this,[[1,17]])}))()}]}]),t}(l);return new e(g,"assignment-list",f)});var y={credential:"=",org:"=",currentlyEditing:"=",deleteCredential:"=",saveCredential:"="},h={};angular.module("super-suit-components").directive("superCredential",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$window","moment","ssFilenameHlp","ssAsync","$stateParams","ssToastHlp","ssDateHlp","ssModalSvc","ssCredentialBusinessEngineSvc","ssCredentialDataAccessSvc","ssCredentialViewModelFactorySvc",function(e,t,s,a,i,n,r,d,l,o,p,m){function u(t){y.isProcessing=!0,i(regeneratorRuntime.mark(function s(){var a,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,p.getEmployeeCredentialById(v._employee,v);case 3:a=s.sent,a&&(e.currentlyEditing=e.credential,i=t(),y.credentialBeingEdited=i),s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](0),r.error(s.t0,"Error",!1);case 10:return s.prev=10,y.isProcessing=!1,s.finish(10);case 13:case"end":return s.stop();}},s,this,[[0,7,10,13]])}))()}var c=e.org,v=e.credential,g=o.getCredentialStatus(v,s()),f=o.credentialConstants,y=e.vm={isProcessing:!1,isCloning:!1,credentialConstants:f,org:c,credentialBeingEdited:null,deletedIssuer:!1,deletedCredentialType:!1},h=e.go={onEdit:function(){u(function(){return m.create(v)})},onRenew:function(){u(function(){return m.renew(v)}),y.isCloning=!0},onMakeActive:function(){u(function(){return m.makeActive(v)}),y.isCloning=!0},onDelete:function(){l.showDestructive({title:"Delete Credential",content:"Are you sure you want to delete this credential?",primaryText:"Continue",secondaryText:"Cancel"}).then(function(){y.isProcessing=!0,i(regeneratorRuntime.mark(function t(){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.$remove();case 3:s=t.sent,s&&e.deleteCredential(v),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),r.error(t.t0,"Error",!1);case 10:return t.prev=10,y.isProcessing=!1,t.finish(10);case 13:case"end":return t.stop();}},t,this,[[0,7,10,13]])}))()})},saveCredential:function(t,s){y.isProcessing=!0,i(regeneratorRuntime.mark(function a(){var i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.saveCredential(v,v._employee,t,s);case 3:i=a.sent,i&&(y.credentialBeingEdited=null),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),r.error(a.t0,"Error",!1);case 10:return a.prev=10,y.isProcessing=!1,a.finish(10);case 13:case"end":return a.stop();}},a,this,[[0,7,10,13]])}))()},cancelCredential:function(){y.credentialBeingEdited=e.currentlyEditing=null,y.isCloning=!1},downloadFile:function(e){e.isDownloading=!0,p.downloadFile(e.fileId,n.employeeId).then(function(e){null!=e&&t.open(e._string,"_blank")}).finally(function(){return e.isDownloading=!1})},expiresSoon:function(){return o.isExpiring(v,s())},isExpired:function(){return o.isExpired(v,s())},getExpirationLabel:function(){return o.isExpired(v,s())?"Expired":o.isExpiring(v,s())?"Expires Soon":"Expires"},getSubjects:function(){return v._subjects.map(function(e){return e.name}).join(", ")},isForeverFuture:function(){return d.isForeverFuture(v._expirationDay)},isRenewed:function(){return v._issuedReason===f.CREDENTIAL_RENEWED},showDate:function(e){return s(e).format("MM/DD/YYYY")},getIcon:function(e){return a.getIcon(a.getExtension(e.name))},hasActiveDates:function(){return(g.value===f.ACTIVE||g.value===f.NOT_ACTIVE)&&(v._stateStartedDay||v._expirationDay||v._verifiedDay)},hasInProgressDates:function(){return g.value===f.IN_PROGRESS},showActions:function(){var t=e.$root.isPermitted.employeeCredentials;return t.edit||t.softDelete}};y.deletedCredentialType=!d.isForeverFuture(v._credential.deletedUtc),y.deletedIssuer=!d.isForeverFuture(v._credential.issuer.deletedUtc)}]}]),t}(l);return new e(y,"credential",h)});var _={credential:"=",saveCredential:"<",cancelCredential:"<",org:"=",loggedInUserKey:"<",isCloning:"<?"},b={};angular.module("super-suit-components").directive("superCredentialAddEdit",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$rootScope","ssToastHlp","ssObjectHlp","ssValidationHlp","ssModalSvc","ssAsync","ssCredentialBusinessEngineSvc","ssCredentialDataAccessSvc","ssCredentialViewModelFactorySvc","ssDateHlp","ssSaveInterrupterSvc","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,s,a,i,n,r,l,o,p,m,u,c){function v(e){var s=[];return e=!0===e||1===e||"1"===e,T.forEach(function(a){!0===e&&3===parseInt(a.id)&&s.push(a),!1===e&&3>parseInt(a.id)&&s.push(a)}),s}function g(){[].concat(Array.prototype.slice.call(arguments)).forEach(function(e){return e()})}function f(){k.credentialId=null;var e=l.updatedCredentialState(x,{_credentialId:null}),t=p.updatedCredentialViewModelState(D,{credentials:[],subjects:[]});Object.assign(D,t),Object.assign(x,e)}function y(){return e.featureFlags.fc_enable_employee_module_save_interrupter&&P?void u.register(D):void(h()?(e.$broadcast("cred-parent-dirty-changed",{parentIsDirty:!0}),u.register(D)):e.$broadcast("cred-parent-dirty-changed",{parentIsDirty:!1}))}function h(){return!!(P||w.credential.credentialTypeId!==parseInt(k.credentialTypeId)||w.credential.id!==k.credentialId||JSON.stringify(w._subjectIds)!==JSON.stringify(x._subjectIds)||w._credentialNumber!==x._credentialNumber||w.files.length!==k.files.length||k.newFileAdded)}function _(){k.selectedSubjects=[],k.credentialNumber=null;var e=l.updatedCredentialState(x,{_credentialNumber:null,_subjectIds:[]});Object.assign(x,e)}e.featureFlags={fc_enable_employee_module_save_interrupter:!1};var b=e.org,D=e.credential,x=e.credential.data,S=x.files?[].concat(d(x.files)):[],w=a.deepFreeze(a.deepCopy(x)),I=e.loggedInUserKey,P=null==x._credentialId,E=l.credentialConstants,C=e.validator={limit:i.string({maxLength:100}),dlLimit:i.string({required:!0,minLength:1,maxLength:100})},T=[],M=null,F=a.deepCopy(t.utils.findInParentScope("stateIssuers",e)),A=a.deepCopy(t.utils.findInParentScope("customIssuers",e)),k=e.vm={isEdit:!P,credentialTypeId:x.credentialTypeId,credentialConstants:E,credentialId:x._credentialId,isCustomCredential:3===parseInt(x.credentialTypeId,10),issuer:x.issuer?x.issuer.id:null,issuersToLoad:[],selectedSubjects:[],credentialNumber:x._credentialNumber,loadingCredentialTypes:!1,loadingIssuers:!1,loadingCredentials:!1,loadingSubjects:!1,isUploading:!1,files:S,changeLockdown:!1,deletedIssuerLockdown:!1,deletedCredentialLockdown:!1,newFileAdded:!1,isDirty:!1};k.deletedIssuerLockdown=!!x.issuer&&!m.isForeverFuture(x.issuer.deletedUtc),k.deletedCredentialLockdown=!!x.credential&&!m.isForeverFuture(x.credential.deletedUtc),k.changeLockdown=k.deletedCredentialLockdown||k.deletedIssuerLockdown||e.isCloning,r(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.resolveAll(e.featureFlags);case 2:if(P){t.next=11;break}if(a=null,a=3===parseInt(k.credentialTypeId,10)?A.find(function(e){return e.id===x.issuer.id}):F.find(function(e){return e.id===x.issuer.id}),null!=a){t.next=10;break}return t.next=8,o.getIssuerById(k.issuer);case 8:a=M=t.sent,k.issuersToLoad=[a];case 10:k.issuer=a.id;case 11:return t.prev=11,k.loadingCredentialTypes=!0,t.next=15,o.getCredentialTypes();case 15:T=t.sent,D.credentialTypes=v(3===parseInt(k.credentialTypeId,10)),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](11),s.error(t.t0.message,"Error",!1);case 22:return t.prev=22,k.loadingCredentialTypes=!1,t.finish(22);case 25:e.$watch("credential.data",function(){y()}),e.$on("cred-file-changed",function(){k.newFileAdded=!0,y()}),e.$watch("vm.credentialNumber",function(e,t){if(e!==t){var s=e&&e.length?e:null,a=l.updatedCredentialState(x,{_credentialNumber:s});Object.assign(x,a),y()}}),e.$watch("vm.isCustomCredential",function(e,t){e===t||(k.credentialTypeId=null,D.credentialTypes=v("1"===e),k.isCredentialTypeSelected=!0)}),e.$watch("vm.credentialTypeId",function(t,s){if(null!=t){if(t!==s&&(k.issuer=-1,g(f,_)),k.deletedIssuerLockdown||(k.issuersToLoad=3===parseInt(k.credentialTypeId,10)?A:F[t]),k.issuersToLoad.length||(k.issuer=-1),!(b._address&&k.issuersToLoad.length))k.issuersToLoad.length&&(k.issuer=k.issuersToLoad[0].id);else if(P){var a=k.issuersToLoad.find(function(t){return t._stateId===e.org._address.state});null==a&&(a=k.issuersToLoad[0]),null!=a&&(k.issuer=a.id)}else if(-1!==k.issuer){var i=k.issuersToLoad.find(function(e){return e.id===k.issuer});k.deletedIssuerLockdown=!1,null==i&&(k.deletedIssuerLockdown=!0,k.issuersToLoad.push(M))}x.credentialTypeId=t}}),e.$watch("vm.issuer",function(t,a){null==t||-1===t||(t!==a&&P&&g(f,_),r(regeneratorRuntime.mark(function a(){var i,n,r,d,m;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,k.loadingSubjects=k.loadingCredentials=!0,a.next=4,o.getCredentialsByIssuer(t);case 4:if(i=a.sent,n=[],k.credentialTypeId!==E.DRIVER_LICENSE){a.next=13;break}r=k.credentialId=i.length?i[0].id:-1,d=l.updatedCredentialState(x,{_credentialId:r}),Object.assign(x,d),y(),a.next=16;break;case 13:return a.next=15,o.getSubjectsByIssuer(t);case 15:n=a.sent;case 16:!P&&k.deletedCredentialLockdown&&i.push({_name:e.credential.data.credential.name,id:e.credential.data.credential.id}),m=p.updatedCredentialViewModelState(D,{credentials:i,subjects:n}),Object.assign(D,m),y(),e.$applyAsync(function(){return k.selectedSubjects=n.filter(function(e){return x._subjectIds.includes(e.id)})}),a.next=26;break;case 23:a.prev=23,a.t0=a["catch"](0),s.error(a.t0.message,"Error",!1);case 26:return a.prev=26,k.loadingSubjects=k.loadingCredentials=!1,a.finish(26);case 29:case"end":return a.stop();}},a,this,[[0,23,26,29]])}))())}),e.$watch("vm.credentialId",function(e,t){if(null!==e){P||e===t||g(_);var s=l.updatedCredentialState(x,{_credentialId:e});Object.assign(x,s),y()}}),e.$watchCollection("vm.selectedSubjects",function(e,t){if(e!==t){var s=l.updatedCredentialState(x,{_subjectIds:e.map(function(e){return e.id})});Object.assign(x,s),y()}});case 33:case"end":return t.stop();}},t,this,[[11,19,22,25]])}))();e.go={saveCredential:function(){if(P||null==x.verifier||l.isVerifierValid(x,I)||Object.is(JSON.stringify(w),JSON.stringify(x))||t.isPermitted.employeeCredentials.verify)!0!==t.isPermitted.employeeCredentials.verify&&delete x._verifiedDay,e.saveCredential(x,k.files),k.deletedIssuerLockdown=!1;else{n.showStandard({title:"Credential was verified",content:"This credential was previously marked as verified, but is no longer due to your recent edit.",primaryText:"Continue",secondaryText:"Cancel"}).then(function(){var s=l.updatedCredentialState(x,{_verifiedDay:null});Object.assign(x,s),y(),!0!==t.isPermitted.employeeCredentials.verify&&delete x._verifiedDay,e.saveCredential(x,k.files),k.deletedIssuerLockdown=!1})}u.clear(D)},cancelAddingCredential:function(){u.clear(D),e.cancelCredential()},validateCredentialNumber:function(e){return k.credentialTypeId===k.credentialConstants.DRIVER_LICENSE?C.dlLimit(e):C.limit(e)}}}]}]),t}(l);return new e(_,"credential-add-edit",b)});var D={files:"=",isUploading:"="},x={};angular.module("super-suit-components").directive("superCredentialFiles",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$window","$stateParams","ssAsync","ssFilenameHlp","ssToastHlp","ssCredentialDataAccessSvc",function(e,t,s,a,i,n,r){function d(e){var t=[];return(""===e.name||null===e.name||void 0===e.name)&&t.push("The selected file does not have a name."),52428800<=e.size&&t.push("The selected file cannot be larger than 50MB."),t}function l(e){return{id:null,fileId:e.id,name:e.name||e.filename,isDeleted:!1,createdUtc:new Date}}var o=e.vm={accept:[".csv","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel,application/pdf,application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].join(", ")},p=e.go={getExtension:function(e){return i.getExtension(e.name)},getIcon:function(e){return i.getIcon(p.getExtension(e))},download:function(e){e.isDownloading=!0,r.downloadFile(e.fileId,s.employeeId).then(function(e){null!=e&&t.open(e._string,"_blank")}).finally(function(){return e.isDownloading=!1})},deleteFile:function(t){e.$emit("cred-file-changed"),t.isDeleted=!0},sendFile:function(t){var i=t.target.files[0],o=d(i);return o.length?void n.error(o,"Error",!1):void(e.isUploading=!0,a(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.uploadFile(s.employeeId,i);case 3:a=t.sent,e.files.push(l(a)),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),n.error(t.t0,"Error",!1);case 10:return t.prev=10,e.$emit("cred-file-changed"),e.isUploading=!1,t.finish(10);case 14:case"end":return t.stop();}},t,this,[[0,7,10,14]])}))())}}}]}]),t}(l);return new e(D,"credential-files",x)});var S={credential:"=",credentialTypeId:"=",credentialId:"=",issuer:"=",parentDirty:"=",loggedInUserKey:"<",isCloning:"<?"},w={};angular.module("super-suit-components").directive("superCredentialStatus",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","ssCredentialBusinessEngineSvc","ssDateHlp","ssValidationHlp","ssObjectHlp","ssSaveInterrupterSvc","ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,s,a,i,n,r,d){function l(e){var t=!0;null==e.verifier&&(t=!1),null===e._verifiedDay&&(t=!1);var s=i.glean(c,function(e){return e.verifier.name},null);return null===s&&(t=!1),t}function o(){[].concat(Array.prototype.slice.call(arguments)).forEach(function(e){return e()})}function p(){Object.assign(D,{stateStartedDay:"",expirationDay:"",isVerified:!1,isGrantedForLife:!1,isRenewal:!1});var e=t.updatedCredentialState(c,{_stateStartedDay:"",_expirationDay:"",_isGrantedForLife:!1,_issuedReason:y.CREDENTIAL_NEW});Object.assign(c,e)}function m(t){e.featureFlags.fc_enable_employee_module_save_interrupter&&(c._expirationDay!==g._expirationDay||c._isGrantedForLife!==g._isGrantedForLife||c._stateStartedDay!==g._stateStartedDay||c._verifiedDay!==g._verifiedDay||t?n.register(u):n.clear())}var u=e.credential,c=u.data,v=e.credentialTypeId,g=i.deepFreeze(i.deepCopy(c)),f=null!==c._id,y=t.credentialConstants,h=t.allCredentialStatuses,_={stateStartedDay:f?moment(c._stateStartedDay).toISOString():"",expirationDay:c._isGrantedForLife||!f?"":moment(c._expirationDay).toISOString()},b=f&&t.getCredentialStatus(c,moment()).value||y.ACTIVE;e.featureFlags={fc_enable_employee_module_save_interrupter:!1},e.validator={required:a.required()};var D=e.vm=Object.assign({credentialConstants:y,allCredentialStatuses:v===y.DRIVER_LICENSE?h.filter(function(e){return e.value!==y.IN_PROGRESS}):h,credentialStatus:h.find(function(e){return e.value===b}).value,isRenewal:c._issuedReason===y.CREDENTIAL_RENEWED,isGrantedForLife:c._isGrantedForLife,isVerified:l(c),isInProgress:b===y.CREDENTIAL_INPROGRESS,parentDirty:!1,stateStartedDtOptions:f?u.getDateOptionsForIssueDate(_.expirationDay):{},expirationDtOptions:f?u.getDateOptionsForExpirationDate(_.stateStartedDay):{}},_);r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.resolveAll(e.featureFlags);case 2:case"end":return t.stop();}},t,this)}))(),e.$on("cred-parent-dirty-changed",function(e,t){m(t.parentIsDirty)}),e.$watch("vm.isRenewal",function(e,s){if(e!==s){var a=t.issuedReasonByCredentialStatus(D.credentialStatus,e),i=t.updatedCredentialState(u.data,{_issuedReason:a});Object.assign(u.data,i)}}),e.$watch("vm.isVerified",function(e,s){if(e!==s){var a=e?moment().format("YYYY-MM-DD"):null,i={};D.isVerified=e,null==e&&(D.isVerified=!1),i=t.updatedCredentialState(c,{_verifiedDay:a}),Object.assign(c,i),m()}}),e.$watch("vm.isGrantedForLife",function(e,a){if(e!==a){D.expirationDay="";var i="";e&&(i=moment.utc(s.foreverFuture()).format("YYYY-MM-DD"));var n=t.updatedCredentialState(c,{_expirationDay:i,_isGrantedForLife:e});Object.assign(c,n),m()}}),e.$watch("vm.stateStartedDay",function(e,s){if(e!==s&&(D.expirationDtOptions=u.getDateOptionsForExpirationDate(e),!!(e instanceof Date))){var a=moment(e).format("YYYY-MM-DD"),i=t.updatedCredentialState(c,{_stateStartedDay:a});Object.assign(c,i),m()}}),e.$watch("vm.expirationDay",function(e,s){if(e!==s&&(D.stateStartedDtOptions=u.getDateOptionsForIssueDate(e),!!(e instanceof Date))){var a=moment(e).format("YYYY-MM-DD"),i=t.updatedCredentialState(c,{_expirationDay:a});Object.assign(c,i),m()}}),e.$watch("vm.credentialStatus",function(s,a){if(null!=u&&s!==a){e.$emit("ss-validate-reset"),o(p),D.isInProgress=s===y.IN_PROGRESS;var i=t.updatedCredentialState(c,{_issuedReason:t.issuedReasonByCredentialStatus(s,D.isRenewal)});Object.assign(c,i),m()}}),e.$watch("credentialTypeId",function(t,s){t===s||(o(p),D.allCredentialStatuses=t===y.DRIVER_LICENSE?h.filter(function(e){return e.value!==y.IN_PROGRESS}):h,e.$emit("ss-validate-reset"),m())}),e.$watch("credentialId",function(e,t){e===t||(D.credentialStatus=h.find(function(e){return e.value===y.ACTIVE}).value,o(p))}),e.$watch("issuer",function(e,t){if(e!==t)return null==e&&o(p),null==t&&null!=e||-1===e?(D.credentialStatus=h.find(function(e){return e.value===y.ACTIVE}).value,void p()):void(e.id===t.id||(D.credentialStatus=h.find(function(e){return e.value===y.ACTIVE}).value,o(p),m()))});e.go={validateOr:function(t,s){if(D.isInProgress)return!0;return!!(t||s)||(e.credentialTypeId===y.DRIVER_LICENSE?"Please fill expiration date":"Please fill expiration date or select lifetime.")},validateExpiration:function(){return!0!==(D.isInProgress&&!D.expirationDay)||"Tentative completion date is required."}};D.isVerified=l(c)}]}]),t}(l);return new e(S,"credential-status",w)});var I={employeeId:"="},P={};angular.module("super-suit-components").directive("superCredentialsCntr",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$q","ssAsync","ssToastHlp","ssActiveUserSvc","ssCredentialDataAccessSvc","ssCredentialFactorySvc","ssCredentialViewModelFactorySvc","ssCredentialBusinessEngineSvc","ssOrganizationSvc",function(e,t,s,a,i,n,r,d,l,o){function p(e){var t=e._subjects.map(function(e){return e.id}).sort().join("_"),s=u.credentials.some(function(s){return e._credential.id===s._credential.id&&t===s._subjects.map(function(e){return e.id}).sort().join("_")});s&&a.info("The old credential has been moved to the Archived group at the bottom of the page.","Archiving Credential",!1)}var m=l.credentialConstants,u=e.vm={currentlyEditing:null,savingCredential:!1,newCredential:null,loadingCredentialList:!0,credentials:[]};s(regeneratorRuntime.mark(function t(){var s,r,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.getIdentityByType("employee");case 3:return u.loggedInUserKey=t.sent,t.next=6,o.getActiveOrg();case 6:return u.org=t.sent,t.next=9,n.getIssuersByCredentialType(m.CERTIFICATE_LICENSE,m.STATE_NATIONAL);case 9:return s=t.sent,t.next=12,n.getIssuersByCredentialType(m.CLEARANCES,m.STATE_NATIONAL);case 12:return r=t.sent,t.next=15,n.getIssuersByCredentialType(m.DRIVER_LICENSE,m.STATE_NATIONAL);case 15:return d=t.sent,e.stateIssuers=[],e.stateIssuers[m.CERTIFICATE_LICENSE]=s,e.stateIssuers[m.CLEARANCES]=r,e.stateIssuers[m.DRIVER_LICENSE]=d,t.next=22,n.getIssuers(m.DISTRICT_CUSTOM);case 22:return e.customIssuers=t.sent,t.next=25,n.getCredentialsByEmployee(e.employeeId);case 25:u.credentials=t.sent,t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](0),a.error(t.t0,"Error",!1);case 31:return t.prev=31,u.loadingCredentialList=!1,t.finish(31);case 34:case"end":return t.stop();}},t,this,[[0,28,31,34]])}))();e.go={addCredential:function(){var e=r.create(),t=d.create(e);u.currentlyEditing=u.newCredential=t},saveCredential:function(i,r){u.savingCredential=!0,s(regeneratorRuntime.mark(function s(){var d,l,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,n.addEmployeeCredential({id:e.employeeId},i);case 3:if(d=s.sent,l=r.filter(function(e){return null===e.id&&!e.isDeleted}),!l.length){s.next=12;break}return o=l.map(function(t){return n.associateFile(e.employeeId,d.id,t)}),s.next=9,t.all(o);case 9:return s.next=11,n.getEmployeeCredentialById({id:e.employeeId},d);case 11:d=s.sent;case 12:d&&(p(d),u.credentials.push(d),u.currentlyEditing=u.newCredential=null),s.next=18;break;case 15:s.prev=15,s.t0=s["catch"](0),a.error(s.t0,"Error",!1);case 18:return s.prev=18,u.savingCredential=!1,s.finish(18);case 21:case"end":return s.stop();}},s,this,[[0,15,18,21]])}))()},cancelCredential:function(){u.newCredential=u.currentlyEditing=null}}}]}]),t}(l);return new e(I,"credentials-cntr",P)});var E={credentialsList:"=",org:"=",loggedInUserKey:"=",currentlyEditing:"="},C={};angular.module("super-suit-components").directive("superCredentialsList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$q","ssAsync","ssToastHlp","ssCredentialDataAccessSvc","ssCredentialBusinessEngineSvc",function(e,t,s,a,i,n){function r(e,t){var s=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=t._subjects.map(function(e){return e.id}).sort().join("_"),n=!1;if(s){var r=e.filter(function(e){return e.id!==t.id});r.length&&(n=r.some(function(e){return e._credential.credentialTypeId===t._credential.credentialTypeId&&e._credential.id===t._credential.id&&e._credential.issuer.id===t._credential.issuer.id&&i===e._subjects.map(function(e){return e.id}).sort().join("_")}))}else n=e.some(function(e){return t.id===e.id&&i===e._subjects.map(function(e){return e.id}).sort().join("_")});n&&a.info("The old credential has been moved to the Archived group at the bottom of the page.","Archiving Credential",!1)}e.ctrl=e;var d=e.vm={archiveExpanded:!0};e.$watch("credentialsList.length",function(){var t=n.filterCredentialList(e.credentialsList),s=t.recent,a=t.archive;d.recent=s,d.archive=a});e.go={toggle:function(){d.archiveExpanded=!d.archiveExpanded},saveCredential:function(a,n,l,o){var p=t.defer();return s(regeneratorRuntime.mark(function s(){var m,u,c,v,g,f,y,h,_;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!l._id){s.next=19;break}if(m=o.filter(function(e){return e.isDeleted&&null!==e.id}),!m.length){s.next=7;break}return u=m.map(function(e){return i.deleteFile(n.id,l._id,e)}),s.next=7,t.all(u);case 7:if(c=o.filter(function(e){return null===e.id&&!e.isDeleted}),!c.length){s.next=12;break}return v=c.map(function(e){return i.associateFile(n.id,l._id,e)}),s.next=12,t.all(v);case 12:return s.next=14,i.patchEmployeeCredential(n,l);case 14:g=s.sent,g&&(r(d.recent,g,!0),f=e.credentialsList.indexOf(a),e.credentialsList[f]=g,e.currentlyEditing=null),p.resolve(g),s.next=32;break;case 19:return s.next=21,i.addEmployeeCredential(n,l);case 21:if(y=s.sent,h=o.filter(function(e){return null===e.id&&!e.isDeleted}),!h.length){s.next=30;break}return _=h.map(function(e){return i.associateFile(n.id,y.id,e)}),s.next=27,t.all(_);case 27:return s.next=29,i.getEmployeeCredentialById(n,y);case 29:y=s.sent;case 30:y&&(r(d.recent,y),e.credentialsList.push(y),e.currentlyEditing=null),p.resolve(y);case 32:s.next=37;break;case 34:s.prev=34,s.t0=s["catch"](0),p.reject(s.t0);case 37:case"end":return s.stop();}},s,this,[[0,34]])}))(),p.promise},deleteCredential:function(t){e.credentialsList=e.credentialsList.filter(function(e){return e!==t})}}}]}]),t}(l);return new e(E,"credentials-list",C)});var T={model:"=",employeePermissions:"=?",categoryPermission:"=?",onRemove:"&?"},M={};angular.module("super-suit-components").directive("superDocumentEditor",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$stateParams","$state","$filter","$window","ssValidationHlp","ssAsync","ssFilenameHlp","ssEmployeeApi","ssToastHlp","ssFormInstancesApi","ssSaveInterrupterSvc","ssObjectHlp","ssMultiInitiativeFeatureDetectorCCSvc","ssEnum","ssActiveUserSvc","ssSleepHlp",function(e,t,s,a,i,n,r,l,o,p,m,u,c,v,g,f,y){function h(e){var t=[],s=e._steps.filter(function(e){return b.test(e._formFieldValues)&&e._stepAction!==g.stepAction.formCompleted}).map(function(e){return e._formFieldValues});return s.length&&s.forEach(function(e){var s=JSON.parse(e);Object.keys(s).filter(function(e){return Array.isArray(s[e])}).filter(function(e){return s[e].every(function(e){return!!e.filename})}).forEach(function(e){var a;t=(a=t).concat.apply(a,d(_(s[e])))})}),t}function _(e){return e.map(function(e){var t=l.getExtension(e.filename),s=l.getIcon(t);return{id:e.id,filename:e.filename,ext:t,icon:s}})}var b=/.*{"filename":.*/,D=e.vm={categoryEnums:{personnel:g.personnelCategory.enums,medical:g.medicalCategory.enums},webFormCategory:e.model._category+"-"+e.model._subCategory,model:e.model,subCategories:e.subcategories,fileDateUtc:function(e){return e._createdUtc||e._originalFileDateUtc?e._originalFileDateUtc?"originated "+a("date")(e._originalFileDateUtc,"MM/dd/yyyy"):"added "+a("date")(e._createdUtc,"MM/dd/yyyy"):""}(e.model),isEdit:!1,fileIcon:l.getIcon(l.getExtension(e.model._name))||"file",extension:l.getExtension(e.model._name),loadingFiles:!e.model.isFile,filesOnInstance:[],validDeniedInfo:c.glean(e.model,function(e){return e._deniedInfo.comments})||c.glean(e.model,function(e){return e._deniedInfo.denier.name})};e.featureFlags={fc_enable_employee_module_save_interrupter:!1,fc_enhanced_denied_form_workflow:!1},e.validator={required:n.required()},e.$watch("vm.webFormCategory",function(t,s){t&&t!==s&&(e.model._category=t.split("-")[0],e.model._subCategory=t.split("-")[1])}),r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.resolveAll(e.featureFlags);case 2:e.model.isFile||m.get({id:e.model._formInstanceId,include:"steps"}).then(function(e){return D.filesOnInstance=h(e)}).finally(function(){return D.loadingFiles=!1}),e.featureFlags.fc_enable_employee_module_save_interrupter&&u.register(e.model);case 4:case"end":return t.stop();}},t,this)}))();var x=e.go={save:function(){r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return D.saving=!0,0>e.model._name.indexOf("."+D.extension)&&(e.model._name+="."+D.extension.toLowerCase()),t.prev=2,t.next=5,e.model.$save();case 5:p.success("Document saved successfully."),t.next=14;break;case 8:t.prev=8,t.t0=t["catch"](2),p.error(t.t0,"Error saving document"),e.model.$revert(),D.saving=!1,D.isEdit=!1;case 14:return t.prev=14,y.sleep().then(function(){e.$emit("on-document-edit",e.model)}),t.finish(14);case 17:case"end":return t.stop();}},t,this,[[2,8,14,17]])}))()},cancelEdit:function(){e.model.$revert(),e.featureFlags.fc_enable_employee_module_save_interrupter&&u.clear(),D.isEdit=!1},downloadFiles:function(e){e.forEach(function(e){return x.downloadFile(e.id)})},downloadFile:function(e){o.getFileUrlById({id:t.employeeId,fileId:e}).then(function(e){i.open(e._string,"_blank")})},viewOnline:function(e){var a=s.current.name.substring(s.current.name.lastIndexOf(".")+1),n="/ec-forms/form-instance/"+e+"?returnUrl=/ec-employee/record/"+t.employeeId+"/"+a;i.open(n,"_self")}}}]}]),t}(l);return new e(T,"document-editor",M)});var F={employee:"=?",employeeId:"=?",onBeforeSave:"&?",onAfterSave:"&?",onBeforeCancel:"&?",onAfterCancel:"&?"},A={};angular.module("super-suit-components").directive("superEmergencyContact",function(){var e=function(e){function l(){return s(this,l),n(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return i(l,e),a(l,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","ssSaveInterrupterSvc","ssEventSvc","ssMultiInitiativeFeatureDetectorCCSvc","ssValidateHlp","ssEmployeeModelHlp","ssJsonApiHlp","ssMutatorDataHlp","ssValidationHlp","ssSleepHlp","enumRelationshipTypes",function(e,s,a,i,n,l,o,p,m,u,c,v,g){function f(e,t){var s=r(e,3),a=s[0],i=s[1],n=s[2],d=w.employee._emergencyContacts.findIndex(function(e){return"primary"===t?e._isPrimary:!e._isPrimary});return-1!==d&&w.employee._emergencyContacts.splice(d,1),null!=a&&-1!==a?void w.employee._emergencyContacts.push(w[t]):""!==i||""!==n?void w.employee._emergencyContacts.push(w[t]):void 0}function y(e){p.cleanEmployeeForSave(e),h(e),_(e)}function h(e){var t={_isPrimary:!1,_relationshipType:-1,_contactName:null,_primaryPhone:null,_alternatePhone:null},s={_contactName:"",_primaryPhone:"",_alternatePhone:""},a=[].concat(d(e._emergencyContacts));0===a.length?(a.push(angular.extend({},t)),a[0]._isPrimary=!0):1===a.length&&(a.push(angular.extend({},t)),a[1]._isPrimary=!a[0]._isPrimary),e.primaryEmergencyContact=a.find(function(e){return e._isPrimary}),e.secondaryEmergencyContact=a.find(function(e){return!e._isPrimary}),null!=e.primaryEmergencyContact&&m.setFieldDefaultValues(e.primaryEmergencyContact,s),null!=e.secondaryEmergencyContact&&m.setFieldDefaultValues(e.secondaryEmergencyContact,s)}function _(e){null!=e.primaryEmergencyContact&&(e.primaryEmergencyContact.primaryPhoneFormatted=u.formatPhone(e.primaryEmergencyContact._primaryPhone),e.primaryEmergencyContact.alternatePhoneFormatted=u.formatPhone(e.primaryEmergencyContact._alternatePhone)),null!=e.secondaryEmergencyContact&&(e.secondaryEmergencyContact.primaryPhoneFormatted=u.formatPhone(e.secondaryEmergencyContact._primaryPhone),e.secondaryEmergencyContact.alternatePhoneFormatted=u.formatPhone(e.secondaryEmergencyContact._alternatePhone))}function b(e){p.cleanEmployeeForSave(e)}function D(e,t){for(var s=!1,a=0;a<e.length;a++)s=null==e[a]?s||!1:s||0<e[a].length;return s?s:(null==t&&(t="One of the fields in this group is required."),t)}function x(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return"function"==typeof e?e:function(){}}var S={onBeforeSave:x(e.onBeforeSave),onAfterSave:x(e.onAfterSave),onBeforeCancel:x(e.onBeforeCancel),onAfterCancel:x(e.onAfterCancel)},w=e.vm={editMode:!1,options:g.getEnums(),employee:e.employee,primary:!1,secondary:!1,saving:!1,validator:{phone:c.phone(),required:c.required()},loading:!0};e.featureFlags={fc_enable_employee_module_save_interrupter:!1},s(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return w.loading=!0,t.prev=1,t.next=4,l.resolveAll(e.featureFlags);case 4:if(null!=e.employee){t.next=16;break}return t.prev=5,t.next=8,a.get({id:e.employeeId,include:"emergencyContacts",fields:"id"},null,!1);case 8:w.employee=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),n.emit("error-404");case 14:t.next=17;break;case 16:w.employee=e.employee;case 17:w.permitted=w.employee.$permitted.props,y(w.employee),w.primary=w.employee.primaryEmergencyContact,w.secondary=w.employee.secondaryEmergencyContact,e.$watch("vm.primary._contactName",function(e,t){if(e!==t&&null!=e&&t&&!t.length&&e.length){var s=w.employee._emergencyContacts.findIndex(function(e){return e._isPrimary});-1!==s&&w.employee._emergencyContacts.splice(s,1),w.employee._emergencyContacts.push(w.primary)}}),e.$watch("vm.secondary._contactName",function(e,t){if(e!==t&&null!=e&&t&&!t.length&&e.length){var s=w.employee._emergencyContacts.findIndex(function(e){return!e._isPrimary});-1!==s&&w.employee._emergencyContacts.splice(s,1),w.employee._emergencyContacts.push(w.secondary)}}),e.$watchGroup(["vm.primary._relationshipType","vm.primary._primaryPhone","vm.primary._alternatePhone"],function(e,t){e===t||f(e,"primary")}),e.$watchGroup(["vm.secondary._relationshipType","vm.secondary._primaryPhone","vm.secondary._alternatePhone"],function(e,t){e===t||f(e,"secondary")}),e.featureFlags.fc_enable_employee_module_save_interrupter&&(e.$on("$destroy",function(){i.clear()}),i.clear(),w.employee.$$resetChangesDetected(),i.register(w.employee));case 26:return t.prev=26,w.loading=!1,t.finish(26);case 29:case"end":return t.stop();}},t,this,[[1,,26,29],[5,11]])}))();e.go={edit:function(){w.editMode=!0},cancel:function(){S.onBeforeCancel(),w.loading=!0,w.employee.$refresh().then(function(){h(w.employee),_(w.employee),w.primary=w.employee.primaryEmergencyContact,w.secondary=w.employee.secondaryEmergencyContact,i.clear(),w.editMode=!1,w.loading=!1,S.onAfterCancel()})},save:function(){w.editMode&&(S.onBeforeSave(),w.saving=!0,s(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,b(w.employee),s.next=4,w.employee.$save();case 4:return s.next=6,v.sleep();case 6:return s.next=8,w.employee.$refresh();case 8:h(w.employee),_(w.employee),w.primary=w.employee.primaryEmergencyContact,w.secondary=w.employee.secondaryEmergencyContact,i.clear(),i.register(w.employee),w.editMode=!1,S.onAfterSave(),o.resetValidation(t),e.$emit("ss-validate-reset"),n.emit("module.employee.saved",w.employee),s.next=24;break;case 21:s.prev=21,s.t0=s["catch"](0),y(w.employee);case 24:return s.prev=24,w.saving=!1,s.finish(24);case 27:case"end":return s.stop();}},s,this,[[0,21,24,27]])}))())},clearContact:function(e){var t=w.employee._emergencyContacts.findIndex(function(t){return t._isPrimary===e._isPrimary});-1<t&&(e._contactName="",e._primaryPhone="",e._alternatePhone="",e._relationshipType=-1)},validateOr:function(e){if(null==e)return!0;if(null!=w.employee){var t=w.employee._emergencyContacts.find(function(t){return t._isPrimary===e._isPrimary});return!(e._contactName||void 0!==t)||(e._contactName&&e._contactName.length?D([e._contactName,e._primaryPhone,e._alternatePhone,e._relationshipType]):"Contact information requires a name")}},hideLabel:function(e){return!!w.editMode||null!=e}}}]},{key:"link",value:function(){angular.element(document).ready(function(){t=angular.element(document.getElementsByClassName("record"))})}}]),l}(l),t;return new e(F,"emergency-contact",A)});var k={employeeId:"=",startInEditMode:"=?",onBeforeSave:"&?",onAfterSave:"&?",onBeforeCancel:"&?",onAfterCancel:"&?"},N={};angular.module("super-suit-components").directive("superEmploymentInfo",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$location","moment","ssAssignmentApi","ssObjectHlp","ssSleepHlp","ssAsync","ssListSvc","ssDateByOrgHlp","ssDateHlp","ssValidationHlp","ssOrganizationSvc","ssEmployeeApi","ssPositionsApi","ssEventSvc","ssMultiInitiativeFeatureDetectorCCSvc","ssSaveInterrupterSvc","ssToastHlp",function(e,t,s,a,i,n,d,l,o,m,p,u,c,v,g,f,y,h){function _(){return D().then(function(e){var t=r(e,3),s=t[0],a=t[1],i=t[2];C.permitted=s.$permitted.props,C.employee=x(s),C.positions=a,C.supplementals=i})}function b(){return d(regeneratorRuntime.mark(function t(){var s,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s="hireDate,retirementSystem,seniorityDate,stateEducatorId"+(e.featureFlags.showTenureDate?",tenureDate":""),a=[],t.next=4,c.get({id:e.employeeId,fields:s,include:"statusHistory,supervisors"},null,!1);case 4:if(i=t.sent,!i.$permitted.props.employeeSupplementals.view){t.next=9;break}return t.next=8,c.getEmployeeSupplemental({id:e.employeeId});case 8:a=t.sent;case 9:return t.abrupt("return",[i,a]);case 10:case"end":return t.stop();}},t,this)}))()}function D(){var e,t,s;return b().then(function(t){var a=r(t,2);if(e=a[0],s=a[1],e.$permitted.props.assignments.view)return v.getForEmployee({id:e.id,include:"assignments"})}).then(function(e){if(t=e,t){var s=t.map(function(e){return a.getAssignment({id:e.id,assignmentId:e._assignments[0].id,include:"details"})});return Promise.all(s)}}).then(function(a){return a&&a.forEach(function(e){var s=t.find(function(t){return t.id===e._positionId});s&&(s.assignment=e)}),[e,t,s]})}function x(t){null==t._retirementSystem&&(t._retirementSystem={});var s=null;return null!=t._retirementSystem.id&&(s=C.retirementSystems.find(function(e){return e.value===t._retirementSystem.id})),null==t._retirementSystem.name&&null!=s&&(t._retirementSystem.name=s.name,t._retirementSystem.id=s.value),C.hireDateTxt=null==t._hireDate?"":o.utcIsoToRelativeMoment(t._hireDate,C.org).format("MM/DD/YYYY"),C.seniorityDateTxt=null==t._seniorityDate?"":o.utcIsoToRelativeMoment(t._seniorityDate,C.org).format("MM/DD/YYYY"),e.featureFlags.showTenureDate&&(C.tenureDateTxt=null==t._tenureDate?"":o.utcIsoToRelativeMoment(t._tenureDate,C.org).format("MM/DD/YYYY")),t}function S(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=t.reset;e.featureFlags.fc_enable_employee_module_save_interrupter&&(void 0!==s&&s?y.clear():(e.$on("$destroy",function(){y.clear()}),y.register(C.employee),y.register(C.employee._supervisors),y.register(C.employee._statusHistory),y.register(C.positions),C.supplementals&&C.supplementals.length&&y.register(C.supplementals),C.employee.$$resetChangesDetected()))}function w(e){return!!C.employee.$permitted.actions.edit&&null!=e&&(!!e.hireDate.edit||!!e.seniorityDate.edit||!!e.tenureDate.edit||!!e.retirementSystem.edit||!!e.supervisor.edit||!!e.statusHistory.edit||!!(C.positions.length&&e.assignments.edit&&I())||!!(C.supplementals&&C.supplementals.length&&e.employeeSupplementals.edit))}function I(){return C.positions.reduce(function(e,t){return t.assignment.$permitted.actions.edit||e},!1)}function P(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return"function"==typeof e?e:function(){}}e.validator={educatorId:p.string({maxLength:100})},e.featureFlags={hasStateEducatorIdonEmployment:!1,showTenureDate:!1,fc_enable_employee_module_save_interrupter:!1,global_fc_shared_employee:!1,fc_feb_2021_enable_employee_supplementals:!1};var E={onBeforeSave:P(e.onBeforeSave),onAfterSave:P(e.onAfterSave),onBeforeCancel:P(e.onBeforeCancel),onAfterCancel:P(e.onAfterCancel)},C=e.vm={loading:!1,saving:!1,editMode:!0===e.startInEditMode,permitted:{},anyFieldIsEditable:!1},T=t.search();(function(){C.loading=!0,f.resolveAll(e.featureFlags).then(function(){return u.getActiveOrg()}).then(function(e){return C.org=e,l.getByExternalId("employee.retirementsystems")}).then(function(e){return C.retirementSystems=e,_()}).then(function(){e.$watch("vm.employee._retirementSystem.id",function(e,t){if(e!==t&&null!=e&&C.editMode){var s=C.retirementSystems.find(function(t){return t.value===e});null==s&&(s={name:"None",id:-1,value:-1}),C.employee._retirementSystem={id:s.value,name:s.name}}}),e.$watch("vm.hireDateTxt",function(e,t){e!==t&&C.editMode&&(C.employee._hireDate=null==e?null:o.startOfDayRelativeTo(s(e),C.org))}),e.$watch("vm.seniorityDateTxt",function(e,t){e!==t&&C.editMode&&(C.employee._seniorityDate=null==e?null:o.startOfDayRelativeTo(s(e),C.org))}),e.featureFlags.showTenureDate&&e.$watch("vm.tenureDateTxt",function(e,t){e!==t&&C.editMode&&(C.employee._tenureDate=null==e?null:o.startOfDayRelativeTo(s(e),C.org))}),C.anyFieldIsEditable=w(C.permitted),T.edit&&C.anyFieldIsEditable&&(C.editMode=!0),S()}).catch(function(e){h.error(e)}).finally(function(){C.loading=!1})})();e.go={edit:d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:C.loading=!0,_().then(function(){S()}).catch(function(e){h.error(e)}).finally(function(){C.editMode=!0,C.loading=!1});case 2:case"end":return e.stop();}},e,this)})),cancel:d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:E.onBeforeCancel(),C.loading=!0,_().then(function(){S({reset:!0})}).catch(function(e){h.error(e)}).finally(function(){C.loading=!1,C.editMode=!1,E.onAfterCancel()});case 3:case"end":return e.stop();}},e,this)})),save:d(regeneratorRuntime.mark(function e(){var t=this,s,r,d,l,p,u,c,v,f,y,b,D,x,w,I,P,T;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C.editMode){e.next=2;break}return e.abrupt("return");case 2:return E.onBeforeSave(),C.loading=!0,e.prev=4,e.next=7,C.employee.$save(!1);case 7:return e.next=9,C.employee._statusHistory.$save();case 9:return e.next=11,C.employee._supervisors.$save({opOrder:["remove","modify","add"]});case 11:if(C.employee.$$applyMutators(),!C.permitted.assignments.edit){e.next=76;break}return C.positions.filter(function(e){return null==e._endDate}).forEach(function(e){return e._endDate=m.foreverFuture()}),s=C.positions.find(function(e){return null==e.id&&e.assignment._isPrimary}),null!=s&&(r=o.utcIsoToRelativeMoment(s._startDate,C.org).add(-1,"days"),C.positions.filter(function(e){return e.assignment._isPrimary&&null!=e.id&&m.isForeverFuture(e._endDate)}).forEach(function(e){return e._endDate=o.endOfDayRelativeTo(r,C.org)})),e.next=18,C.positions.$save();case 18:d=C.positions.filter(function(e){return null!=i.glean(e,function(e){return e.assignment._details})}).map(function(e){return e.assignment._details.filter(function(e){return null!=e.id})}),l=!0,p=!1,u=void 0,e.prev=22,c=d[Symbol.iterator]();case 24:if(l=(v=c.next()).done){e.next=55;break}f=v.value,y=!0,b=!1,D=void 0,e.prev=29,x=f[Symbol.iterator]();case 31:if(y=(w=x.next()).done){e.next=38;break}return I=w.value,e.next=35,I.$save();case 35:y=!0,e.next=31;break;case 38:e.next=44;break;case 40:e.prev=40,e.t0=e["catch"](29),b=!0,D=e.t0;case 44:e.prev=44,e.prev=45,!y&&x.return&&x.return();case 47:if(e.prev=47,!b){e.next=50;break}throw D;case 50:return e.finish(47);case 51:return e.finish(44);case 52:l=!0,e.next=24;break;case 55:e.next=61;break;case 57:e.prev=57,e.t1=e["catch"](22),p=!0,u=e.t1;case 61:e.prev=61,e.prev=62,!l&&c.return&&c.return();case 64:if(e.prev=64,!p){e.next=67;break}throw u;case 67:return e.finish(64);case 68:return e.finish(61);case 69:P=regeneratorRuntime.mark(function e(s){var i,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=C.positions[s],e.next=3,a.getAssignment({id:i.id,assignmentId:i._assignments[0].id,include:"details"});case 3:return n=e.sent,n._details.length=0,i.assignment._details.forEach(function(e){return n._details.push(e)}),e.next=8,n._details.$save({opOrder:["remove","modify","add"]});case 8:case"end":return e.stop();}},e,t)}),T=0;case 71:if(!(T<C.positions.length)){e.next=76;break}return e.delegateYield(P(T),"t2",73);case 73:T++,e.next=71;break;case 76:if(!C.permitted.employeeSupplementals.edit){e.next=79;break}return e.next=79,C.supplementals.$save();case 79:return e.next=81,n.sleep();case 81:E.onAfterSave(),g.emit("employment-details-saved",C.employee),e.next=87;break;case 85:e.prev=85,e.t3=e["catch"](4);case 87:return e.prev=87,_().then(function(){S({reset:!0})}).catch(function(e){h.error(e)}).finally(function(){C.editMode=!1,C.loading=!1}),e.finish(87);case 90:case"end":return e.stop();}},e,this,[[4,85,87,90],[22,57,61,69],[29,40,44,52],[45,,47,51],[62,,64,68]])})),assignmentsAreLoaded:function(e){C.loading=!e}}}]}]),t}(l);return new e(k,"employment-info",N)});var R={employeeId:"@",model:"=",hasValue:"=",label:"@",labelWeight:"@?",isDisabled:"=?",name:"@",inputId:"@",value:"=?",required:"=?",placeholder:"@",permissions:"=?",editMode:"="},$={};angular.module("super-suit-components").directive("superInputSsn",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$element","$attrs","$timeout","ssAsync","ssEmployeeApi","ssEventSvc","enumPropertyAction",function(e,t,s,a,i,n,r,d){var l=e.vm={showValue:!1,redactedValue:"*********"},o=e.cmpt=e;e.$watch("model",function(e,t){e===t||null==e&&null!=t&&(l.showValue=!1)}),e.$watchGroup(["editMode","permissions"],function(e){var a=e[0],i=e[1],n=null==a;l.editMode=!n&&!0===a,null==i?void 0===s.permissions?(l.permissions={view:!0,edit:!0,redacted:!1,raw:3},n&&(l.editMode=!0)):(l.permissions={view:!0,edit:!1,redacted:!1,raw:1},n&&(l.editMode=!1)):(l.permissions=angular.extend({},i),4<l.permissions.raw&&(l.permissions.raw-=d.redacted),l.permissions.redacted=!1),l.permissions.edit||(l.editMode=!1),l.permissions.raw===d.notVisible&&t.remove()});e.go={get:function(){return l.loading=!0,i(regeneratorRuntime.mark(function t(){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getSsn(e.employeeId);case 2:s=t.sent,o.model=s,a(function(){return r.emit("employee-ssn-retrieved")},50),l.showValue=!0,l.loading=!1;case 7:case"end":return t.stop();}},t,this)}))()}}}]}]),t}(l);return new e(R,"input-ssn",$)});var O={employeeId:"="},L={};angular.module("super-suit-components").directive("superMedicalDocuments",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={employeeId:e.employeeId},s=e.go={}}]}]),t}(l);return new e(O,"medical-documents",L)});var U={employeeId:"=",onBeforeSave:"&?",onAfterSave:"&?",onBeforeCancel:"&?",onAfterCancel:"&?"},Y={};angular.module("super-suit-components").directive("superPersonalInfo",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={},s=e.go={}}]}]),t}(l);return new e(U,"personal-info",Y)});var j={employeeId:"=",onBeforeSave:"&?",onAfterSave:"&?",onBeforeCancel:"&?",onAfterCancel:"&?"},V={};angular.module("super-suit-components").directive("superPersonalInfoNew",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$element","$stateParams","$state","moment","ssEmployeeApi","ssAsync","ssEnum","ssSaveInterrupterSvc","ssEventSvc","ssEmployeeModelHlp","ssDateByOrgHlp","ssOrganizationSvc","ssSleepHlp","ssOptionalFieldGroupHlp","ssValidationHlp","ssToastHlp","ssMultiInitiativeFeatureDetectorCCSvc","ssPermissionsSvc","ssEnumHlp",function(e,t,s,a,i,n,r,d,l,o,p,m,u,c,v,g,f,y,h,_){function b(){return n.get({id:e.employeeId,fields:"age,aliasFirstName,aliasLastName,aliasMiddleName,aliasTitle,birthDateUtc,ethnicity,externalId,firstName,gender,hasSsn,lastName,maritalStatus,middleName,race,sSN,stateEducatorId,suffix,title,orgPersonCreated,orgPersonUpdated,canonicalEmployeeEventsOutOfSync,preferredName,multipleRaces",include:"phoneNumbers,emails,addresses"},null,!1).then(function(e){C.emp=e,C.birthDateTxt=null==C.emp._birthDateUtc?null:m.utcIsoToRelativeMoment(C.emp._birthDateUtc,C.org).format("MM/DD/YYYY"),E=S(),C.permitted=C.emp.$permitted.props}).catch(function(e){throw e})}function D(e,t){var s=C.emp._emails.find(function(s){return s._emailType===C.emailType[t]});if(""===e){var a=C.emp._emails.indexOf(s);return void C.emp._emails.splice(a,1)}null==s?C.emp._emails.push({_emailAddress:e,_emailType:C.emailType[t],_isPrimary:!1}):s._emailAddress=e}function x(t){if(e.featureFlags.isDataIntegrationsEnabled)return!0;var s=C.emp.$permitted.props;if("personal"===t){if(s.title.edit)return!0;if(s.firstName.edit)return!0;if(s.middleName.edit)return!0;if(s.lastName.edit)return!0;if(s.suffix.edit)return!0;if(s.stateEducatorId.edit)return!0;if(s.aliasFirstName.edit)return!0;if(s.aliasMiddleName.edit)return!0;if(s.aliasLastName.edit)return!0;if(s.birthDateUtc.edit)return!0;if(s.age.edit)return!0;if(s.ssn.edit)return!0;if(s.externalId.edit)return!0;if(s.maritalStatus.edit)return!0;if(s.gender.edit)return!0;if(s.ethnicity.edit)return!0;if(s.race.edit)return!0}else{if("addresses"===t)return s.addresses.edit;if("emails"===t)return s.personalEmails.edit||s.organizationEmails.edit;if("phones"===t)return s.personalPhoneNumbers.edit||s.organizationPhoneNumbers.edit}return!1}function S(){var e=Object.keys(C.editMode),t=e.map(function(e){return x(e)});return t.some(function(t){return!0===t})}function w(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return"function"==typeof e?e:function(){}}function I(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=Object.keys(C.editMode);t.forEach(function(t){return C.editMode[t]=e})}e.featureFlags={isHRMSEnabled:!1,isDataIntegrationsEnabled:!1,hasStateEducatorIdonPersonal:!1,fc_enable_employee_module_save_interrupter:!1,fc_apr_2021_enable_preferred_staff_member_name:!1,fc_enable_multiple_races:!1},e.validator={email:g.email(),required:g.required(),ssn:g.ssn(),educatorId:g.string({maxLength:100}),preferredName:g.string({maxLength:20})};var P={onBeforeSave:w(e.onBeforeSave),onAfterSave:w(e.onAfterSave),onBeforeCancel:w(e.onBeforeCancel),onAfterCancel:w(e.onAfterCancel)},E=!1,C=e.vm={editMode:{personal:!1,addresses:!1,emails:!1,phones:!1,all:!1},saving:!1,options:{title:d.salutation.getEnums(),suffix:d.suffix.getEnums(),maritalStatus:d.maritalStatus.getEnums(),gender:d.gender.getEnums(),ethnicity:d.ethnicity.getEnums(),race:_.sortMultiSelectEnums(d.race.getEnums())},emailType:d.emailType,expanded:!1,loading:!1};r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return C.loading=!0,t.prev=1,t.next=4,y.resolveAll(e.featureFlags);case 4:return e.validator.externalId=function(t,s){if(!C.editMode.personal)return!0;var a=g.string({required:!e.featureFlags.isHRMSEnabled,maxLength:100});return a(t,s)},"-edit"===s.action&&h.isPermittedAction("employees","edit")?I(!0):I(),t.next=8,u.getActiveOrg();case 8:return C.org=t.sent,t.next=11,b();case 11:p.loadEmployee(C.emp),p.setupEmployee(C.emp),e.$watch("vm.birthDateTxt",function(e,t){e===t||(C.emp._birthDateUtc=null==e?null:m.startOfDayRelativeTo(i(e),C.org))}),e.$watch("vm.emp.workEmail._emailAddress",function(e,t){e===t||D(e,"work")}),e.$watch("vm.emp.personalEmail._emailAddress",function(e,t){e===t||D(e,"personal")}),o.on("employee-ssn-retrieved",function(){C.emp.$$forceChangedState("sSN",!1)},e),e.featureFlags.fc_enable_employee_module_save_interrupter&&(e.$on("$destroy",function(){l.clear()}),l.clear(),C.emp.$$resetChangesDetected(),l.register(C.emp)),C.loading=!1,t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](1),C.loading=!1;case 24:case"end":return t.stop();}},t,this,[[1,21]])}))();e.go={canEdit:x,edit:function(e){I(),E&&(C.editMode[e]=!0)},cancel:r(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P.onBeforeCancel(),s=t.find("form"),s.scope().$emit("ss-validate-reset"),e.next=6,b();case 6:I(),P.onAfterCancel(),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop();}},e,this,[[0,10]])})),save:r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:if(C.editMode.personal||C.editMode.addresses||C.editMode.emails||C.editMode.phones){e.next=4;break}return e.abrupt("return");case 4:return P.onBeforeSave(),C.saving=!0,e.prev=6,p.preSave(C.emp),e.next=10,C.emp.$save();case 10:return e.next=12,c.sleep();case 12:P.onAfterSave(),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](6),f.error("There was an error saving the employee"),C.saving=!1;case 19:return e.prev=19,e.prev=20,e.next=23,b();case 23:I(),"-edit"===s.action&&a.go(".",{action:""}),e.next=29;break;case 27:e.prev=27,e.t1=e["catch"](20);case 29:return e.prev=29,C.saving=!1,e.finish(29);case 32:return e.finish(19);case 33:case"end":return e.stop();}},e,this,[[6,15,19,33],[20,27,29,32]])})),syncOrgPerson:r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,C.saving=!0,t.next=4,n.upsertOrgPerson({employeeId:e.employeeId});case 4:return t.next=6,c.sleep();case 6:return t.next=8,b();case 8:I(),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:return t.prev=13,C.saving=!1,t.finish(13);case 16:case"end":return t.stop();}},t,this,[[0,11,13,16]])})),validateOr:function(e){return C.permitted.ssn.raw===d.propertyAction.notVisible&&C.permitted.externalId.raw===d.propertyAction.notVisible||v.validate(e,"Please enter a SSN or a Staff ID.")},validateSSN:function(){return C.permitted===d.propertyAction.redacted||e.validator.ssn(C.emp._sSN)},isEditDisabled:function(e){var t=Object.keys(C.editMode);t=t.filter(function(t){return t!==e});var a=!1;return t.forEach(function(e){return a=a||C.editMode[e]}),a}}}]}]),t}(l);return new e(j,"personal-info-new",V)});var H={employeeId:"="},q={};angular.module("super-suit-components").directive("superPersonnelDocuments",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={employeeId:e.employeeId},s=e.go={}}]}]),t}(l);return new e(H,"personnel-documents",q)});var B={label:"@",phone:"=",editMode:"=?",onRemove:"&",onCheck:"&",permissions:"="},G={};angular.module("super-suit-components").directive("superPhone",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","ssModalSvc","ssEnum","ssValidationHlp","ssArrayHlp",function(e,t,s,a,i){var n=function(){return s.usageType.getEnums().map(function(e){return e.name="Work"===e.name?"Organization":e.name,e})}(),r=e.vm={phoneTypes:s.phoneTypes.getEnums(),usageTypes:n,featureFlags:e.$root.utils.findInParentScope("featureFlags",e)};e.validator={required:a.required(),phoneNumber:function(t,s){if(!0!==e.editMode||null==t||!t.length)return!0;var i=a.phone();return i(t,s)}},e.$watch("phone._isPrimary",function(t,s){t===s||!0===t&&e.onCheck()});var d=e.go={cancel:function(){"function"==typeof e.phone.$revert&&e.phone.$revert(),null==e.phone.id&&e.onRemove(),e.phone.isEditing=!1},edit:function(){e.phone.isEditing=!0},remove:function(){t.showDestructive({title:"Are you sure?",content:"Are you sure you want to delete this phone number?",primaryText:"Delete Phone Number",secondaryText:"Cancel",alwaysOnTop:!0}).then(function(){e.onRemove()})},filterUsageTypes:function(t){return e.phone.isEditing?!!d.canEditUsageType(t.value)&&"Other"!==t.name:"Other"!==t.name},canEditUsageType:function(t){var s=i.findWhere(n,{value:t});return s=s?s.name:"","Organization"===s?e.permissions.organizationPhoneNumbers.edit:"Personal"===s&&e.permissions.personalPhoneNumbers.edit}}}]}]),t}(l);return new e(B,"phone",G)});var z={phones:"=",editMode:"=?",permissions:"="},W={};angular.module("super-suit-components").directive("superPhoneList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope",function(e){function t(){null!=e.phones&&e.phones.forEach(function(e){return e.isEditing=!1})}var s=e.vm={};e.$watch("editMode",function(){s.editMode=!0===e.editMode,e.permissions.personalPhoneNumbers.edit||e.permissions.organizationPhoneNumbers.edit||(s.editMode=!1),t()}),e.$watch("phones",t);e.go={add:function(){e.phones.push({_isPrimary:!1,_extension:null,_number:null,_usageType:null,isEditing:!0,_canReceiveTexts:!1})},onRemove:function(t){e.phones.splice(t,1)},onCheck:function(t){e.phones.forEach(function(e,s){t===s||(e._isPrimary=!1)})}}}]}]),t}(l);return new e(z,"phone-list",W)});var K={employee:"=",editMode:"=",org:"="},J={};angular.module("super-suit-components").directive("superStatusGroup",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","ssDateHlp","ssDateByOrgHlp","enumEmployeeStatus",function(e,t,s,a){function i(e){var t=s.utcIsoToRelativeMoment(e,d.org);return t.clone().add(1,"days").startOf("day")}function n(e,s){var a=moment(e._from||t.foreverFuture()),i=moment(s._from||t.foreverFuture());return a.isBefore(i)?-1:a.isAfter(i)?1:0}function r(e){return e.sort(function(e,t){return new Date(t._to)-new Date(e._to)})[0]}var d=e.vm={newStatuses:[],pastStatuses:[],futureStatuses:[],currentStatus:{},hasCurrentStatus:!1,org:e.org,expanded:!1};e.$watch("editMode",function(){d.editMode=!0===e.editMode,e.employee.$permitted.props.statusHistory.edit||(d.editMode=!1),d.newStatuses=[],null==e.employee._statusHistory&&(e.employee._statusHistory=[]);var t=e.employee._statusHistory;if(d.futureStatuses=t.filter(function(e){return s.isInFuture({obj:e,fromProp:"_from",toProp:"_to",org:d.org})}).sort(n),d.futureStatuses.reverse(),d.currentStatus=t.find(function(e){return s.isCurrent({obj:e,fromProp:"_from",toProp:"_to",org:d.org})}),d.pastStatuses=t.filter(function(e){return s.isInPast({obj:e,fromProp:"_from",toProp:"_to",org:d.org})}).sort(n),d.pastStatuses.reverse(),null!=d.currentStatus)d.hasCurrentStatus=!0;else if(d.hasCurrentStatus=!1,d.currentStatus={_statusId:a.noStatus},d.pastStatuses.length){var r=d.pastStatuses[0]._to;d.currentStatus._from=i(r).toISOString()}});e.go={addStatus:function(){var a=r(e.employee._statusHistory),n=null;n=a?t.isForeverFuture(a._to)?i(a._from):i(a._to):s.todaysStartRelativeTo(d.org);var l={_statusId:-1,_from:n.toISOString(),_to:t.foreverFuture()};d.newStatuses.push(l),e.employee._statusHistory.push(l)},removeStatus:function(t,s){var a=e.employee._statusHistory.findIndex(function(e){return e.id===t.id});0<=a&&e.employee._statusHistory.splice(a,1);var i=s.findIndex(function(e){return e.id===t.id});0<=i&&s.splice(i,1)},validate:function(){var s=e.employee._statusHistory;if(null==s||0===s.length)return!0;var a=s.sort(n),r=!1,d="Statuses cannot overlap.";return a.forEach(function(e,s){if(!r){if(s===a.length-1)return void(null==e._to&&(e._to=t.foreverFuture()));if(null==e._to)return d="Please provide an end date if creating a status prior to another.",void(r=!0);var i=moment(e._to),n=moment(a[s+1]._from);r=i.isAfter(n)}}),!r||d}}}]}]),t}(l);return new e(K,"status-group",J)});var Z={label:"@",status:"=",editMode:"=?",type:"@",onRemove:"&",editable:"=?",org:"="},Q={};angular.module("super-suit-components").directive("superStatusItem",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","ssAsync","enumEmployeeStatus","ssListSvc","ssValidationHlp","ssModalSvc","ssDateHlp","ssDateByOrgHlp","ssEventSvc",function(e,t,s,a,i,n,r,d,l){function o(){"current"===e.type?c.tagText="In Effect":"future"===e.type?c.tagText="Upcoming":"past"===e.type&&(c.tagText="Past")}e.validator={required:function(e,t){var s=i.numeric({min:0});return!0===s(e,t)||t+" is required"}},e.enumEmployeeStatus=s;var p=e.org,m=e.status,u={startDate:"Start Date is required.",overlap:"Start Date must be prior to End Date."},c=e.vm={changeReasons:[],editable:!0===e.editable,tagText:"",startDateTxt:null==m._from||r.isForeverPast(m._from)?null:d.utcIsoToRelativeMoment(m._from,p).format("MM/DD/YYYY"),endDateTxt:null==m._to||r.isForeverFuture(m._to)?null:d.utcIsoToRelativeMoment(m._to,p).format("MM/DD/YYYY")};e.$watch("editMode",o),l.on("employment-details-saved",function(){c.editable=!1,o()},e),e.$watch("vm.startDateTxt",function(e,t){e!==t&&e instanceof Date&&(m._from=d.startOfDayRelativeTo(moment(e),p))}),e.$watch("vm.endDateTxt",function(e,t){e===t||(null==e?m._to=r.foreverFuture():m._to=d.endOfDayRelativeTo(moment(e),p))}),t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.getByExternalId("employee.statuschangereasons");case 2:c.changeReasons=t.sent,e.$watch("status._statusChangeReasonId",function(e){var t=c.changeReasons.find(function(t){return t.value===e});c.currentChangeReason=t&&t.name||""});case 4:case"end":return t.stop();}},t,this)}))();e.go={cancel:function(){"function"==typeof m.$revert&&(m.$revert(),o()),"new"===e.type&&e.onRemove(),c.editable=!1},open:function(){n.showStandard({title:"Are you sure?",content:"If this employee is undergoing a status change, do not edit this current status. Rather use \"Add Status Change\" option.",primaryText:"Continue Editing",secondaryText:"Cancel"}).then(function(){c.editable=!0})},remove:function(){n.showDestructive({title:"Are you sure?",content:"Are you sure you want to delete this status?",primaryText:"Delete Status",secondaryText:"Cancel"}).then(function(){e.onRemove()})},showRemove:function(){return"new"!==e.type&&"current"!==e.type},validateStart:function(){return null==m._from?u.startDate:!moment(m._from).isAfter(moment(m._to))||u.overlap},validateEnd:function(){return!moment(m._from).isAfter(moment(m._to))||u.overlap},validateAll:function(){return null==m._from?u.startDate:moment(m._from).isAfter(moment(m._to))?u.overlap:e.validator.required(m._statusId,"status type")}}}]}]),t}(l);return new e(Z,"status-item",Q)});var X={supervisor:"=",employee:"=",editMode:"=",org:"=",remove:"&?",disableRemove:"="},ee={};angular.module("super-suit-components").directive("superSupervisor",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","moment","ssDateHlp","ssValidationHlp","ssDateByOrgHlp",function(e,t,s,a,i){var n=e.org;e.validator=e.validator={required:a.required()};var r=e.vm={isNewSupervisor:e.supervisor.isNew||!1,permitted:e.employee.$permitted.props,supervisorHolder:[],dtPickerOpt:{minDate:e.supervisor.minAllowedDate?new Date(e.supervisor.minAllowedDate.format("MM/DD/YYYY")):null}};e.$watch("employee",function(){r.startDateTxt=i.utcIsoToRelativeMoment(e.supervisor._from,n).format("MM/DD/YYYY"),r.endDateTxt=s.isForeverFuture(e.supervisor._to)?null:i.utcIsoToRelativeMoment(e.supervisor._to,n).format("MM/DD/YYYY")}),e.$watch("supervisor",function(t){t&&(e.supervisor.fullName=t._firstName+" "+t._lastName)}),e.$watch("vm.supervisorHolder[0].id",function(t,s){t===s||(void 0===t&&(t=null),e.supervisor._employeeId=t)}),e.$watch("supervisor._employeeId",function(t){t&&(r.supervisorHolder=[{id:t,fullName:e.supervisor._firstName+" "+e.supervisor._lastName}])}),e.$watch("vm.startDateTxt",function(s,a){s!==a&&s instanceof Date&&(e.supervisor._from=i.startOfDayRelativeTo(t(s),n))}),e.$watch("vm.endDateTxt",function(a,r){a===r||(null===a?e.supervisor._to=s.foreverFuture():e.supervisor._to=i.endOfDayRelativeTo(t(a),n))});e.go={removeSupervisor:function(t){var s=e.employee._supervisors.findIndex(function(e){return e.id===t.id});0<=s&&(e.employee._supervisors.splice(s,1),e.supervisor.id&&e.remove(),e.supervisor=null)},validateNewSupervisor:function(t){if(null==t)return!0;if(!t.length)return"Supervisor is required";var s=t[0],a=e.employee._supervisors.filter(function(e){return!e.isNew}).find(function(e){return i.isCurrent({obj:e,fromProp:"_from",toProp:"_to",org:n})});return!a||s.id!==a._employeeId||"New supervisor cannot be the same as current supervisor."},validateDates:function(e,s){var a=t(e),i=t(s);return a.isValid()?!(null!=s&&i.isValid()&&i.isBefore(a,"days"))||"Start Date cannot be after End Date":"Start date is invalid"}}}]},{key:"link",value:function(e,t,s){e.viewOnly=null!=s.viewOnly}}]),t}(l);return new e(X,"supervisor",ee)});var te={employee:"=",editMode:"=",org:"="},se={};angular.module("super-suit-components").directive("superSupervisors",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","ssDateHlp","ssDateByOrgHlp",function(e,t,s){function a(e){var t=e.sort(function(e,t){return new Date(t._to)-new Date(e._to)});return t[0]}function i(e){var t=s.utcIsoToRelativeMoment(e,r.org);return t.clone().add(1,"days").startOf("day")}function n(e){var a;return a=e?t.isForeverFuture(e._to)?i(e._from):i(e._to):s.todaysStartRelativeTo(r.org),{_from:a.toISOString(),_to:t.foreverFuture(),_employeeId:null,isNew:!0,hasForeverPast:!1,minAllowedDate:e?a:null}}var r=e.vm={canEdit:e.employee.$permitted.props.supervisor.edit,canView:e.employee.$permitted.props.supervisor.view,expanded:!1,newSupervisor:null,org:e.org,disableRemove:!1};e.$watch("editMode",function(){r.editMode=!0===e.editMode,r.disableRemove=!1,e.employee.$permitted.props.supervisor.edit||(r.editMode=!1),r.newSupervisor=null,e.employee._supervisors.filter(function(e){return e.isNew&&e.id}).forEach(function(e){return e.isNew=!1}),null==e.employee._supervisors&&(e.employee._supervisors=[]);var t=e.employee._supervisors.filter(function(e){return!e.isNew});r.futureSupervisors=t.filter(function(e){return s.isInFuture({obj:e,fromProp:"_from",toProp:"_to",org:r.org})}).sort(function(e,t){return new Date(t._from)-new Date(e._from)}),r.currentSupervisor=t.find(function(e){return s.isCurrent({obj:e,fromProp:"_from",toProp:"_to",org:r.org})}),r.pastSupervisors=t.filter(function(e){return s.isInPast({obj:e,fromProp:"_from",toProp:"_to",org:r.org})}).sort(function(e,t){return new Date(t._from)-new Date(e._from)})});e.go={addNewSupervisor:function(){var t=a(e.employee._supervisors),s=n(t);r.newSupervisor=s,e.employee._supervisors.push(s)},removeSupervisor:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(null!=t){var s=t.findIndex(function(t){return t.id===e.id});0<=s&&t.splice(s,1)}r.disableRemove=!0}}}]}]),t}(l);return new e(te,"supervisors",se)});var ae={mode:"=",org:"=",permissions:"=",supplemental:"=",menuData:"=",empSupplementals:"=",cancel:"&?",remove:"&?"},ie={};angular.module("super-suit-components").directive("superSupplemental",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","ssValidationHlp","ssDateByOrgHlp","ssDateHlp","ssFilterActiveItemsHlp",function(e,t,s,a,i){function n(){if(l.isFuture=!1,l.isCurrent=!1,l.isPast=!1,"new"!==l.mode&&null!==e.supplemental){l.isFuture=s.isInFuture({obj:e.supplemental,fromProp:"_startDateUtc",toProp:"_endDateUtc",org:e.org}),l.isCurrent=s.isCurrent({obj:e.supplemental,fromProp:"_startDateUtc",toProp:"_endDateUtc",org:e.org}),l.isPast=s.isInPast({obj:e.supplemental,fromProp:"_startDateUtc",toProp:"_endDateUtc",org:e.org}),l.tagText=l.isCurrent?"In Effect":l.isFuture?"Upcoming":"Past";var t=s.utcIsoToRelativeMoment(e.supplemental._startDateUtc,e.org).format("MM/DD/YYYY"),i=a.isForeverFuture(e.supplemental._endDateUtc)?null:s.utcIsoToRelativeMoment(e.supplemental._endDateUtc,e.org).format("MM/DD/YYYY");null==i?l.isCurrent?l.dateRange=t+" - Current":l.isFuture&&(l.dateRange="Effective "+t):l.dateRange=t+" - "+i}}function r(){e.supplemental.hasError=!1,e.$emit("ss-validate-reset")}var d=e.featureFlags=e.$root.utils.findInParentScope("featureFlags",e),l=e.vm={permissions:e.permissions,isFuture:!1,isCurrent:!1,isPast:!1,dateOptions:{},supplementalList:null,contractGroupList:null,editing:!1,dateRange:""};e.validator={required:function(e,s){return!l.editing||t.required()(e,s)},validate:function(){if(!l.editing)return!0;if(e.supplemental.hasError=!1,moment(e.supplemental._startDateUtc).isAfter(moment(e.supplemental._endDateUtc)))return e.supplemental.hasError=!0,"The start date of this supplemental cannot come after the end date.";if(e.empSupplementals.forEach(function(t){return t.hasError=!1}),2>e.empSupplementals.length)return!0;var t=e.empSupplementals.filter(function(t){return e.supplemental._supplementalId===t._supplementalId});if(2<=t.length){t.sort(function(e,t){return new Date(t._startDateUtc)-new Date(e._startDateUtc)});for(var s=1;s<t.length;s++){var a=t[s],n=t[s-1];if(moment(a._endDateUtc).isAfter(moment(n._startDateUtc)))return a.hasError=!0,n.hasError=!0,"This employee cannot have same overlapping supplementals."}}return!0},installments:t.numeric({min:0,max:500,required:!0}),amount:t.numeric({min:0,max:1e7,required:!0}),externalId:t.string({maxLength:100})},e.$watch("vm.startDateTxt",function(t,a){t!==a&&t instanceof Date&&(e.supplemental._startDateUtc=s.startOfDayRelativeTo(moment(t),e.org))}),e.$watch("vm.endDateTxt",function(t,i){t===i||(e.supplemental._endDateUtc=t?s.endOfDayRelativeTo(moment(t),e.org):a.foreverFuture())});e.go={cancel:function(){e.cancel(),r(),l.editing=!1},edit:function(){l.startDateTxt=null==e.supplemental._startDateUtc||a.isForeverPast(e.supplemental._startDateUtc)?null:s.utcIsoToRelativeMoment(e.supplemental._startDateUtc,e.org).format("MM/DD/YYYY"),l.endDateTxt=null==e.supplemental._endDateUtc||a.isForeverFuture(e.supplemental._endDateUtc)?null:s.utcIsoToRelativeMoment(e.supplemental._endDateUtc,e.org).format("MM/DD/YYYY"),l.editing=!0,"delete"!==l.mode&&e.$emit("supplemental-edit",e.supplemental.id)},remove:function(){e.remove(),l.editing=!1}};e.$watch("mode",function(t){l.mode=t,l.editing=!1,"new"===l.mode&&(l.editing=!0),n(),l.supplementalList=e.menuData.supplementalList,e.featureFlags.fc_enable_referential_data_status&&(l.supplementalList=i.getActiveItems(l.supplementalList,e.supplemental._supplementalId)),l.contractGroupList=e.menuData.contractGroupList})}]}]),t}(l);return new e(ae,"supplemental",ie)});var ne={editMode:"=",employee:"=",org:"=",supplementals:"="},re={};angular.module("super-suit-components").directive("superSupplementalList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","ssDateByOrgHlp","ssAsync","ssEmployeeApi","ssToastHlp","ssDateHlp","ssModalSvc","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,s,a,i,n,r,d){function l(){e.supplementals.forEach(function(e){return e.hasError=!1}),e.$emit("ss-validate-reset")}function o(){return{_externalId:null,_startDateUtc:null,_endDateUtc:n.foreverFuture(),_supplementalId:null,_totalPayAmount:"",_totalInstallments:"",$isDirty:function(){return!0}}}function p(s){c.newSupplemental=null,c.editingId=null,c.editMode=s,e.supplementals.forEach(function(e){if(null!==e._supplementalId){var t=c.menuData.supplementalList.find(function(t){return t.id===e._supplementalId});t&&(e.name=t._name,e.reason=t._supplementalReason.name);var s=c.menuData.contractGroupList.find(function(t){return e._contractGroupId===t.value});e.contractGroup=s?s._name:"None"}}),c.permissions.employeeSupplementals.edit||(c.editMode=!1),c.currentSupplementals=e.supplementals.filter(function(e){return t.isCurrent({obj:e,fromProp:"_startDateUtc",toProp:"_endDateUtc",org:u})}),c.futureSupplementals=e.supplementals.filter(function(e){return t.isInFuture({obj:e,fromProp:"_startDateUtc",toProp:"_endDateUtc",org:u})}),c.pastSupplementals=e.supplementals.filter(function(e){return t.isInPast({obj:e,fromProp:"_startDateUtc",toProp:"_endDateUtc",org:u})})}var m=e.employee,u=e.org;e.featureFlags={fc_enable_contract_groups:!1,fc_enable_referential_data_status:!1};var c=e.vm={permissions:m.$permitted.props,pastSupplementalsExpanded:!1,editingId:null,menuData:{supplementalList:[],contractGroupList:[]}},v=e.go={addSupplemental:function(){c.newSupplemental=o(),c.editingId="new",e.supplementals.push(c.newSupplemental),l()},cancelSupplemental:function(t){if(null==t.id){var a=e.supplementals.findIndex(function(e){return e.id===t.id});return 0<=a&&e.supplementals.splice(a,1),c.newSupplemental=null,void(c.editingId=null)}s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$revert();case 3:c.editingId=null,l(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),i.error("there was a problem retrieving supplementals");case 10:case"end":return e.stop();}},e,this,[[0,7]])}))()},removeSupplemental:function(t){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;r.showDestructive({title:"Are you sure?",content:"Are you sure you want to delete this supplemental?",primaryText:"Delete Supplemental",secondaryText:"Cancel"}).then(function(){var a;null!=s&&(a=s.findIndex(function(e){return e.id===t.id}),0<=a&&s.splice(a,1)),a=e.supplementals.findIndex(function(e){return e.id===t.id}),0<=a&&e.supplementals.splice(a,1),c.editingId="delete",l()})},getMode:function(e){return c.editMode?"delete"===c.editingId?"delete":"new"===c.editingId?null==e.id?"new":"view":null===c.editingId||null===e||c.editingId===e.id?"edit":"view":"view"}};e.$on("supplemental-edit",function(e,t){c.editingId=t,e.stopPropagation()}),s(regeneratorRuntime.mark(function t(){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c.loading=!0,t.next=4,d.resolveAll(e.featureFlags);case 4:return t.next=6,a.querySupplemental({limit:"9999","sort[name]":"asc"});case 6:return c.menuData.supplementalList=t.sent,t.next=9,a.queryContractGroups();case 9:s=t.sent,s&&s.length&&(c.menuData.contractGroupList=s.map(function(e){return{_name:e._name,value:e.id}})),e.$watch("editMode",p),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),i.error(t.t0);case 17:return t.prev=17,c.loading=!1,t.finish(17);case 20:case"end":return t.stop();}},t,this,[[0,14,17,20]])}))()}]}]),t}(l);return new e(ne,"supplemental-list",re)});var de={label:"@"},le={transclude:!0};angular.module("super-suit-components").directive("superTwoColumnList",function(){var e=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={label:e.label,hasLabel:!!e.label},s=e.go={}}]}]),t}(l);return new e(de,"two-column-list",le)}),e.$inject=["ssEnum","ssArrayHlp","ssJsonApiHlp","ssValidationHlp","ssDateHlp","ssDateByOrgHlp","ssMultiInitiativeFeatureDetectorCCSvc"],angular.module("super-suit-helpers").factory("ssEmployeeModelHlp",e),angular.module("super-suit-helpers").factory("ssFilterActiveItemsHlp",function(){return{getActiveItems:function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"id";return e.filter(function(e){return e._isActive||e[s]===t})}}}),angular.module("super-suit-helpers").factory("ssOptionalFieldGroupHlp",function(){return{validate:function(e,t){for(var s=!1,a=0;a<e.length;a++)s=null==e[a]?s||!1:s||0<e[a].length;return s?s:(null==t&&(t="One of the fields in this group is required."),t)}}}),t.$inject=["$q","$timeout"],angular.module("super-suit-helpers").factory("ssSleepHlp",t)})();

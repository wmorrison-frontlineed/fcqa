!function(){function e(t,n,r){function s(i,a){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!a&&l)return l(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[i]={exports:{}};t[i][0].call(p.exports,function(e){return s(t[i][1][e]||e)},p,p.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)s(r[i]);return s}return e}()({1:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],2:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(m===clearTimeout)return clearTimeout(e);if((m===s||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(e);try{return m(e)}catch(t){try{return m.call(null,e)}catch(t){return m.call(this,e)}}}function a(){y&&f&&(y=!1,f.length?g=f.concat(g):v=-1,g.length&&l())}function l(){if(!y){var e=o(a);y=!0;for(var t=g.length;t;){for(f=g,g=[];++v<t;)f&&f[v].run();v=-1,t=g.length}f=null,y=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function p(){}var u,m,d=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{m="function"==typeof clearTimeout?clearTimeout:s}catch(e){m=s}}();var f,g=[],y=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new c(e,t)),1!==g.length||y||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=p,d.addListener=p,d.once=p,d.off=p,d.removeListener=p,d.removeAllListeners=p,d.emit=p,d.prependListener=p,d.prependOnceListener=p,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],3:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],4:[function(e,t,n){(function(t,r){function s(e,t){var r={seen:[],stylize:i};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function i(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,t,r){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var s=t.inspect(r,e);return b(s)||(s=l(e,s,r)),s}var o=c(e,t);if(o)return o;var i=Object.keys(t),g=a(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),T(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return p(t);if(0===i.length){if(P(t)){var y=t.name?": "+t.name:"";return e.stylize("[Function"+y+"]","special")}if(E(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(T(t))return p(t)}var v="",h=!1,_=["{","}"];if(f(t)&&(h=!0,_=["[","]"]),P(t)){v=" [Function"+(t.name?": "+t.name:"")+"]"}if(E(t)&&(v=" "+RegExp.prototype.toString.call(t)),S(t)&&(v=" "+Date.prototype.toUTCString.call(t)),T(t)&&(v=" "+p(t)),0===i.length&&(!h||0==t.length))return _[0]+v+_[1];if(r<0)return E(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var w;return w=h?u(e,t,r,g,i):i.map(function(n){return m(e,t,r,g,n,h)}),e.seen.pop(),d(w,v,_)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return h(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,n,r,s){for(var o=[],i=0,a=t.length;i<a;++i)I(t,String(i))?o.push(m(e,t,n,r,String(i),!0)):o.push("");return s.forEach(function(s){s.match(/^\d+$/)||o.push(m(e,t,n,r,s,!0))}),o}function m(e,t,n,r,s,o){var i,a,c;if(c=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),I(r,s)||(i="["+s+"]"),a||(e.seen.indexOf(c.value)<0?(a=y(n)?l(e,c.value,null):l(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),w(i)){if(o&&s.match(/^\d+$/))return a;i=JSON.stringify(""+s),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function d(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function f(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return null==e}function h(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function w(e){return void 0===e}function E(e){return x(e)&&"[object RegExp]"===O(e)}function x(e){return"object"==typeof e&&null!==e}function S(e){return x(e)&&"[object Date]"===O(e)}function T(e){return x(e)&&("[object Error]"===O(e)||e instanceof Error)}function P(e){return"function"==typeof e}function j(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function O(e){return Object.prototype.toString.call(e)}function D(e){return e<10?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[D(e.getHours()),D(e.getMinutes()),D(e.getSeconds())].join(":");return[e.getDate(),$[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,i=String(e).replace(R,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])y(a)||!x(a)?i+=" "+a:i+=" "+s(a);return i},n.deprecate=function(e,s){function o(){if(!i){if(t.throwDeprecation)throw new Error(s);t.traceDeprecation?console.trace(s):console.error(s),i=!0}return e.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(e,s).apply(this,arguments)};if(!0===t.noDeprecation)return e;var i=!1;return o};var A,N={};n.debuglog=function(e){if(w(A)&&(A=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!N[e])if(new RegExp("\\b"+e+"\\b","i").test(A)){var r=t.pid;N[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else N[e]=function(){};return N[e]},n.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=g,n.isNull=y,n.isNullOrUndefined=v,n.isNumber=h,n.isString=b,n.isSymbol=_,n.isUndefined=w,n.isRegExp=E,n.isObject=x,n.isDate=S,n.isError=T,n.isFunction=P,n.isPrimitive=j,n.isBuffer=e("./support/isBuffer");var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",C(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:2,inherits:1}],5:[function(e,t,n){"use strict";function r(e,t,n){var r=t.endpoint.employees+"/employees",s=function(e){return r+"/"+e.empId+"/fileCounts?categoryId="+e.categoryId},o=function(e){return r+"/"+e.empId+"/files?categoryId="+e.categoryId},i=[],a=function(e){var t={method:"GET",url:e};return n.endpoint(t,"employees",i)()},l=function(t){return e({method:"GET",url:t})};return{getFileCounts:function(e,t){var n=s({empId:e,categoryId:t});return l(n)},getFiles:function(e,t,n,r){var s=r.filter&&""!==r.filter.value.trim()?"&filter["+r.filter.field+"]="+encodeURIComponent(r.filter.value.trim()):"",i=r.sort&&"&sort["+r.sort.field+"]="+r.sort.dir||"",l=""+o({empId:e,categoryId:t})+s+i;return l=-1!==n?l+"&subcategoryId="+n:l,a(l)}}}r.$inject=["$http","buildConfig","ssApiSvc"],angular.module("ec-employee-apis").factory("empFilesApi",r)},{}],6:[function(e,t,n){"use strict";function r(e,t,n){var r=n.endpoint.employees,s=r+"/employeeCredentials",o=r+"/export/assignments",i=r+"/export/employeedemographics",a=[],l=t.endpoint({url:s,method:"GET"},"credential",a),c=t.endpoint({url:s,method:"POST"},"credential",a),p=t.endpoint({url:o,method:"GET"},"assignments",a),u=t.endpoint({url:o,method:"POST"},"assignments",a),m=t.endpoint({url:i,method:"GET"},"demographics",a),d=t.endpoint({url:i,method:"POST"},"demographics",a),f=function(e,t){return v(s+"/csv",t)},g=function(e,t){return v(o+"/csv"+(null==e?"":"/"+e),t)},y=function(e,t){return v(i+"/csv"+(null==e?"":"/"+e),t)},v=function(t,n){return e({method:"GET",url:t+"?"+n})};return{getCredentials:l,getCredentialsPost:c,getAssignments:p,getAssignmentsPost:u,getDemographics:m,getDemographicsPost:d,exportCredentialsCsv:f,exportAssignmentsCsv:g,exportDemographicsCsv:y}}r.$inject=["$http","ssApiSvc","buildConfig"],angular.module("ec-employee-apis").factory("empReportsApi",r)},{}],7:[function(e,t,n){"use strict";function r(e,t,n,r,s,o){function i(e){return d({method:"GET",url:y,params:e})}function a(e){return e?d({method:"POST",url:v,data:e}):t.reject("template data is empty")}function l(e){return e?d({method:"DELETE",url:h(e)}):t.reject("template id is empty")}function c(e,n){return e?d({method:"GET",url:h(e),params:n}):t.reject("template id is empty")}function p(e){return d({method:"GET",url:v,params:e})}function u(e){return e?null==e.id?a(e):m(e):t.reject("template data is empty")}function m(e){var t=b.map(function(t){return{op:"replace",path:"/"+t,value:e[t]}});return d({method:"PATCH",url:h(e.id),data:t})}function d(o){var i=t.when(s.ready);return f(o.url)&&(i=i.then(function(){return n.ready})),i=i.then(function(){var s=n.getOrgIdSync(),i=o.url.includes(":ORGID:");if(!i||null!=s)return i&&(o.url=o.url.replace(/:ORGID:/gi,s)),e(o).then(function(e){return e.status>=400&&e.status<500?t.reject(e):e}).catch(function(e){-1!==e.status&&r.handle4XX(e)})})}function f(e){var t="function"==typeof e?e({},{}):e;return"string"==typeof t&&t.toLowerCase().includes(":orgid:")}var g=o.endpoint.exportTemplates,y=g+"/ExportType",v=g+"/Organizations/:ORGID:/ExportTemplate",h=function(e){return v+"/"+e},b=["name","delimiter","exportSetting","includeColumnHeaders","exportFields"];return{deleteTemplate:l,getTemplate:c,getTemplates:p,getTypes:i,saveTemplate:u}}r.$inject=["$http","$q","ssActiveUserSvc","ssApiResponseHlp","ssAuthSvc","buildConfig"],angular.module("ec-employee-apis").factory("exportTemplateApi",r)},{}],8:[function(e,t,n){"use strict";e("./partials.compiled"),e("./module"),e("./includes");var r=(0,eval)("this");r.registerUiModule&&r.registerUiModule("ec-employee")},{"./includes":31,"./module":32,"./partials.compiled":33}],9:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={model:"=",employeePermissions:"=?",categoryPermission:"=?",onRemove:"&?"},p=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$stateParams","$state","$filter","$window","ssValidationHlp","ssAsync","ssFilenameHlp","ssEmployeeApi","ssToastHlp","ssFormInstancesApi","ssSaveInterrupterSvc","ssObjectHlp","ssMultiInitiativeFeatureDetectorCCSvc","ssEnum","ssSleepHlp",function(e,t,n,s,o,i,a,l,c,p,u,m,d,f,g,y){function v(e){var t=[],n=e._steps.filter(function(e){return _.test(e._formFieldValues)&&e._stepAction!==g.stepAction.formCompleted}).map(function(e){return e._formFieldValues});return n.length&&n.forEach(function(e){var n=JSON.parse(e);Object.keys(n).filter(function(e){return Array.isArray(n[e])}).filter(function(e){return n[e].every(function(e){return!!e.filename})}).forEach(function(e){var s;t=(s=t).concat.apply(s,r(h(n[e])))})}),t}function h(e){return e.map(function(e){var t=l.getExtension(e.filename),n=l.getIcon(t);return{id:e.id,filename:e.filename,ext:t,icon:n}})}function b(t){return E.categoryEnums[t].map(function(e){return e.properties.permission}).some(function(t){return e.employeePermissions.props[t].view})}var _=/.*{"filename":.*/,w=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),E=e.vm={categoryEnums:{0:g.personnelCategory.enums,1:g.medicalCategory.enums},webFormCategory:e.model._category+"-"+e.model._subCategory,model:e.model,subCategories:e.subcategories,fileDateUtc:function(e){return e._createdUtc||e._originalFileDateUtc?e._originalFileDateUtc?"originated "+s("date")(e._originalFileDateUtc,"MM/dd/yyyy"):"added "+s("date")(e._createdUtc,"MM/dd/yyyy"):""}(e.model),isEdit:!1,fileIcon:l.getIcon(l.getExtension(e.model._name))||"file",extension:l.getExtension(e.model._name),loadingFiles:"formInstances"===e.model_linkType,filesOnInstance:[],validDeniedInfo:d.glean(e.model,function(e){return e._deniedInfo.comments})||d.glean(e.model,function(e){return e._deniedInfo.denier.name}),showSubCatText:-1===w.selectedCategory.subcategory.value};e.validator={required:i.required()},w.featureFlags.fc_enable_employee_module_save_interrupter&&e.$watch("vm.model",function(t,n){t!==n&&(e.model.$isDirty()?w.dirtyDocuments.add(e.model):w.dirtyDocuments.delete(e.model))},!0),e.$watch("vm.webFormCategory",function(t,n){t&&t!==n&&(e.model._category=parseInt(t.split("-")[0]),e.model._subCategory=parseInt(t.split("-")[1]))}),function(){if(w.featureFlags.fc_enable_employee_module_save_interrupter&&m.register(e.model),E.showPersonnelCategoryLabel=b(0),E.showMedicalCategoryLabel=b(1),"formInstances"===e.model._linkType)E.loadingFiles=!0,u.get({id:e.model._entityId,include:"steps"}).then(function(e){return E.filesOnInstance=v(e)}).finally(function(e){return E.loadingFiles=!1})}();var x=e.go={save:function(){a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return E.saving=!0,e.model._name.indexOf("."+E.extension)<0&&(e.model._name+="."+E.extension.toLowerCase()),t.prev=2,t.next=5,e.model.$save();case 5:y.sleep().then(function(){e.$emit("on-document-edit",e.model)}),p.success("Document saved successfully."),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),p.error(t.t0,"Error saving document"),e.model.$revert(),E.saving=!1;case 14:case"end":return t.stop()}},t,this,[[2,9]])}))()},cancelEdit:function(){e.model.$revert(),w.dirtyDocuments.delete(e.model),w.featureFlags.fc_enable_employee_module_save_interrupter&&(m.clear(),m.register(e.model)),E.isEdit=!1},downloadFiles:function(e){e.forEach(function(e){return x.downloadFile(e.id)})},downloadFile:function(e){c.getFileUrlById({id:t.employeeId,fileId:e}).then(function(e){o.open(e._string,"_blank")})},viewOnline:function(e){var r=n.current.name.substring(n.current.name.lastIndexOf(".")+1),s="/ec-forms/form-instance/"+e+"?returnUrl=/ec-employee/record/"+t.employeeId+"/"+r;o.open(s,"_self")},getSubCatName:function(e,t){return E.categoryEnums[e].find(function(e){return e.value===t}).name}}}]}]),t}(l.Component);angular.module("ec-employee-components").directive("cmpEmployeeDocumentEditor",function(){return new p(c,"employee-document-editor")})},{"base-component":18}],10:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("base-component"),p={employeePermissions:"="},u="employee.documents.category",m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"controller",value:["$stateParams","$rootScope","$scope","ssAsync","ssEnum","ssStorage","empFilesApi","ssSaveInterrupterSvc",function(e,t,n,o,i,a,l,c){var p=n.routeVm=t.utils.findInParentScope("routeVm",n),m=p.selectedCategory,d={name:"All Files",value:-1,properties:{permission:null}},f={0:[d].concat(s(i.personnelCategory.enums)),1:[d].concat(s(i.medicalCategory.enums))},g=f[m.categoryId].find(function(e){return e.value=d.value}),y=a.load(u);y?(y.categoryId!==m.categoryId&&a.clear(u),m.subcategory=y.categoryId===m.categoryId?y.subcategory:g):m.subcategory=g,o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.getFileCounts(e.employeeId,m.categoryId).then(function(e){var t=e.data,n=t.items,r=t.total;p.fileCounts=Object.assign({"-1":r},n)});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}},t,this,[[0,5]])}))();var v=(n.vm={categories:f[m.categoryId],employeePermissions:n.employeePermissions},n.go={selectSubcategory:function(e){p.dirtyDocuments.size&&p.featureFlags.fc_enable_employee_module_save_interrupter?c.showModal(function(){p.dirtyDocuments.clear(),p.selectedCategory.subcategory=e,a.save(u,p.selectedCategory,{persistent:!1,expires:!1})}):(p.selectedCategory.subcategory=e,a.save(u,p.selectedCategory,{persistent:!1,expires:!1}))}},function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&-1!==n&&(t+=parseInt(e[n]));return t});n.$watch("routeVm.fileCounts",function(e,t){if(e!==t)return Object.assign({},e,r({},d.value,v(e)))})}]}]),t}(c.Component);angular.module("ec-employee-components").directive("cmpEmployeeDocumentNav",function(){return new m(p,"employee-document-nav")})},{"base-component":18}],11:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={employeePermissions:"=",categoryId:"@"},c=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$scope","$state","$stateParams","ssSleepHlp","ssAsync","ssDebounce","ssEmployeeApi","ssFileApi","FileUploader","ssActiveUserSvc","ssAuthSvc","ssFilenameHlp","ssToastHlp","ssModalSvc","ssMultiInitiativeFeatureDetectorCCSvc","ssSaveInterrupterSvc","ssEnum","empFilesApi",function(e,t,n,r,s,o,i,a,l,c,p,u,m,d,f,g,y,v){function h(o){var c=e.uploader=new l({withCredentials:!1,headers:{Authorization:"Bearer "+p.token.access,FlUser:o},filters:[{name:"validExt",fn:function(e){return u.getExtension(e.name)}}]});c.onAfterAddingFile=function(e){null!=e._file.size&&e._file.size>=0&&e._file.size<=52428800?(e.file.category=T,e.file.subCategory=-1!==x.selectedCategory.subcategory.value?x.selectedCategory.subcategory.value:null,e.file.filename=e.file.name,e.file.nameOnly=u.getFilename(e.file.name),e.file.extension=u.getExtension(e.file.name),e.file.icon=u.getIcon(u.getExtension(e.file.name)),document.getElementById("file-uploader").value=""):(m.error("The file upload size cannot exceed 50MB. Please upload a smaller file.","File Upload Failed"),j.loading=!1,j.saving=!1,c.queue.length=0)},c.onBeforeUploadItem=function(e){e.url=e.updatedUrl},c.onCancelItem=function(){j.loading=!1,m.info("File upload canceled.")},c.onSuccessItem=function(e){if(!e.isSuccess)return m.error(S),D.cancelAdd(),void s(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return j.saving=!0,n.prev=1,n.next=4,a.remove(e,null,!1);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:return n.prev=8,n.next=11,r.sleep();case 11:return j.loading=!1,t.reload(),n.finish(8);case 14:case"end":return n.stop()}},n,this,[[1,6,8,14]])}))();i.addFileId({id:n.employeeId},{fileId:e.fileId,name:u.getFilename(e.file.filename)+"."+e.file.extension,category:T,subCategory:e.file.subCategory}).then(function(t){if(c.queue=[],-1==x.selectedCategory.subcategory.value||x.selectedCategory.subcategory.value===e.file.subCategory){var n=j.subCategoryEnums[T].find(function(t){return t.value===e.file.subCategory}).properties.permission;j.files.unshift(Object.assign(t,{subCategoryPermission:n,_linkType:"files",_fileActions:{move:!0,rename:!0}}))}x.fileCounts[-1]++,x.fileCounts[e.file.subCategory]?x.fileCounts[e.file.subCategory]++:x.fileCounts[e.file.subCategory]=1,m.success("Document uploaded successfully.")},function(e){m.error(S)})},c.onErrorItem=function(e){s(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(e);case 2:return n.next=4,r.sleep();case 4:t.reload(),m.error(S);case 6:case"end":return n.stop()}},n,this)}))()},c.onCompleteAll=function(){s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.sleep();case 2:j.loading=!1,c.queue=[];case 4:case"end":return e.stop()}},e,this)}))()}}function b(t){if(null!=t.fileId)return s(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return j.saving=!0,n.prev=1,n.next=4,a.remove({fileId:t.fileId},null,!1);case 4:m.success("Document removed successfully."),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(1);case 9:return n.prev=9,n.next=12,r.sleep();case 12:return j.saving=!1,e.$emit("on-document-edit",e.model),n.finish(9);case 15:case"end":return n.stop()}},n,this,[[1,7,9,15]])}))()}function _(e,t){return v.getFiles(n.employeeId,e.categoryId,e.subcategory.value,t).then(function(e){j.files=w(e),x.searchCount=t.filter&&""!==t.filter.value?j.files.length:null})}function w(e){return e.map(function(e){var t=j.subCategoryEnums[T].find(function(t){return t.value===e._subCategory}).properties.permission;return Object.assign(e,{subCategoryPermission:t})})}function E(){return s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j.loading=!0,e.prev=1,e.next=4,_(x.selectedCategory,j.query);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m.error("There was an error retrieving documents","");case 9:return e.prev=9,j.loading=!1,e.finish(9);case 12:case"end":return e.stop()}},e,this,[[1,6,9,12]])}))()}var x=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),S="The selected file did not upload correctly. Please try again.",T=e.categoryId;x.dirtyDocuments=new Set;var P=[{name:"Document Name (A-Z)",ariaLabel:"Sort documents by name ascending",value:{field:"name",dir:"asc"}},{name:"Date Asc",ariaLabel:"Sort documents by date ascending",value:{field:"sortdate",dir:"asc"}},{name:"Date Desc",ariaLabel:"Sort documents by date descending",value:{field:"sortdate",dir:"desc"}}],j=e.vm={subCategoryEnums:{0:y.personnelCategory.enums,1:y.medicalCategory.enums},loading:!1,files:[],selectedCategoryName:"",saveIntObject:{showSaveInt:!1,$isDirty:function(){return this.showSaveInt}},query:{filter:{field:"name",value:""},sort:P[2].value},sortByOptions:P,getEmployeeFiles:_},O=o(function(){E()},350);e.featureFlags={},function(){f.resolveAll(e.featureFlags).then(function(){x.featureFlags.fc_enable_employee_module_save_interrupter&&g.register(j.saveIntObject)}).then(function(){return c.getUserContext().then(function(t){var n=Object.assign({},t,{UserKey:c.getIdentityByTypeSync("employee")});h(JSON.stringify(n)),e.$watch("uploader.queue.length",function(e,t){j.saveIntObject.showSaveInt=e>0})})}).catch(function(e){m.error(e)})}(),e.$watch("vm.query",function(e,t){e!==t&&(j.loading=!0,O())},!0),e.$watch("routeVm.selectedCategory",function(t,n){if(t.subcategory){var r=null;j.loading=!0,e.uploader&&(e.uploader.queue=[]),j.selectedCategoryName=t.subcategory.name,r&&(r.$abort(),r=null),r=_(t,j.query).catch(function(e){m.error(e)}).finally(function(){j.loading=!1})}},!0),e.$on("on-document-edit",function(){t.reload()},!0);var D=e.go={cancelAdd:function(){j.loading=!1},prepareUpload:function(e){j.loading=!0,i.preAddFile({id:n.employeeId},{filename:e.file.filename}).then(function(r){if(null==r)return t.reload(),void D.cancelAdd();j.loading=!0,e.fileId=r.id,e.updatedUrl=i.uploadFileUrl({id:n.employeeId,fileId:r.id})+"?version=0",e.upload()},function(e){t.reload(),422===e.status?m.error(e.data.errors.Title,"File Upload Failed"):m.error(S),D.cancelAdd()})},remove:function(t){var n=void 0;switch(t._linkType){case"formInstances":n="form";break;case"credentials":n="credential";break;default:n="file"}var s={title:"Delete "+n,content:"Once deleted, this "+n.toLowerCase()+" will be removed and cannot be retrieved.",primaryText:"Delete "+n,secondaryText:"Cancel"};d.showDestructive(s).then(function(){t.$remove().then(r.sleep()).then(function(){e.$emit("on-document-edit",e.model),m.success(n+" removed successfully.")})})}}}]}]),t}(a.Component);angular.module("ec-employee-components").directive("cmpEmployeeDocumentsList",function(){return new c(l,"employee-documents-list")})},{"base-component":18}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={label:"@",name:"@?",model:"=?",required:"@",format:"@?"},c={transclude:!0},p=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"link",value:function(e,t,n){t.addClass(e.vm.fieldClass)}},{key:"controller",value:["$scope","ssStringHlp",function(e,t){var n=e.vm={format:e.format||"MM/dd/yyyy"};e.go={};if(e.label){var r=null;r=e.name?e.name:e.label;var s=r.replace(/\W/g," ");s=t.toDashCase(s),n.fieldClass=null!==s?"field-"+s:""}else console.warn("Please provide at least a label attribute.")}]}]),t}(a.Component);angular.module("ec-employee-components").directive("cmpFormFieldDate",function(){return new p(l,"form-field-date",c)})},{"base-component":18}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={label:"@",name:"@?",value:"=?",required:"@"},c={transclude:!0},p=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"link",value:function(e,t,n){t.addClass(e.vm.fieldClass)}},{key:"controller",value:["$scope","ssStringHlp",function(e,t){var n=e.vm={};e.go={};if(e.label){var r=null;r=e.name?e.name:e.label;var s=r.replace(/\W/g," ");s=t.toDashCase(s),n.fieldClass=null!==s?"field-"+s:""}else console.warn("Please provide at least a label attribute.")}]}]),t}(a.Component);angular.module("ec-employee-components").directive("cmpFormField",function(){return new p(l,"form-field",c)})},{"base-component":18}],
14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={emp:"=",editMode:"=?",permissions:"="},c=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$scope",function(e){e.vm={};null!=e.emp._phoneNumbers&&e.emp._phoneNumbers.forEach(function(e){return e.editable=!1});e.go={add:function(){e.emp._phoneNumbers.push({_isPrimary:!1,_extension:null,_number:null,_phoneType:null,_usageType:null,editable:!0})},onRemove:function(t){e.emp._phoneNumbers.splice(t,1)},onCheck:function(t){e.emp._phoneNumbers.forEach(function(e,n){t!==n&&(e._isPrimary=!1)})}}}]}]),t}(a.Component);angular.module("ec-employee-components").directive("cmpPhoneGroup",function(){return new c(l,"phone-group")})},{"base-component":18}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={label:"@",phone:"=",editMode:"=?",onRemove:"&",onCheck:"&",editable:"=?"},c=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$scope","ssModalSvc","ssEnum","ssValidationHlp",function(e,t,n,r){e.vm={options:{phoneTypes:n.phoneTypes.getEnums(),usageType:n.usageType.getEnums()}};e.validator={required:r.required(),phoneNumber:function(e,t){return null==e||!e.length||r.phone()(e,t)}};var s=e.phone;e.$watch("phone._isPrimary",function(t,n){t!==n&&!0===t&&e.onCheck()});e.go={cancel:function(){"function"==typeof s.$revert&&s.$revert(),null==s.id&&e.onRemove(),s.editable=!1},edit:function(){s.editable=!0},remove:function(){var n={title:"Are you sure?",content:"Are you sure you want to delete this phone number?",primaryText:"Delete Phone Number",secondaryText:"Cancel",alwaysOnTop:!0};t.showDestructive(n).then(function(){e.onRemove()})}}}]}]),t}(a.Component);angular.module("ec-employee-components").directive("cmpPhoneItem",function(){return new c(l,"phone-item")})},{"base-component":18}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={templateId:"=",type:"=",reportRoute:"@"},c=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$rootScope","$scope","$state","ssAsync","ssModalSvc","ssValidationHlp","ssToastHlp","exportTemplateApi",function(e,t,n,r,s,o,i,a){function l(){return r(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.loading=!0,!d.isNew){e.next=6;break}d.selectAll=!0,d.template={name:"",delimiter:",",exportSetting:"all",includeColumnHeaders:!0,exportFields:t.type.systemFields.map(function(e){return{systemFieldId:e.id,systemName:e.name,visible:!0,alias:null}}),exportTypeId:t.type.id},e.next=12;break;case 6:return e.next=8,a.getTemplate(t.templateId);case 8:if(n=e.sent,d.template=n.data.data,null!=d.template)try{d.template.exportFields.forEach(function(e){return e.systemName=t.type.systemFields.find(function(t){return t.id===e.systemFieldId}).name})}catch(e){}else d.isNew=!0;d.selectAll=d.template.exportFields.filter(function(e){return e.visible}).length===d.template.exportFields.length;case 12:d.loading=!1;case 13:case"end":return e.stop()}},e,this)}))()}var c=/^[\w\- ]+$/gi,p=t.routeVm=t.$root.utils.findInParentScope("routeVm",t),u={subject:"Request for Nightly Exports",description:"I would like to receive nightly exports of my district's data from Frontline Central"},m=null;t.validator={name:o.string({required:!0,maxLength:100,re:c}),alias:o.string({maxLength:100,re:c}),selected:function(){return!!d.template.exportFields.some(function(e){return e.visible})||"Your export does not contain any records. Select at least one field to be able to save the template."}};var d=t.vm={isNew:null==t.templateId||0===t.templateId.length||"create"===t.templateId,canCreate:e.isPermitted.exportTemplates.create,csSupportUrl:"https://central-help.frontlineeducation.com/hc/en-us/requests/new?subject="+u.subject+"&description="+u.description,editMode:!1,loading:!0,tempDisableDragAndDrop:!0,options:{delimiters:[{name:"Tab",value:"\t"},{name:"Slash [ / ]",value:"/"},{name:"Pipe [ | ]",value:"|"},{name:"Comma [ , ]",value:","},{name:"Semicolon [ ; ]",value:";"}],exportSettings:[{name:"All current records",value:"all"},{name:"Only new/edited records in the past 24 hours",value:"delta"}]}};p.featureFlags.fc_new_record_export_option&&d.options.exportSettings.push({name:"Only new records in the past 24 hours",value:"new"}),l();var f=t.go={cancel:function(){if(d.isNew)return void n.go(t.reportRoute);r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:d.editMode=!1;case 3:case"end":return e.stop()}},e,this)}))()},edit:function(){d.editMode=!0},remove:function(){var e={title:"",content:"Are you sure you want to delete export template "+d.template.name+"?",primaryText:"Delete",secondaryText:"Cancel",size:"medium"};s.showDestructive(e).then(function(){a.deleteTemplate(d.template.id).then(function(){i.success("Your template has been removed and will no longer be used in the nightly exports.","Template Removed Successfully"),d.editMode=!1,n.go(t.reportRoute,{},{reload:!0})})})},save:function(){d.saving=!0,a.saveTemplate(d.template).then(function(e){return null==e?void(d.saving=!1):(i.success("Your changes will be applied to the next nightly export.","Template Saved Successfully"),d.isNew?void n.go(n.current,{templateId:e.data.data.id},{reload:!0}):(d.isNew=!1,d.editMode=!1,void(d.saving=!1)))})},movedField:function(e,t){d.template.exportFields[m]=t,d.template.exportFields.splice(e,1)},dropField:function(e,t,n){return m=t,{}},getSelectExportSetting:function(e){return d.options.exportSettings.find(function(t){return t.value===e}).name},getSelectedText:function(){if(null==d.template||null==d.template.exportFields||0===d.template.exportFields.length)return"none";var e=d.template.exportFields.filter(function(e){return e.visible}).length;return 0===e?(d.selectAll=!1,"none"):e===d.template.exportFields.length?(d.selectAll=!0,"all"):(d.selectAll=!0,"some")},selectAll:function(){var e="all"===f.getSelectedText();d.template.exportFields.forEach(function(t){return t.visible=!e}),d.selectAll=!e},moveUp:function(e,t){d.template.exportFields.splice(t,1),d.template.exportFields.splice(t-1,0,e)},moveDown:function(e,t){d.template.exportFields.splice(t,1),d.template.exportFields.splice(t+1,0,e)}}}]}]),t}(a.Component);angular.module("ec-employee-components").directive("cmpReportExportSettings",function(){return new c(l,"report-export-settings")})},{"base-component":18}],17:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={config:"=",filters:"=",org:"=",exportType:"@"},p=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$scope","$location","$rootScope","ssAsync","ssObjectHlp","ssDepartmentSvc","ssJobTypeSvc","ssLocationSvc","ssListSvc","ssToastHlp","ssCredentialBusinessEngineSvc","ssCredentialDataAccessSvc","ssDateByOrgHlp","ssModalSvc","reportHlp","sortFilterHlp",function(e,t,n,s,o,i,a,l,c,p,u,m,d,f,g,y){function v(){h(),P.filters.search="",b("departments")&&(P.filters.departments=[]),b("jobTypes")&&(P.filters.jobTypes=[]),b("locations")&&(P.filters.locations=[]),b("empGroups")&&(P.filters.empGroups=[]),b("credentials")&&(P.filters.credTypes=[],P.filters.credentials=[]),b("empStatus")&&(P.filters.statuses=[]),b("empStatusReasons")&&(P.filters.empStatusReasons=[]),b("adminVerified")&&(P.filters.adminVerified=P.adminVerified[0].value),b("expiration")&&(P.filters.expiresAfter="",P.filters.expiresBefore=""),b("effectiveDate")&&(P.filters.effectiveDate=""),b("lastUpdated")&&(P.filters.lastUpdatedStart="",P.filters.lastUpdatedEnd="")}function h(){if(null!=S.sortOptions&&S.sortOptions.length){"number"!=typeof S.defaultSortIndex&&(S.defaultSortIndex=0);var e=S.sortOptions[S.defaultSortIndex];P.filters.sortBy=e.value,T=e.value.field}}function b(e){return!(null==o.glean(S,function(e){return e.useFilter})||!S.useFilter.length)&&S.useFilter.includes(e)}function _(t){var n=this,r="report.csv";null==S.exportFileName&&(r=S.exportFileName);var o=new FileReader;o.addEventListener("load",function(){o.removeEventListener("load",n,!0),saveLocalExport(o.result,r)},!1);var i=Object.assign({},{offset:0,limit:9999999,organizationId:e.org.id},e.filters);return P.isExporting=!0,s(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.export(t,g.toQuerystring(i));case 2:n=e.sent,n&&n.data?(r=document.createElement("a"),r.style.display="none",r.href=n.data.data.attributes.string,document.body.appendChild(r),r.click(),document.body.removeChild(r)):p.error("Unable to save export","Error",!1),P.isExporting=!1;case 5:case"end":return e.stop()}},e,this)}))()}function w(){return null==P.filters.lastUpdatedStart||""===P.filters.lastUpdatedStart?void(P.invalidLastUpdated=!1):null==P.filters.lastUpdatedEnd||""===P.filters.lastUpdatedEnd?void(P.invalidLastUpdated=!1):void(P.filters.lastUpdatedStart>P.filters.lastUpdatedEnd?P.invalidLastUpdated=!0:P.invalidLastUpdated=!1)}var E=u.credentialConstants,x=y.searchFilter(e.org.id,g.filtersKeys.ORGANIZATION_ID),S=e.config||{},T=void 0,P=e.vm={filters:{},invalidLastUpdated:!1,exportTemplates:null},j=n.utils.findInParentScope("exportTemplates",e);j&&j.length&&(P.exportTemplates=j.map(function(e){return{name:e.name,value:e.id}}),P.exportTemplates.unshift({name:"Default CSV",value:null})),b("empStatus")&&(P.statuses=g.statusOptions),b("adminVerified")&&(P.adminVerified=g.adminVerifiedOptions),v(),e.filters=Object.assign({},e.filters,x),function(){e.$watch("vm.exportOptionValue",function(e){"defaultCSV"===e&&O.export()}),e.$watch("vm.filters.search",function(t){"string"==typeof t&&t.trim().length?e.filters=Object.assign({},e.filters,y.searchFilter(t.trim(),g.filtersKeys.FULL_NAME)):delete e.filters["filter["+g.filtersKeys.FULL_NAME+"]"]}),b("departments")&&e.$watch("vm.filters.departments.length",function(t){0==t?delete e.filters["filter["+g.filtersKeys.DEPARTMENT+"]"]:e.filters=Object.assign({},e.filters,y.filterOrNull(P.filters.departments,g.filtersKeys.DEPARTMENT))}),b("jobTypes")&&e.$watch("vm.filters.jobTypes.length",function(t){0==t?delete e.filters["filter["+g.filtersKeys.JOB_TYPE+"]"]:e.filters=Object.assign({},e.filters,y.filterOrNull(P.filters.jobTypes,g.filtersKeys.JOB_TYPE))}),b("locations")&&e.$watch("vm.filters.locations.length",function(t){0==t?delete e.filters["filter["+g.filtersKeys.LOCATION+"]"]:e.filters=Object.assign({},e.filters,y.filterOrNull(P.filters.locations,g.filtersKeys.LOCATION))}),b("empGroups")&&e.$watch("vm.filters.empGroups.length",function(t){if(0==t)delete e.filters["filter["+g.filtersKeys.EMPLOYMENT_GROUP+"]"];else{var n=P.filters.empGroups.map(function(e){return{id:e.value}});e.filters=Object.assign({},e.filters,y.filterOrNull(n,g.filtersKeys.EMPLOYMENT_GROUP))}}),b("credentials")&&(e.$watch("vm.filters.credTypes.length",function(t){if(0==t)delete e.filters["filter["+g.filtersKeys.CRED_TYPES+"]"];else{var n={};P.filters.credTypes.forEach(function(e){var t=e.value.typeId;null==n[""+t]&&(n[""+t]=[]),n[""+t].push(e.value.subtypeId)}),e.filters=Object.assign({},e.filters,y.searchFilter(n,g.filtersKeys.CRED_TYPES))}}),e.$watch("vm.filters.credentials.length",function(t){0==t?delete e.filters["filter["+g.filtersKeys.CREDENTIAL_IDS+"]"]:e.filters=Object.assign({},e.filters,y.filterOrNull(P.filters.credentials,g.filtersKeys.CREDENTIAL_IDS))})),b("empStatus")&&e.$watch("vm.filters.statuses.length",function(t){0==t?delete e.filters["filter["+g.filtersKeys.STATUS+"]"]:e.filters=Object.assign({},e.filters,y.filterOrNull(P.filters.statuses,g.filtersKeys.STATUS))}),b("empStatusReasons")&&e.$watch("vm.filters.empStatusReasons.length",function(t){if(0==t)delete e.filters["filter["+g.filtersKeys.STATUS_REASON+"]"];else{var n=P.filters.empStatusReasons.map(function(e){return{id:e.value}});e.filters=Object.assign({},e.filters,y.filterOrNull(n,g.filtersKeys.STATUS_REASON))}}),b("adminVerified")&&e.$watch("vm.filters.adminVerified",function(t){null==t?delete e.filters["filter["+g.filtersKeys.ADMIN_VERIFIED+"]"]:e.filters=Object.assign({},e.filters,y.searchFilter(t,g.filtersKeys.ADMIN_VERIFIED))}),b("expiration")&&(e.$watch("vm.filters.expiresAfter",function(t){null==t||""===t?delete e.filters["filter["+g.filtersKeys.EXPIRES_AFTER+"]"]:e.filters=Object.assign({},e.filters,y.searchFilter(moment(t).format("YYYY-MM-DD"),g.filtersKeys.EXPIRES_AFTER))}),e.$watch("vm.filters.expiresBefore",function(t){null==t||""===t?delete e.filters["filter["+g.filtersKeys.EXPIRES_BEFORE+"]"]:e.filters=Object.assign({},e.filters,y.searchFilter(moment(t).format("YYYY-MM-DD"),g.filtersKeys.EXPIRES_BEFORE))})),b("effectiveDate")&&e.$watch("vm.filters.effectiveDate",function(t){null!=t&&""!==t||(t=moment().toISOString());var n=d.startOfDayRelativeTo(moment(t).startOf("day"),e.org);e.filters=Object.assign({},e.filters,y.searchFilter(n,g.filtersKeys.EFFECTIVE_DATE))}),b("lastUpdated")&&(e.$watch("vm.filters.lastUpdatedStart",function(t){if(null==t||""===t)delete e.filters["filter["+g.filtersKeys.LAST_UPDATED_START+"]"],P.filters.lastUpdatedEnd="";else{var n=d.startOfDayRelativeTo(moment(t),e.org);e.filters=Object.assign({},e.filters,y.searchFilter(n,g.filtersKeys.LAST_UPDATED_START))}w()}),e.$watch("vm.filters.lastUpdatedEnd",function(t){if(null==t||""===t)delete e.filters["filter["+g.filtersKeys.LAST_UPDATED_END+"]"];else{var n=d.endOfDayRelativeTo(moment(t),e.org);e.filters=Object.assign({},e.filters,y.searchFilter(n,g.filtersKeys.LAST_UPDATED_END))}w()})),S.sortOptions&&e.$watch("vm.filters.sortBy",function(t){null==t&&h(),delete e.filters["sort["+T+"]"],e.filters=Object.assign({},e.filters,y.sortOrNull(P.filters.sortBy)),T=P.filters.sortBy.field})}(),s(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!b("departments")){e.next=5;break}return e.next=4,i.getAll();case 4:P.departments=e.sent;case 5:if(!b("jobTypes")){e.next=9;break}return e.next=8,a.getAll();case 8:P.jobTypes=e.sent;case 9:if(!b("locations")){e.next=13;break}return e.next=12,l.getAll();case 12:P.locations=e.sent;case 13:if(!b("empGroups")){e.next=18;break}return e.next=16,c.getByExternalId("jobtype.employmentgroups");case 16:P.empGroups=e.sent,P.empGroups.forEach(function(e){return e._name=e.name});case 18:if(!b("empStatusReasons")){e.next=23;break}return e.next=21,c.getByExternalId("employee.statuschangereasons");case 21:P.empStatusReasons=e.sent,P.empStatusReasons.forEach(function(e){return e._name=e.name});case 23:P.sortOptions=S.sortOptions,n=g.getSelectedFromUrl(t.search(),P),Object.keys(n).forEach(function(e){return P.filters[e]=n[e]}),e.next=30;break;case 28:e.prev=28,e.t0=e.catch(0);case 30:case"end":return e.stop()}},e,this,[[0,28]])}))(),b("credentials")&&s(regeneratorRuntime.mark(function t(){var n,s,i,a,l,c,p,u,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return P.loadingCreds=!0,t.prev=1,n=[E.CREDENTIAL_NEW,E.CREDENTIAL_RENEWED,E.CREDENTIAL_IN_PROGRESS],s={},s[E.CREDENTIAL_NEW]="Initial",s[E.CREDENTIAL_RENEWED]="Renewal",s[E.CREDENTIAL_IN_PROGRESS]="In Progress",t.next=9,m.getCredentialTypes();case 9:return P.credTypes=t.sent,P.credTypes.forEach(function(e){e.subTypes=n.map(function(t){return{_name:s[t],value:{typeId:e.id,subtypeId:t},pillText:s[t]+" - "+e._name}})}),t.next=13,m.getIssuersByCredentialType(E.CERTIFICATE_LICENSE,E.STATE_NATIONAL);case 13:return i=t.sent,t.next=16,m.getIssuersByCredentialType(E.CLEARANCES,E.STATE_NATIONAL);case 16:return a=t.sent,t.next=19,m.getIssuersByCredentialType(E.DRIVER_LICENSE,E.STATE_NATIONAL);case 19:return l=t.sent,c=[].concat(r(i),r(a),r(l)),t.next=23,m.getIssuers(E.DISTRICT_CUSTOM);case 23:return p=t.sent,t.next=26,m.getMany();case 26:return u=t.sent,t.next=29,m.getMany(y.searchFilter(e.org.id,"organizationId"));case 29:d=t.sent,P.credentials=[].concat(r(u),r(d)),P.credentials.forEach(function(t){var n=c.find(function(e){return e.id===t._issuerId});if(null!=n){if(null!=n._stateId)return t._name=n._stateId+" - "+t._name,void(t.pillText=t._name)}else if(null!=(n=p.find(function(e){return e.id===t._issuerId}))&&null!=o.glean(e.org,function(e){return e._address.state}))return t._name=e.org._address.state+" - "+t._name,void(t.pillText=t._name)}),P.loadingCreds=!1,t.next=37;break;case 35:t.prev=35,t.t0=t.catch(1);case 37:case"end":return t.stop()}},t,this,[[1,35]])}))();var O=e.go={clear:function(){e.filters=Object.assign({},e.filters,x),v(),b("departments")&&P.departments.forEach(function(e){return e.checked=!1}),b("jobTypes")&&P.jobTypes.forEach(function(e){return e.checked=!1}),b("locations")&&P.locations.forEach(function(e){return e.checked=!1}),b("empGroups")&&P.empGroups.forEach(function(e){return e.checked=!1}),b("credentials")&&(P.credTypes.forEach(function(e){return e.checked=!1}),P.credentials.forEach(function(e){return e.checked=!1})),b("empStatus")&&P.statuses.forEach(function(e){return e.checked=!1})},export:function(e){var t="Generate and download report for "+S.totalResults+" "+S.countLabel+(1===S.totalResults?"":"s")+"?",n={title:"",content:t,primaryText:"Download",secondaryText:"Cancel",size:"medium"};f.showStandard(n).then(function(){return _(e)})},showClear:function(){return Object.keys(e.filters).filter(function(e){return!e.startsWith("sort")&&e!=="filter["+g.filtersKeys.ORGANIZATION_ID+"]"}).length>0},useFilter:b}}]}]),t}(l.Component);angular.module("ec-employee-components").directive("cmpReportFilterBar",function(){return new p(c,"report-filter-bar")})},{"base-component":18}],18:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Component=function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.restrict="E",this.replace=!0,this.scope=t,this.templateUrl="components/cmp-"+n+"/"+n+".html",Object.assign(this,s)}},{}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Segment=function e(t){r(this,e),this.restrict="E",this.scope=!0,this.replace=!0,this.templateUrl=function(e,n){return"routes"+n.folder+"/segment-"+t+"/"+t+".html"}}},{}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.State=function e(t,n){r(this,e),Object.assign(this,t),this.resolve=this.resolve||{},this.resolve.routeVm=function(){return n},this.controller=function(e,t,n){e.routeVm=n},this.controller.$inject=["$scope","$window","routeVm"]}},{}],21:[function(e,t,n){"use strict";function r(e){e.load("employee-center")}r.$inject=["ssAppConfigSvc"],angular.module("ec-employee").run(r)},{}],22:[function(e,t,n){"use strict";function r(e){e.html5Mode(!0)}r.$inject=["$locationProvider"],angular.module("ec-employee").config(r)},{}],23:[function(e,t,n){"use strict";function r(){function e(){this._code=100,this._endorsements=[],this._externalId=null,this._from=new Date,this._credentialId="",this._to=null,this.expired=!1,this.id=null,this.$isDirty=function(){return!(100===this._code&&0===this._endorsements.length&&null==this._externalId&&0===this._credentialId.length&&null==this._to)}}var t={};return t.create=function(){return angular.extend({},new e)},t.createDummy=function(){var e=t.create();return e.isNew=!0,e.name=null,e.state=null,e.filteredQualifications=[],e},t}angular.module("ec-employee-helpers").factory("credentialFactoryHlp",r)},{}],24:[function(e,t,n){"use strict";function r(e,t){return null==e?"N/A":t.find(function(t){return t.value===e}).name}function s(){return[[{prop:"_fTE",displayText:"FTE"},{prop:"_hoursPerDay",displayText:"Hours/Day"},{prop:"_workDaysPerYear",displayText:"Work Days/Year"}],[{prop:"_sickDaysPerSchoolYear",displayText:"Sick Days/Year"},{prop:"_personalDaysPerSchoolYear",displayText:"Personal Days/Year"},{prop:"_vacationDaysPerSchoolYear",displayText:"Vacation Days/Year"}]]}function o(){return i}var i={jobTypeDetailFields:s,getPayRateFrequencyString:r};angular.module("ec-employee-helpers").factory("employeeAssignmentHlp",o)},{}],25:[function(e,t,n){"use strict";function r(e){return e}r.$inject=["ssEmployeeModelHlp"],angular.module("ec-employee-helpers").factory("employeeModelChangerHlp",r)},{}],26:[function(e,t,n){"use strict";function r(){var e={_code:200,_externalId:null,_from:new Date,_endorsementId:"",_to:null},t={};return t.create=function(){return angular.extend({},e)},t}angular.module("ec-employee-helpers").factory("endorsementFactoryHlp",r)},{}],27:[function(e,t,n){"use strict";function r(e){return e}r.$inject=["ssFilenameHlp"],angular.module("ec-employee-helpers").factory("filenameHlp",r)},{}],28:[function(e,t,n){"use strict";function r(e,t,n){function r(e){var t={};return e.forEach(function(e){var n=e._employee,r=n.lastName+","+n.firstName+","+n.id,s=t[r];s?s.push(e):t[r]=[e]}),t}function i(e,t){Object.keys(e.search()).filter(function(e){return!e.startsWith("filter")}).forEach(function(t){return e.search(t,null)});var n=["filter["+u.ORGANIZATION_ID+"]","filter["+u.CREDENTIAL_IDS+"]","filter["+u.CRED_TYPES+"]"];Object.keys(t).forEach(function(r){!r.startsWith("filter")&&!r.startsWith("sort")||n.includes(r)||e.search(r,t[r])})}function a(t,n){var r={};r.sortBy=l(t,n.sortOptions);var s="filter["+u.STATUS+"]";if(t[s]){var o=t[s].split(",");r.statuses=d.filter(function(e){return o.includes(""+e.id)})}if(s="filter["+u.STATUS_REASON+"]",t[s]){var i=t[s].split(",");r.statusReasons=n.statusReasons.filter(function(e){return i.includes(""+e.id)})}if(s="filter["+u.JOB_TYPE+"]",t[s]){var a=t[s].split(",");r.jobTypes=n.jobTypes.filter(function(e){return a.includes(""+e.id)})}if(s="filter["+u.DEPARTMENT+"]",t[s]){var c=t[s].split(",");r.departments=n.departments.filter(function(e){return c.includes(""+e.id)})}if(s="filter["+u.LOCATION+"]",t[s]){var p=t[s].split(",");r.locations=n.locations.filter(function(e){return p.includes(""+e.id)})}if(s="filter["+u.EMPLOYMENT_GROUP+"]",t[s]){var m=t[s].split(",");r.empGroups=n.empGroups.filter(function(e){return m.includes(""+e.id)})}return s="filter["+u.ADMIN_VERIFIED+"]",null!=t[s]&&(r.adminVerified="true"===t[s]||!0===t[s]),s="filter["+u.FULL_NAME+"]",t[s]&&(r.search=t[s]),s="filter["+u.EXPIRES_AFTER+"]",t[s]&&(r.expiresAfter=e(t[s])),s="filter["+u.EXPIRES_BEFORE+"]",t[s]&&(r.expiresBefore=e(t[s])),s="filter["+u.EFFECTIVE_DATE+"]",t[s]&&("today"===t[s]?r.effectiveDate=e():r.effectiveDate=e(t[s])),s="filter["+u.LAST_UPDATED_START+"]",t[s]&&(r.lastUpdatedStart=e(t[s])),s="filter["+u.LAST_UPDATED_END+"]",t[s]&&(r.lastUpdatedEnd=e(t[s])),r}function l(e,t){if(null==t||!t.length)return null;for(var n=0;n<Object.keys(m).length;n++){var r=Object.keys(m)[n],s=function(e,t,n){if(e["sort["+n+"]"]){var r=e["sort["+n+"]"];return t.find(function(e){return e.value.field===n&&e.value.dir===r}).value}return null}(e,t,m[r]);if(null!=s)return s}return null}function c(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(s({})===s(e[n])?t.push(encodeURIComponent(n)+"="+JSON.stringify(e[n])):t.push(encodeURIComponent(n)+"="+e[n]));return t.join("&")}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""===e&&""===t)return"";var n=e.endsWith("0001"),r=t.endsWith("9999");if(n&&r)return"Current";var s="";return s=n?"Current":e.replace(/-/gi,"/"),s.length&&t.length&&(s+=" - "),s+=r?"Current":t.replace(/-/gi,"/")}if(null!=o)return o;var u={ADMIN_VERIFIED:"isAdminVerified",CRED_TYPES:"credentialType|IssuedReasons",CREDENTIAL_IDS:"credentialIds",DEPARTMENT:"department",EFFECTIVE_DATE:"asOfTimeUtc",EMPLOYMENT_GROUP:"employmentGroup",EXPIRES_AFTER:"expiresAfter",EXPIRES_BEFORE:"expiresBefore",FULL_NAME:"fullname",JOB_TYPE:"jobType",LAST_UPDATED_START:"lastUpdatedStart",LAST_UPDATED_END:"lastUpdatedEnd",LOCATION:"location",ORGANIZATION_ID:"organizationId",STATUS:"status",STATUS_REASON:"statusReason"},m={ASSIGNMENT_START_DATE:"assignmentStartDateUtc",EMP_STATUS:"employeeStatus",EMP_LAST_UPDATED:"lastUpdatedUtc",EXPIRATION_DAY:"expirationDay",HIRE_DATE:"hireDate",JOB_TYPE:"jobTypeName",LAST_NAME:"lastname",POSITION_NAME:"positionName",LOCATION_NAME:"locationName"},d=n.getEnums().map(function(e){return{_name:t.toProperCase(e.name.toLowerCase()),id:e.value}});return o={adminVerifiedOptions:[{name:"All",value:null},{name:"Verified",value:!0},{name:"Not Verified",value:!1}],filtersKeys:u,getDateString:p,getSelectedFromUrl:a,groupByEmployee:r,setUrl:i,sortKeys:m,statusOptions:d,toQuerystring:c}}r.$inject=["moment","ssStringHlp","enumEmployeeStatus"];var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=null;angular.module("ec-employee-helpers").factory("reportHlp",r)},{}],29:[function(e,t,n){"use strict";function r(e){return e}r.$inject=["ssSleepHlp"],angular.module("ec-employee-helpers").factory("sleepHlp",r)},{}],30:[function(e,t,n){"use strict";function r(){return s}var s={filterDateOrNull:function(e,t){if(e&&""!=e){var n={};return n["filter["+t+"]"]=e,n}return null},filterOrNull:function(e,t){if(e.length>0){var n={};return n["filter["+t+"]"]=e.map(function(e){return e.id}).join(","),n}return null},sortOrNull:function(e){var t={};return t["sort["+e.field+"]"]=e.dir,t},searchFilter:function(e,t){var n={};return null!=e?(n["filter["+t+"]"]=e,n):null},filterOrNullForPost:function(e){if(e.length>0){var t=[];return e.map(function(e){t.push(e.id)}),t.join(",")}return null}};angular.module("ec-employee-helpers").factory("sortFilterHlp",r)},{}],31:[function(e,t,n){"use strict";e("./components/cmp-employee-document-editor/employee-document-editor.js"),e("./components/cmp-employee-document-nav/employee-document-nav.js"),e("./components/cmp-employee-documents-list/employee-documents-list.js"),e("./components/cmp-form-field-date/form-field-date.js"),e("./components/cmp-form-field/form-field.js"),e("./components/cmp-phone-group/phone-group.js"),e("./components/cmp-phone-item/phone-item.js"),e("./components/cmp-report-export-settings/report-export-settings.js"),e("./components/cmp-report-filter-bar/report-filter-bar.js"),e("./helpers/credentialFactoryHlp/credential-factory.js"),e("./helpers/employeeAssignmentHlp/employee-assignment.js"),e("./helpers/employeeModelChangerHlp/employee-model-changer.js"),e("./helpers/endorsementFactoryHlp/endorsement-factory.js"),e("./helpers/filenameHlp/filename.js"),e("./helpers/reportHlp/report.js"),e("./helpers/sleepHlp/sleep.js"),e("./helpers/sortFilterHlp/sort-filter.js"),e("./apis/empFilesApi.js"),e("./apis/empReportsApi.js"),e("./apis/exportTemplateApi.js"),e("./routes/employee-record/credentials/credentials.state.js"),e("./routes/employee-record/credentials/segment-credentials-content/credentials-content.js"),e("./routes/employee-record/credentials/segment-credentials-content/credentials-content.logic.js"),e("./routes/employee-record/emergency/emergency.state.js"),e("./routes/employee-record/emergency/segment-emergency-content/emergency-content.js"),e("./routes/employee-record/emergency/segment-emergency-content/emergency-content.logic.js"),e("./routes/employee-record/employee-record.state.js"),e("./routes/employee-record/employment/employment.state.js"),e("./routes/employee-record/employment/segment-employment-content/employment-content.js"),e("./routes/employee-record/employment/segment-employment-content/employment-content.logic.js"),e("./routes/employee-record/medical/medical.state.js"),e("./routes/employee-record/medical/segment-medical-content/medical-content.js"),e("./routes/employee-record/medical/segment-medical-content/medical-content.logic.js"),e("./routes/employee-record/personal/personal.state.js"),e("./routes/employee-record/personal/segment-personal-content/personal-content.js"),e("./routes/employee-record/personal/segment-personal-content/personal-content.logic.js"),e("./routes/employee-record/personnel/personnel.state.js"),e("./routes/employee-record/personnel/segment-personnel-content/personnel-content.js"),
e("./routes/employee-record/personnel/segment-personnel-content/personnel-content.logic.js"),e("./routes/employee-record/segment-content/content.js"),e("./routes/employee-record/segment-content/content.logic.js"),e("./routes/employee-record/segment-header/header.js"),e("./routes/employee-record/segment-header/header.logic.js"),e("./routes/employee-record/segment-sidebar/sidebar.js"),e("./routes/employee-record/segment-sidebar/sidebar.logic.js"),e("./routes/index/index.state.js"),e("./routes/index/segment-filter/filter.js"),e("./routes/index/segment-filter/filter.logic.js"),e("./routes/index/segment-results/results.js"),e("./routes/index/segment-results/results.logic.js"),e("./routes/my-profile/my-profile.state.js"),e("./routes/my-profile/segment-header/header.js"),e("./routes/my-profile/segment-header/header.logic.js"),e("./routes/reports/assignments/assignments.state.js"),e("./routes/reports/assignments/report/report.state.js"),e("./routes/reports/assignments/report/segment-content/content.js"),e("./routes/reports/assignments/report/segment-content/content.logic.js"),e("./routes/reports/assignments/segment-content/content.js"),e("./routes/reports/assignments/segment-content/content.logic.js"),e("./routes/reports/assignments/settings/segment-content/content.js"),e("./routes/reports/assignments/settings/segment-content/content.logic.js"),e("./routes/reports/assignments/settings/settings.state.js"),e("./routes/reports/credentials/credentials.state.js"),e("./routes/reports/credentials/segment-content/content.js"),e("./routes/reports/credentials/segment-content/content.logic.js"),e("./routes/reports/demographic/demographic.state.js"),e("./routes/reports/demographic/report/report.state.js"),e("./routes/reports/demographic/report/segment-content/content.js"),e("./routes/reports/demographic/report/segment-content/content.logic.js"),e("./routes/reports/demographic/segment-content/content.js"),e("./routes/reports/demographic/segment-content/content.logic.js"),e("./routes/reports/demographic/settings/segment-content/content.js"),e("./routes/reports/demographic/settings/segment-content/content.logic.js"),e("./routes/reports/demographic/settings/settings.state.js"),e("./routes/reports/reports.state.js"),e("./routes/reports/segment-content/content.js"),e("./routes/reports/segment-content/content.logic.js"),e("./config/load-config.js"),e("./config/router.js")},{"./apis/empFilesApi.js":5,"./apis/empReportsApi.js":6,"./apis/exportTemplateApi.js":7,"./components/cmp-employee-document-editor/employee-document-editor.js":9,"./components/cmp-employee-document-nav/employee-document-nav.js":10,"./components/cmp-employee-documents-list/employee-documents-list.js":11,"./components/cmp-form-field-date/form-field-date.js":12,"./components/cmp-form-field/form-field.js":13,"./components/cmp-phone-group/phone-group.js":14,"./components/cmp-phone-item/phone-item.js":15,"./components/cmp-report-export-settings/report-export-settings.js":16,"./components/cmp-report-filter-bar/report-filter-bar.js":17,"./config/load-config.js":21,"./config/router.js":22,"./helpers/credentialFactoryHlp/credential-factory.js":23,"./helpers/employeeAssignmentHlp/employee-assignment.js":24,"./helpers/employeeModelChangerHlp/employee-model-changer.js":25,"./helpers/endorsementFactoryHlp/endorsement-factory.js":26,"./helpers/filenameHlp/filename.js":27,"./helpers/reportHlp/report.js":28,"./helpers/sleepHlp/sleep.js":29,"./helpers/sortFilterHlp/sort-filter.js":30,"./routes/employee-record/credentials/credentials.state.js":34,"./routes/employee-record/credentials/segment-credentials-content/credentials-content.js":35,"./routes/employee-record/credentials/segment-credentials-content/credentials-content.logic.js":36,"./routes/employee-record/emergency/emergency.state.js":37,"./routes/employee-record/emergency/segment-emergency-content/emergency-content.js":38,"./routes/employee-record/emergency/segment-emergency-content/emergency-content.logic.js":39,"./routes/employee-record/employee-record.state.js":40,"./routes/employee-record/employment/employment.state.js":41,"./routes/employee-record/employment/segment-employment-content/employment-content.js":42,"./routes/employee-record/employment/segment-employment-content/employment-content.logic.js":43,"./routes/employee-record/medical/medical.state.js":44,"./routes/employee-record/medical/segment-medical-content/medical-content.js":45,"./routes/employee-record/medical/segment-medical-content/medical-content.logic.js":46,"./routes/employee-record/personal/personal.state.js":47,"./routes/employee-record/personal/segment-personal-content/personal-content.js":48,"./routes/employee-record/personal/segment-personal-content/personal-content.logic.js":49,"./routes/employee-record/personnel/personnel.state.js":50,"./routes/employee-record/personnel/segment-personnel-content/personnel-content.js":51,"./routes/employee-record/personnel/segment-personnel-content/personnel-content.logic.js":52,"./routes/employee-record/segment-content/content.js":53,"./routes/employee-record/segment-content/content.logic.js":54,"./routes/employee-record/segment-header/header.js":55,"./routes/employee-record/segment-header/header.logic.js":56,"./routes/employee-record/segment-sidebar/sidebar.js":57,"./routes/employee-record/segment-sidebar/sidebar.logic.js":58,"./routes/index/index.state.js":59,"./routes/index/segment-filter/filter.js":60,"./routes/index/segment-filter/filter.logic.js":61,"./routes/index/segment-results/results.js":62,"./routes/index/segment-results/results.logic.js":63,"./routes/my-profile/my-profile.state.js":64,"./routes/my-profile/segment-header/header.js":65,"./routes/my-profile/segment-header/header.logic.js":66,"./routes/reports/assignments/assignments.state.js":67,"./routes/reports/assignments/report/report.state.js":68,"./routes/reports/assignments/report/segment-content/content.js":69,"./routes/reports/assignments/report/segment-content/content.logic.js":70,"./routes/reports/assignments/segment-content/content.js":71,"./routes/reports/assignments/segment-content/content.logic.js":72,"./routes/reports/assignments/settings/segment-content/content.js":73,"./routes/reports/assignments/settings/segment-content/content.logic.js":74,"./routes/reports/assignments/settings/settings.state.js":75,"./routes/reports/credentials/credentials.state.js":76,"./routes/reports/credentials/segment-content/content.js":77,"./routes/reports/credentials/segment-content/content.logic.js":78,"./routes/reports/demographic/demographic.state.js":79,"./routes/reports/demographic/report/report.state.js":80,"./routes/reports/demographic/report/segment-content/content.js":81,"./routes/reports/demographic/report/segment-content/content.logic.js":82,"./routes/reports/demographic/segment-content/content.js":83,"./routes/reports/demographic/segment-content/content.logic.js":84,"./routes/reports/demographic/settings/segment-content/content.js":85,"./routes/reports/demographic/settings/segment-content/content.logic.js":86,"./routes/reports/demographic/settings/settings.state.js":87,"./routes/reports/reports.state.js":88,"./routes/reports/segment-content/content.js":89,"./routes/reports/segment-content/content.logic.js":90}],32:[function(e,t,n){"use strict";angular.module("ec-employee",["super-suit","dndLists","ec-employee-apis","ec-employee-components","ec-employee-segments","ec-employee-segment-logic","ec-employee-filters","ec-employee-templates","ec-employee-helpers","ec-employee-components","ec-employee-decorators","ec-employee-services"]),angular.module("ec-employee-apis",[]),angular.module("ec-employee-components",[]),angular.module("ec-employee-segments",[]),angular.module("ec-employee-segment-logic",[]),angular.module("ec-employee-helpers",[]),angular.module("ec-employee-components",[]),angular.module("ec-employee-decorators",[]),angular.module("ec-employee-services",[]),angular.module("ec-employee-filters",[])},{}],33:[function(e,t,n){"use strict";!function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/employee-record.html",'<route folder="/employee-record"> <div class="route-wrapper" ss-pending="routeVm.refreshing"> <segment name="header"></segment> <segment name="sidebar"></segment> <segment name="content"></segment> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/index.html",'<route folder="/index"> <div class="route-wrapper"> <h1 ng-if="routeVm.isGlobalDirectory">Employee Data Report</h1> <h1 ng-if="!routeVm.isGlobalDirectory">Employee Directory</h1> <segment name="filter"></segment> <segment name="results"></segment> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-profile/my-profile.html",'<route folder="/my-profile"> <div class="route-wrapper"> <segment name="header"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/reports.html",'<route folder="/reports"> <div class="route-wrapper"> <segment name="content"></segment> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-employee-document-editor/employee-document-editor.html",'<div class="cmp-employee-document-editor"> <div class="flex-wrapper document-view" ng-if="(model._linkType === \'files\' || model._linkType === \'credentials\') && !vm.isEdit"> <div class="flex-item content"> <i class="file-icon" role="presentation" ss-icon-before="{{ vm.fileIcon }}"></i> <a class="document" href="#" ng-click="go.downloadFile(model._fileId)" ng-bind="model._name" title="View {{ model._name }}"></a> <ul class="ss-pipe-children file-meta"> <li class="file-ext" ng-if="vm.showSubCatText" ng-bind="go.getSubCatName(model._category, model._subCategory)"></li> <li class="file-ext">{{vm.extension | uppercase}}</li> <li class="file-date">{{vm.fileDateUtc}}</li> </ul> </div> <div class="document-actions" ng-if="employeePermissions.props[categoryPermission].edit && model._linkType !== \'credentials\'"> <button type="button" ss-icon="pencil" class="smp edit" ng-click="vm.isEdit = true" ng-disabled=""></button> </div> </div> <div class="flex-wrapper document-view" ng-if="model._linkType === \'formInstances\' && !vm.isEdit"> <div class="flex-item content"> <i class="file-icon" role="presentation" ss-icon-before="{{ vm.fileIcon }}"></i> <a class="document" href="#" ng-bind="model._name" ng-click="go.viewOnline(model._entityId)" title="View {{ model._name }}"></a> <ul class="ss-pipe-children file-meta"> <li class="file-ext" ng-if="vm.showSubCatText" ng-bind="go.getSubCatName(model._category, model._subCategory)"></li> <li class="file-ext">Web Form</li> <li class="file-date">{{vm.fileDateUtc}}</li> <li class="file-attachments" ng-if="vm.filesOnInstance.length"> <span ss-icon="spinner" ng-if="vm.loadingFiles"></span> <super-popover link="{{ vm.filesOnInstance.length }}" ss-icon="paperclip" ng-if="!vm.loadingFiles" title="file attachments"> <p>UPLOADED FILES (<small>These files were uploaded by a user as part of a workflow step.</small>)</p> <ul class="popover-step-list" ng-repeat="file in vm.filesOnInstance"> <li ss-icon-before="{{ file.icon }}" ng-bind="file.filename" ng-click="go.downloadFile(file.id)" title="click to download {{file.filename}}"></li> </ul> <p><button ng-if="vm.filesOnInstance.length > 1" ng-click="go.downloadFiles(vm.filesOnInstance)">Download all {{ vm.filesOnInstance.length }} files</button></p> </super-popover> </li> <li ng-if="featureFlags[\'fc_enhanced_denied_form_workflow\'] && model._deniedInfo"> <span ng-if="!vm.validDeniedInfo" class="denied" ss-icon="thumbsdown-stripes"> Form Denied</span> <super-popover ng-if="vm.validDeniedInfo" class="denied" link="Form Denied" aria-label="Click here for denied info." ss-icon="thumbsdown-stripes"> Denied by {{model._deniedInfo.denier.name}}<br> Comments: {{model._deniedInfo.comments}} </super-popover> </li> </ul> </div> <div class="document-actions" ng-if="employeePermissions.props[categoryPermission].edit"> <button type="button" ss-icon="pencil" class="smp edit" ng-click="vm.isEdit = true" ng-disabled=""></button> </div> </div> <form ng-if="vm.isEdit" class="flex-wrapper document-edit" ss-pending="vm.saving" ng-submit="go.save()" ss-validate-form> <fieldset class="flex-item content"> <div class="flex-wrapper"> <i class="file-icon" role="presentation" ss-icon-before="{{ vm.fileIcon }}"></i> <div class="flex-item file-name"> <a class="document" href="#" ng-if="!model._fileActions.rename" ng-bind="model._name" ng-click="go.viewOnline(model._formInstanceId)" title="View {{ model._name }}"></a> <super-input-text ng-if="model._fileActions.rename" required="true" ss-validate="validator.required(model._name, \'file name\')" model="model._name" name="fileName"></super-input-text> </div> <div class="flex-item file-category" ng-if="model._fileActions.move"> <super-select-list model="vm.webFormCategory"> <super-select-list-item ng-if="vm.showPersonnelCategoryLabel" type="heading" label="\'Personnel Documents\'"></super-select-list-item> <super-select-list-item value="\'0-\' + cat.value" label="cat.name" ng-repeat="cat in vm.categoryEnums[0]" ng-if="employeePermissions.props[cat.properties.permission].view"></super-select-list-item> <super-select-list-item ng-if="vm.showMedicalCategoryLabel" type="heading" label="\'Medical Documents\'"></super-select-list-item> <super-select-list-item value="\'1-\' + cat.value" label="cat.name" ng-repeat="cat in vm.categoryEnums[1]" ng-if="employeePermissions.props[cat.properties.permission].view"></super-select-list-item> </super-select-list> </div> </div> </fieldset> <fieldset class="document-actions"> <button type="submit" class="save" ss-icon="check" title="Save"></button> <button type="button" class="cancel" ss-icon="times" ng-click="go.cancelEdit()" title="Cancel"></button> <button type="button" class="delete" ss-icon="trash-o" ng-click="onRemove({$item: model})" title="Delete"></button> </fieldset> </form> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-employee-document-nav/employee-document-nav.html",'<nav class="cmp-employee-document-nav"> <ul> <li class="nav-item" ng-repeat="category in vm.categories" ng-if="category.name === \'All Files\' || vm.employeePermissions.props[category.properties.permission].view"> <a ng-click="go.selectSubcategory(category)" title="{{category.name}}" class="{{routeVm.selectedCategory.subcategory.value === category.value ? \'active\' : \'\'}}"> {{category.name}} <abbr title="{{category.name}} count" class="count-display" ng-bind="routeVm.fileCounts[category.value]" ng-if="routeVm.fileCounts[category.value] > 0"> </abbr> </a> </li> </ul> </nav> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-employee-documents-list/employee-documents-list.html",'<div class="cmp-employee-documents-list"> <p ng-if="routeVm.featureFlags.isHRMSEnabled"><strong>Note:&nbsp;</strong>Frontline Central employee documents do not appear in HRMS.</p> <header class="document-list-header"> <div class="flex-wrapper uploader-select-group"> <h3 class="flex-item subcategory-title" ng-bind="vm.selectedCategoryName"></h3> <form ng-if="!vm.loading && vm.files.length && employeePermissions.actions.createEmployeeFile" class="flex-item uploader-form"> <fieldset class="uploader-controls"> <super-button type="button" label="Upload a File" class="upload" value="" is-disabled="uploader.queue.length > 0"></super-button> <input type="file" id="file-uploader" aria-label="select a file to upload" nv-file-select name="fileUpload" uploader="uploader" accept=".pdf,.doc,.docx,.csv,.xls,.xlsx,.jpg,.jpeg,.bmp,.png,.jp2,.gif,.wmf,.txt,.ppt,.pptx" filters="validExt" ng-disabled="uploader.queue.length > 0"> </fieldset> </form> </div> <div class="document-filter flex-wrapper"> <div class="find-documents flex-item"> <super-input-text aria-controls="document-count" class="find-document" ss-icon="search" model="vm.query.filter.value" is-disabled="!vm.files.length && !vm.query.filter.value" placeholder="Find Documents by Name" data-test="filter-document-name"></super-input-text> <p class="flex-item document-count" class="document-count flex-item" ng-pluralize count="routeVm.searchCount" when="{\'1\': \'{} Document\',\n\t\t\t\t\t\t   \'other\': \'{} Documents\'}" role="region" input-id="document-count" aria-live="assertive"> </p> </div> <div class="sort-documents"> <super-select-list type="filter" label="Sort by" aria-label="Change directory sort" model="vm.query.sort" data-test="sort" is-disabled="!vm.files.length && !vm.query.sort.value"> <super-select-list-item ng-repeat="filter in vm.sortByOptions" value="filter.value" label="filter.name" aria-label="{{filter.ariaLabel}}"></super-select-list-item> </super-select-list> </div> </div> </header> <div id="document-list-group" ss-pending="vm.loading"> <div class="uploader-confirm-group"> <form class="flex-wrapper uploader-confirm-form" ng-show="uploader.queue.length > 0" ng-repeat="item in uploader.queue" ng-submit="go.prepareUpload(item)" ss-validate-form> <fieldset class="flex-item file-meta"> <div class="flex-wrapper"> <div class="flex-item file-name"> <super-input-text required="true" ss-validate="item.file.filename.length > 0" ss-validate-message="File name is required" label="File Name" model="item.file.filename"> </super-input-text> </div> <div class="flex-item file-categories" ss-validate="item.file.subCategory !== null" ss-validate-message="Category is required"> <super-select-list label="Category" model="item.file.subCategory"> <super-select-list-item value="cat.value" label="cat.name" ng-repeat="cat in vm.subCategoryEnums[categoryId]" ng-if="employeePermissions.props[cat.properties.permission].view"></super-select-list-item> </super-select-list> </div> </div> </fieldset> <fieldset class="file-upload-actions"> <button type="submit" class="save" ss-icon="check" title="Save" ng-disabled="vm.saving"></button> <button type="button" class="cancel" ss-icon="times" ng-click="item.remove()" title="Cancel" ng-disabled="vm.saving"></button> </fieldset> </form> </div> <div ng-if="!vm.loading && vm.files.length" ng-repeat="file in vm.files"> <cmp-employee-document-editor model="file" on-remove="go.remove($item)" employee-permissions="employeePermissions" category-permission="file.subCategoryPermission"></cmp-employee-document-editor> <hr class="document-divider" ng-if="$index < vm.files.length-1"> </div> <div class="document-empty-list-group" ng-if="!vm.loading && !vm.files.length && !uploader.queue.length && !vm.query.filter.value"> <p>No Files Yet</p> <p ng-if="!vm.loading && employeePermissions.actions.createEmployeeFile"><small>add forms and completed employee documents here</small></p> <form ng-if="!vm.loading && employeePermissions.actions.createEmployeeFile" class="uploader-form" ng-show="uploader.queue.length === 0"> <fieldset class="uploader-controls"> <super-button type="button" label="Upload a File" ng-click="go.uploadFile()" class="upload" value=""></super-button> <input type="file" id="file-uploader" aria-label="select a file to upload" nv-file-select name="fileUpload" uploader="uploader" accept=".pdf,.doc,.docx,.csv,.xls,.xlsx,.jpg,.jpeg,.bmp,.png,.jp2,.gif,.wmf,.txt,.ppt,.pptx" filters="validExt"> </fieldset> </form> </div> <div class="document-empty-list-group" ng-if="!vm.loading && vm.query.filter.value && routeVm.searchCount < 1"> <p>No Documents Found</p> <p><small>try rewording your search to find what you\'re looking for.</small></p> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-form-field/form-field.html",'<div class="cmp-form-field ss-form-field"> <label class="main-label" ng-class="{\'required\': required}" ng-bind="label"></label> <div ng-if="value != null" ng-bind="value"></div> <div ng-if="value == null" class="empty"><ng-transclude></ng-transclude></div> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-form-field-date/form-field-date.html",'<div class="ss-form-field"> <label class="main-label" ng-class="{\'required\': required}" ng-bind="label"></label> <div ng-if="model" ng-bind="model | date:vm.format"></div> <div ng-if="!model"><ng-transclude></ng-transclude></div> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-phone-group/phone-group.html",'<div class="cmp-phone-group"> <div> <h3>Phones</h3> <super-button smp ng-if="editMode" label="Add New Phone" ng-click="go.add()" ss-icon="plus-circle"></super-button> </div> <super-grid ss-pending="vm.loading"> <grid-header> <super-grid-column>Usage Type</super-grid-column> <super-grid-column width="35%">Phone Number</super-grid-column> <super-grid-column width="80px">Extension</super-grid-column> <super-grid-column width="80px">Primary</super-grid-column> <super-grid-column>Phone Type</super-grid-column> <super-grid-column width="80px" ng-if="editMode">Actions</super-grid-column> </grid-header> <grid-rows> <super-grid-row ng-repeat="phone in emp._phoneNumbers"> <cmp-phone-item phone="phone" on-remove="go.onRemove($index)" on-check="go.onCheck($index)" edit-mode="editMode"></cmp-phone-item> </super-grid-row> <super-grid-row ng-if="!emp._phoneNumbers.length"> <super-grid-cell> <super-input-text model="\'No phones were found.\'" edit-mode="false"></super-input-text> </super-grid-cell> </super-grid-row> </grid-rows> </super-grid> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-phone-item/phone-item.html",'<div class="cmp-phone-item"> <div ng-if="!phone.editable"> <super-grid-cell>{{phone._usageType | enumByValue: \'usageType\'}}</super-grid-cell> <super-grid-cell>{{phone.formatted}}</super-grid-cell> <super-grid-cell>{{phone._extension}}</super-grid-cell> <super-grid-cell><span ng-if="phone._isPrimary" ss-icon-before="check"></span></super-grid-cell> <super-grid-cell>{{phone._phoneType | enumByValue: \'phoneTypes\'}}</super-grid-cell> <super-grid-cell ng-if="editMode"><button type="button" class="edit" ng-click="go.edit()" data-cy="edit">Edit</button></super-grid-cell> </div> <div ng-if="phone.editable"> <super-grid-cell> <super-select-list model="phone._usageType" enum-type="usageType" ss-validate="validator.required(phone._usageType, \'Usage Type\')"> <super-select-list-item ng-repeat="option in vm.options.usageType" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </super-grid-cell> <super-grid-cell> <super-input-text data-cy="edit-number" placeholder="Phone Number" model="phone._number" ss-validate="validator.phoneNumber(phone._number, \'Phone Number\')"></super-input-text> </super-grid-cell> <super-grid-cell> <super-input-text data-cy="edit-ext" placeholder="Extension" model="phone._extension"></super-input-text> </super-grid-cell> <super-grid-cell> <super-input-checkbox data-cy="edit-primary" placeholder="Primary" model="phone._isPrimary"></super-input-checkbox> </super-grid-cell> <super-grid-cell> <super-select-list model="phone._phoneType" enum-type="phoneTypes"> <super-select-list-item ng-repeat="option in vm.options.phoneTypes" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </super-grid-cell> <super-grid-cell class="actions"> <button type="button" class="cancel" ss-icon="times" title="Cancel" ng-click="go.cancel()" data-cy="cancel"></button> <button type="button" class="delete" ss-icon="trash-o" title="Delete" ng-click="go.remove()" data-cy="delete" ng-if="phone.id"></button> </super-grid-cell> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-report-filter-bar/report-filter-bar.html",'<div class="cmp-report-filter-bar gd-row"> <button ss-icon-after="times" class="clear-filters" ng-click="go.clear()" ng-if="go.showClear()">Clear All Filters</button> <div class="filters gd-row"> <div class="effective-date" ng-if="go.useFilter(\'effectiveDate\')"> <super-input-datepicker edit-mode="true" label="Effective Date" model="vm.filters.effectiveDate" label-weight="heavy"></super-input-datepicker> </div> <div class="last-updated" ng-if="go.useFilter(\'lastUpdated\')" ng-class="{\'ss-validate-failing\': vm.invalidLastUpdated}"> <super-input-datepicker edit-mode="true" label="Last Updated" placeholder="From" model="vm.filters.lastUpdatedStart" label-weight="heavy"></super-input-datepicker> <span ng-if="vm.filters.lastUpdatedStart">&ndash;&nbsp;<super-input-datepicker edit-mode="true" placeholder="To" model="vm.filters.lastUpdatedEnd" label-weight="heavy"></super-input-datepicker></span> <ul class="ss-validate-messages show-messages" ng-if="vm.invalidLastUpdated" aria-live="polite"><li>Start Date cannot occur after End Date</li></ul> </div> </div> <div class="filters gd-row"> <div class="job-types" ng-if="vm.jobTypes.length"> <super-multi-filter-list label="Job Type" label-weight="heavy" display="tags" selected="vm.filters.jobTypes"> <super-multi-filter-list-item ng-repeat="option in vm.jobTypes | orderBy:\'_name\'" option="option"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="departments" ng-if="vm.departments.length"> <super-multi-filter-list label="Department" label-weight="heavy" display="tags" selected="vm.filters.departments"> <super-multi-filter-list-item ng-repeat="option in vm.departments | orderBy:\'_name\'" option="option"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="locations" ng-if="vm.locations.length"> <super-multi-filter-list label="Location" label-weight="heavy" display="tags" selected="vm.filters.locations"> <super-multi-filter-list-item ng-repeat="option in vm.locations | orderBy:\'_name\'" option="option"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="employment-groups" ng-if="vm.empGroups.length"> <super-multi-filter-list label="Employment Group" label-weight="heavy" display="tags" selected="vm.filters.empGroups"> <super-multi-filter-list-item ng-repeat="option in vm.empGroups | orderBy:\'_name\'" option="option"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="cred-types" ng-if="vm.credTypes.length || vm.loadingCreds" ng-class="{\'loading-creds\': vm.loadingCreds}" ss-icon-after="spinner"> <super-multi-filter-list label="Credential Types" label-weight="heavy" display="tags" selected="vm.filters.credTypes" is-disabled="vm.loadingCreds"> <super-multi-filter-list-group ng-repeat="type in vm.credTypes | orderBy: \'_name\'" label="{{type._name}}"> <super-multi-filter-list-item ng-repeat="subType in type.subTypes" option="subType"></super-multi-filter-list-item> </super-multi-filter-list-group> </super-multi-filter-list> </div> <div class="credentials" ng-if="vm.credentials.length || vm.loadingCreds" ng-class="{\'loading-creds\': vm.loadingCreds}" ss-icon-after="spinner"> <super-multi-filter-list label="Credential" label-weight="heavy" display="tags" selected="vm.filters.credentials" is-disabled="vm.loadingCreds"> <super-multi-filter-list-item ng-repeat="option in vm.credentials | orderBy: \'_name\' track by $index" option="option"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="status" ng-if="go.useFilter(\'empStatus\')"> <super-multi-filter-list label="Status" label-weight="heavy" display="tags" selected="vm.filters.statuses"> <super-multi-filter-list-item ng-repeat="option in vm.statuses | orderBy: \'_name\'" option="option"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="status-reasons" ng-if="vm.empStatusReasons.length"> <super-multi-filter-list label="Status Reason" label-weight="heavy" display="tags" selected="vm.filters.empStatusReasons"> <super-multi-filter-list-item ng-repeat="option in vm.empStatusReasons | orderBy:\'_name\'" option="option"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="verified" ng-if="go.useFilter(\'adminVerified\')"> <super-select-list label="Admin-Verified" model="vm.filters.adminVerified" label-weight="heavy"> <super-select-list-item ng-repeat="option in vm.adminVerified" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <div class="expiring" ng-if="go.useFilter(\'expiration\')"> <super-input-datepicker edit-mode="true" label="Expires" placeholder="After" model="vm.filters.expiresAfter" label-weight="heavy"></super-input-datepicker> <super-input-datepicker edit-mode="true" placeholder="Before" model="vm.filters.expiresBefore"></super-input-datepicker> </div> </div> <super-filter-bar search="vm.filters.search" type-label="{{config.countLabel}}" total-count="config.totalResults" selected-count="0" search-label="{{config.searchLabel}}"> <actions ng-if="config.export != null"> <super-button ng-if="vm.exportTemplates == null" ng-click="go.export()" label="Export" is-disabled="vm.loading || vm.isExporting || config.totalResults < 1" ss-pending="vm.isExporting"></super-button> <super-button ng-if="vm.exportTemplates != null" ss-icon-after="angle-down" label="Export" is-disabled="vm.loading || vm.isExporting || config.totalResults < 1" ss-pending="vm.isExporting"> <item ng-repeat="template in vm.exportTemplates" ng-click="go.export(template.value)" ng-bind="template.name"></item> </super-button> </actions> <filters ng-if="config.sortOptions"> <super-select-list type="filter" label="Sort by" aria-label="Change directory sort" model="vm.filters.sortBy"> <super-select-list-item ng-repeat="filter in config.sortOptions" value="filter.value" label="filter.name" aria-label="{{filter.ariaLabel}}"></super-select-list-item> </super-select-list> </filters> </super-filter-bar> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-report-export-settings/report-export-settings.html",'<div class="cmp-report-export-settings" ng-class="{\'edit-mode\': vm.editMode, \'is-new\': vm.isNew}" ss-pending="vm.loading"> <div class="no-template" data-test="no-template" ng-if="vm.isNew && !vm.editMode"> <div>You currently have no templates configured for export.</div> <div ng-if="!vm.canCreate">You can <a href="{{vm.csSupportUrl}}">contact support</a> to schedule nightly export.</div> <div ss-permitted="exportTemplates.create">You can <a href="{{vm.csSupportUrl}}">contact support</a> to schedule nightly export or create a customized export template by clicking the button below.</div> <super-button pri ng-click="go.edit()" label="Create New Template" ss-permitted="exportTemplates.create" data-test="create-new-template"></super-button> </div> <form ss-validate-form ng-submit="go.save()" autocomplete="off" ng-if="!vm.loading && ((vm.isNew && vm.editMode) || !vm.isNew)"> <h2>Export Template Settings</h2> <div class="actions" ss-permitted="exportTemplates.edit"> <super-button label="Edit Template" pri ng-click="go.edit()" ng-if="!vm.editMode" data-test="edit"></super-button> <super-button label="Delete" class="remove" smp ss-icon="trash-o" ng-click="go.remove()" ng-if="vm.editMode && vm.template.id != null" ng-disabled="vm.saving" data-test="remove" ss-permitted="exportTemplates.delete"></super-button> <super-button label="Cancel" ng-click="go.cancel()" ng-if="vm.editMode" ng-disabled="vm.saving" data-test="cancel"></super-button> <super-button label="Save" class="save" pri type="submit" ng-if="vm.editMode" ng-class="{\'saving\': vm.saving}" ng-disabled="vm.saving" ss-icon="spinner" data-test="save"></super-button> </div> <div class="editing-template" ng-if="vm.template.id != null && vm.editMode">You are modifying the export template. This will also affect your nightly export runs.</div> <div class="gd-row"> <div class="gd-35p"> <super-input-text label="Template Name" label-weight="heavy" model="vm.template.name" edit-mode="vm.editMode" data-test="name" ss-validate="validator.name(vm.template.name, \'Template Name\')" placeholder="Pick a name for your template"> </super-input-text> </div> </div> <div> <super-select-list label="Column Separator" label-weight="heavy" model="vm.template.delimiter" edit-mode="vm.editMode" data-test="delimiter"> <super-select-list-item ng-repeat="option in vm.options.delimiters" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <fieldset class="export-settings" aria-label="Select export setting" data-test="export-settings"> <label>Nightly Scheduled Export Settings</label> <div ng-if="!vm.editMode" ng-bind="go.getSelectExportSetting(vm.template.exportSetting)" data-test="export-settings-{{vm.template.exportSetting}}"></div> <ul ng-if="vm.editMode"> <li ng-repeat="option in vm.options.exportSettings"> <super-input-radio name="export-setting" label="{{option.name}}" model="vm.template.exportSetting" value="{{option.value}}" edit-mode="vm.editMode" data-test="export-settings-{{option.value}}"></super-input-radio> </li> </ul> </fieldset> <div ss-validate="validator.selected()" class="header-col-mapping"> <label>Column Mapping</label> <super-popover>Please note that custom header names will apply to the export only and will not apply anywhere else.</super-popover> </div> <div class="gd-row search"> <div class="gd-35p"> <super-input-text model="vm.search" placeholder="Search"></super-input-text> </div> <div class="gd-65p column-headers" ng-if="vm.editMode"> <super-input-checkbox label="Include column headers" model="vm.template.includeColumnHeaders"></super-input-checkbox> </div> </div> <super-grid> <grid-header> <super-grid-column width="5%"></super-grid-column> <super-grid-column width="40%" no-left-separator="true" class="select-all"> <super-input-checkbox data-test="system-fields" model="vm.selectAll" edit-mode="vm.editMode" ng-if="vm.editMode && go.getSelectedText() !== \'some\'" ng-click="go.selectAll()"></super-input-checkbox> <span ss-icon="minus-square" ng-if="vm.editMode && go.getSelectedText() === \'some\'" ng-click="go.selectAll()"></span> System Fields </super-grid-column> <super-grid-column width="5%" no-left-separator="true"></super-grid-column> <super-grid-column width="40%" no-left-separator="true">Export As</super-grid-column> <super-grid-column width="10%" no-left-separator="true"></super-grid-column> </grid-header> <grid-rows dnd-list="vm.template.exportFields" dnd-allowed-types="[\'field\']" dnd-drop="go.dropField(event, index, item)"> <super-grid-row ng-repeat="field in vm.template.exportFields | filter: vm.search" ng-if="vm.editMode || field.visible" ng-class="{\'disabled\': !field.visible}"> <super-grid-cell><span ss-icon="ellipsis-v" dnd-draggable="field" dnd-type="\'field\'" dnd-moved="go.movedField($index, field)" dnd-effect-allowed="move" ng-if="!vm.tempDisableDragAndDrop && vm.editMode" ng-show="vm.search == null || vm.search.length === 0"></span></super-grid-cell> <super-grid-cell> <super-input-checkbox ng-if="vm.editMode" edit-mode="vm.editMode" model="field.visible" label="{{field.systemName}}"></super-input-checkbox> <span ng-if="!vm.editMode">{{field.systemName}}</span> </super-grid-cell> <super-grid-cell><span ss-icon="arrow-right" ng-if="!vm.editMode"></span></super-grid-cell> <super-grid-cell> <super-input-text ng-if="vm.editMode" model="field.alias" edit-mode="vm.editMode" placeholder="{{field.systemName}}" is-disabled="vm.editMode && !field.visible" ss-validate="validator.alias(field.alias, \'Export As\')" data-test="{{field.systemName}}-textbox"></super-input-text> <super-input-text ng-if="!vm.editMode" model="field.alias || field.systemName" edit-mode="vm.editMode" placeholder="{{field.systemName}}"></super-input-text> </super-grid-cell> <super-grid-cell class="move-arrows"> <super-button ng-if="vm.editMode && !$first" smp ss-icon="arrow-up" ng-click="go.moveUp(field, $index)" aria-label="move {{field.alias || field.systemName}} up"></super-button> <super-button ng-if="vm.editMode && !$last" smp ss-icon="arrow-down" ng-click="go.moveDown(field, $index)" aria-label="move {{field.alias || field.systemName}} down"></super-button> </super-grid-cell> </super-grid-row> </grid-rows> </super-grid> </form> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/credentials/credentials.html",'<route folder="/employee-record/credentials"> <segment name="credentials-content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/emergency/emergency.html",'<route folder="/employee-record/emergency"> <segment name="emergency-content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/medical/medical.html",'<route folder="/employee-record/medical"> <segment name="medical-content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/employment/employment.html",'<route folder="/employee-record/employment"> <segment name="employment-content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/personal/personal.html",'<route folder="/employee-record/personal"> <segment name="personal-content"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/personnel/personnel.html",'<route folder="/employee-record/personnel"> <segment name="personnel-content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/segment-content/content.html",'<div class="segment-employee-record-content content-block"> <super-tab-list> <super-tab-list-item label="personal" state="base.employeeRecord.personal" params="{action:\'\'}" params-ignored-for-active="[\'action\']" data-test="personal-tab"></super-tab-list-item> <super-tab-list-item label="employment" state="base.employeeRecord.employment" params="{action:\'\'}" params-ignored-for-active="[\'action\']" ng-if="vm.canViewEmploymentTab" data-test="employment-tab"></super-tab-list-item> <super-tab-list-item label="credentials" state="base.employeeRecord.credentials" params="{action:\'\'}" params-ignored-for-active="[\'action\']" ng-if="vm.canViewCredentialTab" data-test="credentials-tab"></super-tab-list-item> <super-tab-list-item label="medical documents" state="base.employeeRecord.medical" params="{action:\'\'}" params-ignored-for-active="[\'action\']" ng-if="vm.canViewMedicalFiles" data-test="medical-tab"></super-tab-list-item> <super-tab-list-item label="personnel documents" state="base.employeeRecord.personnel" params="{action:\'\'}" params-ignored-for-active="[\'action\']" ng-if="vm.canViewPersonnelTab" data-test="personnel-tab"></super-tab-list-item> <super-tab-list-item label="emergency" class="tab-emergency" state="base.employeeRecord.emergency" params="{action:\'\'}" params-ignored-for-active="[\'action\']" ng-if="vm.canViewEmergencyTab" data-test="emergency-tab"></super-tab-list-item> </super-tab-list> <div class="content-wrapper" data-test="employee-tab-content"> <ui-view></ui-view> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/segment-header/header.html",'<header class="segment-employee-record-header"> <h1 class="emp-name" ng-bind="vm.fullName" data-test="full-name"></h1> <div class="emp-actions-group"> <super-button ng-if="vm.canDeleteEmployee && !vm.canManageEmployee" label="Delete Employee" ng-click="go.delete()" data-test="delete-employee"></super-button> <a ng-if="vm.canManageEmployee && !vm.canDeleteEmployee" ng-href="/ec-useraccess/user/employee/{{routeVm.emp.id}}" data-test="manage-app-access">Manage Application Access</a> <super-button ng-if="vm.canManageEmployee && vm.canDeleteEmployee" label="Manage User" ss-icon-after="angle-down" data-test="manage-user"> <item ng-click="go.manageAccess()" data-test="manage-app-access">Manage Application Access</item> <item ng-click="go.delete()" data-test="delete-employee">Delete Employee</item> </super-button> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/segment-sidebar/sidebar.html",'<div class="segment-employee-record-sidebar"> <h4>At A Glance</h4> <hr class="divider"> <dl ss-pending="vm.loading" data-test="sidebar"> <dt>Contact</dt> <dd ng-if="vm.emp.bestContactNumber.formattedFull.length > 0 && vm.permitted.phoneNumbers.view" ss-icon-before="phone"> <super-input-text data-test="phone-number" model="vm.emp.bestContactNumber._number" edit-mode="false" mask="phone" class="sidebar-phone"></super-input-text> </dd> <dd class="email" ng-if="vm.emp.bestContactEmail.length > 0 && vm.permitted.emails"><a class="flat" href="mailto:{{vm.emp.bestContactEmail}}" ss-icon-before="envelope" data-test="email">Email {{vm.emp.bestContactEmail}}</a></dd> <dt ng-if="vm.permitted.statusHistory.view && vm.currentStatus">Status</dt> <dd ng-if="vm.permitted.statusHistory.view && vm.currentStatus" ng-bind="vm.currentStatus.name" data-test="status"></dd> <dt ng-if="vm.permitted.assignments.view">Primary Assignment</dt> <dd ng-if="vm.permitted.assignments.view" ng-bind="vm.emp.primaryAssignment.name" data-test="assignment"></dd> <dd ng-if="vm.permitted.positions.view" ng-bind="vm.emp.primaryPosition.location._name" data-test="location"></dd> <dt ng-if="vm.permitted.supervisor.view && vm.emp.currentSupervisor">Supervisor</dt> <dd ng-if="vm.permitted.supervisor.view && vm.emp.currentSupervisor" ng-bind="vm.emp.currentSupervisor._firstName + \' \' + vm.emp.currentSupervisor._lastName" data-test="supervisor"></dd> <dt ng-if="vm.permitted.jobTypes.view">Job Type</dt> <dd ng-if="vm.permitted.jobTypes.view" ng-bind="vm.emp.primaryPosition.jobType._name" data-test="job-type"></dd> <dt ng-if="vm.permitted.hireDate.view">Hire Date</dt> <dd ng-if="vm.permitted.hireDate.view" ng-bind="vm.hireDateTxt" data-test="hire-date"></dd> </dl> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/segment-filter/filter.html",'<div class="segment-index-filter"> <div class="effective-date-title"> <label class="non-super-label" for="effective-date">as of:&nbsp; <super-input-datepicker input-id="effective-date" title="Show the directory with details effective as of this date." class="effective-date-picker" name="effective-date" model="routeVm.effectiveDate" data-test="as-of"></super-input-datepicker> </label> </div> <div class="gd-row actions-group"> <div class="gd-row"> <div class="gd-100p"> <button ss-icon-after="times" class="clear-all-btn clear-filters" ng-click="go.clear()" ng-if="vm.showClear" data-test="clear-filters">Clear All Filters</button> <div class="add-employee-menu-group" ss-permitted="employees.create" ng-show="vm.canCreateEmployee"> <super-button pri class="add-employee-btn" ng-click="vm.formOpened=true;" ss-menu="add-employee-menu" label="Add Employee" data-test="add-employee"></super-button> <div class="add-employee-menu" role="dialog" aria-label="Add Employee"> <form ng-submit="go.add()" ss-validate-form ng-if="vm.formOpened"> <div class="form-content"> <super-input-text input-id="add-first-name" model="vm.emp._firstName" label="First Name" name="first" required="true" ss-validate="validator.required(vm.emp._firstName, \'First Name\')" data-test="add-first-name"></super-input-text> <super-input-text model="vm.emp._lastName" label="Last Name" name="last" required="true" ss-validate="validator.required(vm.emp._lastName, \'Last Name\')" data-test="add-last-name"></super-input-text> <div> <ul class="gd-row record-list"> <li class="gd-50p"> <super-input-text input-id="add-work-email" model="vm.emp._workEmail" label="Work Email" name="workEmail" ss-validate="validator.email(vm.emp._workEmail, \'Work email\')" data-test="add-work-email"></super-input-text> </li> <li class="gd-50p"> <super-input-text input-id="add-personal-email" model="vm.emp._personalEmail" label="Personal Email" name="personalEmail" ss-validate="validator.email(vm.emp._personalEmail, \'Personal email\')" data-test="add-personal-email"></super-input-text> </li> </ul> </div> <div class="validate-or"> <ul class="gd-row record-list"> <li class="gd-45p"> <super-input-text input-id="add-ssn" model="vm.emp._sSN" label="Social Security #" name="ssn" ss-validate="validator.ssn(vm.emp._sSN)" data-test="add-ssn"></super-input-text> </li> <li class="gd-45p"> <super-input-text input-id="add-external-id" model="vm.emp._externalId" label="External ID" ss-validate="go.validateExternalId()" name="externalId" data-test="add-external-id"></super-input-text> </li> </ul> </div> <div> <div class="form-error" ng-if="vm.errors" ng-bind="vm.errors"></div> <div class="form-footer"> <super-button label="Cancel" ng-click="go.close()" class="close-button" ng-disabled="vm.saving" data-test="add-cancel"></super-button> <super-button pri class="save-button" ng-class="{\'saving\': vm.saving}" ng-disabled="vm.saving || !(vm.emp._firstName.length && vm.emp._lastName.length)" ss-icon="spinner" type="submit" label="Add Employee" data-test="add-save"></super-button> </div> </div> </div> </form> </div> </div> </div> </div> </div> <div class="gd-row filters"> <div class="gd-15p select-filter-jobtype" ng-if="vm.jobType.length"> <super-multi-filter-list label="Job Type" aria-controls="employee-count" label-weight="heavy" display="tags" selected="routeVm.jobType" is-disabled="vm.disableJobType" data-test="filter-job-type"> <super-multi-filter-list-item ng-repeat="jobType in vm.jobType | orderBy:\'_name\'" option="jobType"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-15p select-filter-department" ng-if="vm.department.length"> <super-multi-filter-list label="Department" aria-controls="employee-count" label-weight="heavy" display="tags" selected="routeVm.department" data-test="filter-department"> <super-multi-filter-list-item ng-repeat="department in vm.department | orderBy:\'_name\'" option="department"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-15p select-filter-location" ng-if="vm.location.length"> <super-multi-filter-list label="Location" aria-controls="employee-count" label-weight="heavy" display="tags" selected="routeVm.location" data-test="filter-location"> <super-multi-filter-list-item ng-repeat="location in vm.location | orderBy:\'_name\'" option="location"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-15p select-filter-employment-group" ng-if="vm.showEmploymentGroups"> <super-multi-filter-list label="Employment Group" aria-controls="employee-count" label-weight="heavy" display="tags" selected="routeVm.employmentGroup" is-disabled="vm.disableEmploymentGroup" data-test="filter-employment-group"> <super-multi-filter-list-item ng-repeat="group in vm.employmentGroups | orderBy:\'name\'" option="group"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-25p select-filter-hiredate"> <div class="gd-row hire-date"> <div class="gd-45p"> <super-input-datepicker input-id="filter-hire-date-from" aria-label="From Hire date" label="Hire Date" aria-controls="employee-count" model="routeVm.fromHireDate" label-weight="heavy" data-test="filter-hire-date-from"></super-input-datepicker> </div> <div class="gd-5p fixed"> <div class="non-label-space"></div> <div class="hire-date-separator">&ndash;</div> </div> <div class="gd-45p"> <div class="non-label-space"></div> <super-input-datepicker input-id="filter-hire-date-to" aria-controls="employee-count" aria-label="To Hire date" model="routeVm.toHireDate" data-test="filter-hire-date-to"></super-input-datepicker> </div> </div> </div> <div class="gd-15p select-filter-status"> <super-multi-filter-list label="Status" aria-controls="employee-count" label-weight="heavy" display="tags" selected="routeVm.status" data-test="filter-status"> <super-multi-filter-list-item ng-repeat="status in vm.status | orderBy:\'_name\'" option="status"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row results-header"> <div class="gd-30p find-employee"> <super-input-text aria-controls="employee-count" class="find-employee" ss-icon="search" model="routeVm.search" is-disabled="vm.disableSearch" placeholder="Find Employee by Name" data-test="filter-employee-name"></super-input-text> </div> <div role="region" input-id="employee-count" aria-live="assertive" class="gd-45p employee-count"> <span aria-hidden="true" ng-bind="routeVm.totalEmployees" data-test="employee-count"></span> <ng-pluralize aria-hidden="true" count="routeVm.totalEmployees" when="{\'1\': \'Employee\', \'other\': \'Employees\'}"></ng-pluralize> <div style="position: absolute;top:-100vh;">{{ vm.totalEmployeesAriaLabel }}</div> </div> <div class="gd-25p content-right"> <super-select-list type="filter" label="Sort by" aria-label="Change directory sort" model="routeVm.sortBy" data-test="sort"> <super-select-list-item ng-repeat="filter in vm.sortByOptions" value="filter.value" label="filter.name" aria-label="{{filter.ariaLabel}}"></super-select-list-item> </super-select-list> <super-button class="export" ng-click="go.export()" ng-disabled="vm.loading" label="Export" aria-label="Export directory with current filter" ss-permitted="employees.export" data-test="export"></super-button> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/segment-results/results.html",'<div class="segment-index-results"> <ul role="grid" class="employees" data-test="employees"> <li role="row" data-test-id="{{ employee.id }}" data-test="employee" class="gd-row employee" ng-repeat="employee in vm.employees track by employee.id"> <div class="gd-30p" role="gridcell"> <p ng-if="employee.$permitted.props.firstName.view || employee.$permitted.props.lastName.view"> <span ng-if="!go.showNameLinks(employee)" ng-bind="go.getEmployeeName(employee)" data-test="name"></span> <a class="employee-name" ng-if="go.showNameLinks(employee)" ng-href="{{go.getHref(employee)}}" ng-bind="go.getEmployeeName(employee)" data-test="name"></a> <span class="employee-status {{employee.currentStatus.name}}" data-test="status" ng-if="employee.currentStatus._statusId != enumEmployeeStatus.active" ng-bind="employee.currentStatus.name" aria-label="employee status"> </span> </p> <p ng-if="employee.$permitted.props.positions.view" data-test="assignment" class="employee-assg" ng-class="{\'no-data\':!employee.position._name}" ng-bind="employee.position.name || \'no primary assignment\'" aria-label="position"> </p> </div> <div class="gd-30p location-department" role="cell"> <p data-test="location" ng-bind="employee.position.location._name" ng-if="employee.position.location" aria-label="location"></p> <p data-test="department" ng-bind="employee.position.department._name" ng-if="employee.position.department" aria-label="department"></p> </div> <div class="gd-25p phone-email" role="cell"> <p ng-if="employee.$permitted.props.phoneNumbers.view" ng-class="{\'no-data\':!employee.bestContactNumber.formattedFull}" ng-bind="employee.bestContactNumber.formattedFull || \'no phone number\'" data-test="phone-number" aria-label="Phone Number"> </p> <p ng-if="employee.$permitted.props.emails.view" class="employee-email" ng-class="{\'no-data\':!employee.bestContactEmail}" ng-bind="employee.bestContactEmail || \'no email address\'" data-test="email" aria-label="e-mail address"> </p> </div> <div class="gd-15p" role="cell"> <div ng-if="employee.$permitted.props.hireDate.view" data-test="hire-date"> <p data-test-hire-date="{{employee.hireDateTxt}}" ng-if="employee.hireDateTxt">Hired <span ng-bind="employee.hireDateTxt"></span></p> <p class="no-data" ng-if="!employee.hireDateTxt">no hire date</p> </div> </div> </li> <li ng-if="vm.showInfScroll" infinite-scroll="refreshResults()" infinite-scroll-distance="1" ss-pending="vm.loading" ss-pending-status="\'loading employees… this could take a few moments\'"></li> <li ng-if="vm.showEmptyMessage && !vm.loading" class="no-results" data-test="no-employees"> <p>No employees found</p> </li> </ul> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-profile/segment-header/header.html",'<div class="segment-my-profile-header"> <h1 class="emp-name" ng-bind="vm.fullName"></h1> <div class="container" ss-pending="true"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/assignments/assignments.html",'<route folder="/reports/assignments"> <segment name="content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/demographic/demographic.html",'<route folder="/reports/demographic"> <segment name="content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/credentials/credentials.html",'<route folder="/reports/credentials"> <h1>Credentials Report</h1> <segment name="content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/segment-content/content.html",'<div class="segment-reports-content"> <ui-view></ui-view> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/emergency/segment-emergency-content/emergency-content.html",'<div class="segment-employee-record-emergency-emergency-content" ss-pending="vm.loading"> <super-emergency-contact employee-id="vm.employeeId" on-after-save="go.onAfterSave()"></super-emergency-contact> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/credentials/segment-credentials-content/credentials-content.html",'<div class="segment-employee-record-credentials-credentials-content"> <super-credentials-cntr employee-id="vm.employeeId"></super-credentials-cntr> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/medical/segment-medical-content/medical-content.html",'<div class="segment-employee-record-medical-medical-content"> <div class="grid-container" ng-if="routeVm.featureFlags.fc_new_employee_documents"> <div class="emp-doc-nav"> <cmp-employee-document-nav employee-permissions="employeeVm.emp.$permitted"> </cmp-employee-document-nav> </div> <div class="emp-doc-list"> <cmp-employee-documents-list employee-permissions="employeeVm.emp.$permitted" category-id="1"></cmp-employee-documents-list> </div> </div> <super-medical-documents employee-id="vm.employeeId" ng-if="!routeVm.featureFlags.fc_new_employee_documents"></super-medical-documents> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/employment/segment-employment-content/employment-content.html",'<div class="segment-employee-record-employment-employment-content"> <super-employment-info employee-id="vm.employeeId" on-after-save="go.onAfterSave()"></super-employment-info> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/personal/segment-personal-content/personal-content.html",'<div class="segment-employee-record-personal-personal-content"> <super-personal-info employee-id="vm.employeeId" on-after-save="go.onAfterSave()"></super-personal-info> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/employee-record/personnel/segment-personnel-content/personnel-content.html",'<div class="segment-employee-record-personnel-personnel-content"> <div class="grid-container" ng-if="routeVm.featureFlags.fc_new_employee_documents"> <div class="emp-doc-nav"> <cmp-employee-document-nav employee-permissions="employeeVm.emp.$permitted"> </cmp-employee-document-nav> </div> <div class="emp-doc-list"> <cmp-employee-documents-list employee-permissions="employeeVm.emp.$permitted" category-id="0"></cmp-employee-documents-list> </div> </div> <super-personnel-documents employee-id="vm.employeeId" ng-if="!routeVm.featureFlags.fc_new_employee_documents"></super-personnel-documents> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/assignments/report/report.html",'<route folder="/reports/assignments/report"> <segment name="content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/assignments/segment-content/content.html",'<div class="segment-reports-assignments-content"> <h1>Assignments Report</h1> <super-tab-list ss-permitted="exportTemplates.view"> <super-tab-list-item label="Report Data" url="/ec-employee/reports/assignments/report?filter[asOfTimeUtc]=today&filter[status]=1" data-qa="report"></super-tab-list-item> <super-tab-list-item ng-if="vm.templateId != null" id="ui-tour-step1" label="Export Template Settings" state="base.reports.assignments.settings" params="{templateId: vm.templateId}" data-qa="settings"></super-tab-list-item> </super-tab-list> <ui-view></ui-view> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/assignments/settings/settings.html",'<route folder="/reports/assignments/settings"> <segment name="content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/demographic/segment-content/content.html",'<div class="segment-reports-demographic-content"> <h1>Employee Data Report</h1> <super-tab-list ss-permitted="exportTemplates.view"> <super-tab-list-item label="Report Data" url="/ec-employee/reports/demographic/report?filter[asOfTimeUtc]=today&filter[status]=1" data-qa="report"></super-tab-list-item> <super-tab-list-item ng-if="vm.templateId != null" id="ui-tour-step1" label="Export Template Settings" state="base.reports.demographic.settings" params="{templateId: vm.templateId}" data-qa="settings"></super-tab-list-item> </super-tab-list> <ui-view></ui-view> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/demographic/report/report.html",'<route folder="/reports/demographic/report"> <segment name="content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/demographic/settings/settings.html",'<route folder="/reports/demographic/settings"> <segment name="content"></segment> </route> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/reports/credentials/segment-content/content.html",'<div class="segment-reports-credentials-content" ng-class="{\'group-by-name\': vm.useGroupByEmployee}"> <cmp-report-filter-bar filters="vm.filters" org="routeVm.org" config="vm.filterConfig"></cmp-report-filter-bar> <super-grid ss-pending="vm.loading" ng-if="vm.useGroupByEmployee"> <grid-header> <super-grid-column width="30%" no-left-separator="true">Name, Job Type, &amp; Educator ID</super-grid-column> <super-grid-column width="20%">Certification / License</super-grid-column> <super-grid-column width="20%">Subject Area / Endorsement</super-grid-column> <super-grid-column>Issued</super-grid-column> <super-grid-column>Expiration</super-grid-column> <super-grid-column>Admin-Verified</super-grid-column> </grid-header> <grid-rows ng-repeat="(emp, creds) in vm.empCredentials"> <super-grid-row ng-repeat="cred in creds"> <super-grid-cell ng-if="$first"> <div ng-if="vm.isGlobalDirectory" ng-click="go.toProfile(employee._employeeId)" class="global-directory"><span class="employee-name">{{cred._employee.lastName}}, {{cred._employee.firstName}}</span></div> <div ng-if="!vm.isGlobalDirectory"><a class="employee-name" ng-href="/ec-employee/record/{{employee._employeeId}}/credentials">{{cred._employee.lastName}}, {{cred._employee.firstName}}</a></div> <div ng-bind="cred._employee.positionNameTxt"></div> </super-grid-cell> <super-grid-cell ng-if="!$first">&nbsp;</super-grid-cell> <super-grid-cell ng-bind="cred._credential.name"></super-grid-cell> <super-grid-cell ng-bind="cred.subjects"></super-grid-cell> <super-grid-cell ng-if="go.hasInProgressDates(cred)">In Progress</super-grid-cell> <super-grid-cell ng-if="go.hasActiveDates(cred)"> <div>{{cred.issuedTxt | date:\'MM/dd/yyyy\'}}</div> <div ng-if="go.isRenewed(cred)">Renewal</div> </super-grid-cell> <super-grid-cell ng-if="cred._isGrantedForLife">Does not expire</super-grid-cell> <super-grid-cell ng-if="!cred._isGrantedForLife" ng-bind="cred.expirationTxt | date:\'MM/dd/yyyy\'"></super-grid-cell> <super-grid-cell ng-if="cred._verifier == null">Not Verified</super-grid-cell> <super-grid-cell ng-if="cred._verifier != null"> <div ng-bind="cred._verifier.verifiedDay | date:\'MM/dd/yyyy\'"></div> <div ng-bind="cred._verifier.verifiedBy"></div> </super-grid-cell> </super-grid-row> </grid-rows> <grid-rows ng-if="vm.pages == 0 && !vm.loading"> <super-grid-row> <super-grid-cell>No employee credentials were found with the filters you selected.</super-grid-cell> </super-grid-row> </grid-rows> </super-grid> <super-grid ss-pending="vm.loading" ng-if="!vm.useGroupByEmployee"> <grid-header> <super-grid-column width="30%">Name, Job Type, &amp; Educator ID</super-grid-column> <super-grid-column width="20%">Certification / License</super-grid-column> <super-grid-column width="20%">Subject Area / Endorsement</super-grid-column> <super-grid-column>Issued</super-grid-column> <super-grid-column>Expiration</super-grid-column> <super-grid-column>Admin-Verified</super-grid-column> </grid-header> <grid-rows> <super-grid-row ng-repeat="cred in vm.empCredentials"> <super-grid-cell> <div ng-if="vm.isGlobalDirectory" ng-click="go.toProfile(cred._employee.id)" class="global-directory"><span class="employee-name">{{cred._employee.lastName}}, {{cred._employee.firstName}}</span></div> <div ng-if="!vm.isGlobalDirectory"><a class="employee-name" ng-href="/ec-employee/record/{{cred._employee.id}}/credentials">{{cred._employee.lastName}}, {{cred._employee.firstName}}</a></div> <div ng-bind="cred._employee.positionNameTxt"></div> </super-grid-cell> <super-grid-cell ng-bind="cred._credential.name"></super-grid-cell> <super-grid-cell ng-bind="cred.subjects"></super-grid-cell> <super-grid-cell ng-if="go.hasInProgressDates(cred)">In Progress</super-grid-cell> <super-grid-cell ng-if="go.hasActiveDates(cred)"> <div>{{cred.issuedTxt | date:\'MM/dd/yyyy\'}}</div> <div ng-if="go.isRenewed(cred)">Renewal</div> </super-grid-cell> <super-grid-cell ng-if="cred._isGrantedForLife">Does not expire</super-grid-cell> <super-grid-cell ng-if="!cred._isGrantedForLife" ng-bind="cred.expirationTxt | date:\'MM/dd/yyyy\'"></super-grid-cell> <super-grid-cell ng-if="cred._verifier == null">Not Verified</super-grid-cell> <super-grid-cell ng-if="cred._verifier != null"> <div ng-bind="cred._verifier.verifiedDay | date:\'MM/dd/yyyy\'"></div> <div ng-bind="cred._verifier.name"></div> </super-grid-cell> </super-grid-row> </grid-rows> <grid-rows ng-if="vm.pages == 0 && !vm.loading"> <super-grid-row> <super-grid-cell>No employee credentials were found with the filters you selected.</super-grid-cell> </super-grid-row> </grid-rows> </super-grid> <fluid-paginator ng-if="vm.pages > 0" total-pages="vm.pages" current-page="vm.currentPage" on:current-page-change="go.filterResults($event)"></fluid-paginator> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/assignments/report/segment-content/content.html",'<div class="segment-reports-assignments-report-content" ng-class="{\'group-by-name\': vm.useGroupByEmployee}"> <cmp-report-filter-bar filters="vm.filters" org="routeVm.org" config="vm.filterConfig"></cmp-report-filter-bar> <super-grid ss-pending="vm.loading" ng-if="vm.useGroupByEmployee"> <grid-header> <super-grid-column width="20%">Name &amp; External ID</super-grid-column> <super-grid-column width="25%">Assignment</super-grid-column> <super-grid-column>Pay Schedule</super-grid-column> <super-grid-column>Assignment Details</super-grid-column> </grid-header> <grid-rows ng-repeat="(emp, assignments) in vm.empAssignments"> <super-grid-row ng-repeat="assignment in assignments track by $index"> <super-grid-cell ng-if="$first"> <div ng-if="vm.isGlobalDirectory" ng-click="go.toProfile(assignment._employeeId)" class="global-directory"><span data-test="employee-name-{{assignment._assignmentId}}" class="employee-name">{{assignment._employeeLastName}}, {{assignment._employeeFirstName}}</span></div> <div ng-if="!vm.isGlobalDirectory"><a class="employee-name" data-test="employee-name-{{assignment._assignmentId}}" ng-href="/ec-employee/record/{{assignment._employeeId}}/employment">{{assignment._employeeLastName}}, {{assignment._employeeFirstName}}</a></div> <div ng-bind="assignment._employeeExternalId" data-test="employee-external-id-{{assignment._assignmentId}}"></div> </super-grid-cell> <super-grid-cell ng-if="!$first">&nbsp;</super-grid-cell> <super-grid-cell> <div ng-if="assignment._assignmentStartDate"> <div ng-if="assignment._assignmentEndDate && assignment._assignmentEndDate !== \'12-31-9999\'" class="date-range"><span data-test="assignment-date-{{assignment._assignmentId}}">{{assignment._assignmentStartDate | date:\'MM/dd/yyyy\'}} - {{assignment._assignmentEndDate | date:\'MM/dd/yyyy\'}}</span></div> <div ng-if="assignment._assignmentEndDate === \'\'" class="date-range"><span data-test="assignment-date-{{assignment._assignmentId}}">{{assignment._assignmentStartDate | date:\'MM/dd/yyyy\'}} - Current</span></div> </div> <div class="position"><span data-test="position-name" ng-bind="assignment._positionName"></span><span data-test="position-external-id-{{assignment._assignmentId}}" ng-if="assignment._positionExternalId">, {{assignment._positionExternalId}}</span></div> <div ng-if="assignment._assignmentIsPrimary === true" class="assignment-type">Primary</div> <div ng-if="assignment._assignmentIsPrimary !== true" class="assignment-type">Secondary</div> <div ng-bind="assignment._employmentGroup"></div> <div><span ng-bind="assignment._departmentName" data-test="department-name-{{assignment._assignmentId}}"></span><span ng-if="assignment._departmentExternalId" data-test="assignment-external-id-{{assignment._assignmentId}}">, {{assignment._departmentExternalId}}</span></div> <div><span ng-bind="assignment._jobTypeName" data-test="job-type-name-{{assignment._assignmentId}}"></span><span ng-if="assignment._jobTypeExternalId" data-test="job-type-external-id-{{assignment._assignmentId}}">, {{assignment._jobTypeExternalId}}</span></div> <div><span ng-bind="assignment._locationName" data-test="location-name-{{assignment._assignmentId}}"></span><span ng-if="assignment._locationName" data-test="location-external-id-{{assignment._assignmentId}}">, {{assignment._locationExternalId}}</span></div> <div ng-if="assignment._assignmentLastUpdated" class="assignment-last-updated"><span>Last Updated:</span> {{assignment._assignmentLastUpdated | date:\'M/d/yy h:mm a\'}}</div> <div ng-if="assignment._assignmentId" class="guid"><span data-test="assignment-id-{{assignment._assignmentId}}">Id: {{assignment._assignmentId}}</span></div> <div ng-if="assignment._assignmentExternalId" class="guid" data-test="assignment-externalId-{{assignment._assignmentId}}"><span>Ext. Id: {{assignment._assignmentExternalId}}</span></div> </super-grid-cell> <super-grid-cell> <div ng-if="assignment._payScheduleName" data-test="assignment-pay-schedule-{{assignment._assignmentId}}">Name: {{assignment._payScheduleName}}</div> <div ng-if="assignment._payScheduleExternalId" data-test="assignment-pay-schedule-{{assignment._assignmentId}}">Ext. Id: {{assignment._payScheduleExternalId}}</div> <div ng-if="assignment._payRate" data-test="assignment-pay-rate-{{assignment._assignmentId}}"><span>Pay Rate:</span> ${{assignment._payRate}}</div> <div ng-if="assignment._payLane" data-test="assignment-pay-lane-{{assignment._assignmentId}}"><span>Pay Lane:</span> {{assignment._payLane}}</div> <div ng-if="assignment._payStep" data-test="assignment-pay-step-{{assignment._assignmentId}}"><span>Pay Step:</span> {{assignment._payStep}}</div> <div ng-if="assignment._payRateFrequency" data-test="assignment-pay-frequency-{{assignment._assignmentId}}"><span>Pay Rate Freq:</span> {{assignment._payRateFrequency}}</div> </super-grid-cell> <super-grid-cell> <div ng-if="assignment._assignmentDetailStartDate"> <div ng-if="assignment._assignmentDetailEndDate === \'\'" data-test="assignment-date-{{assignment._assignmentId}}" class="date-range">{{assignment._assignmentDetailStartDate | date:\'MM/dd/yyyy\'}} - Current</div> <div ng-if="assignment._assignmentDetailEndDate && assignment._assignmentDetailEndDate !== \'12-31-9999\'" data-test="assignment-date-{{assignment._assignmentId}}" class="date-range">{{assignment._assignmentDetailStartDate | date:\'MM/dd/yyyy\'}} - {{assignment._assignmentDetailEndDate | date:\'MM/dd/yyyy\'}}</div> </div> <div ng-if="assignment._workDaysPerYear" data-test="work-days-per-year-{{assignment._assignmentId}}"><span>Work Days/Year:</span> {{assignment._workDaysPerYear}}</div> <div ng-if="assignment._payPeriodsPerYear" data-test="pay-periods-per-year-{{assignment._assignmentId}}"><span>Pay Periods/Year:</span> {{assignment._payPeriodsPerYear}}</div> <div ng-if="assignment._hoursPerDay" data-test="hours-per-day-{{assignment._assignmentId}}"><span>Hours Per Day:</span> {{assignment._hoursPerDay}}</div> <div ng-if="assignment._fTE" data-test="fte-{{assignment._assignmentId}}"><span>FTE:</span> {{assignment._fTE}}</div> <div ng-if="assignment._vacationDaysPerSchoolYear" data-test="vacation-days-per-year-{{assignment._assignmentId}}"><span>Vacation:</span> {{assignment._vacationDaysPerSchoolYear}}</div> <div ng-if="assignment._sickDaysPerSchoolYear" data-test="sick-days-per-year-{{assignment._assignmentId}}"><span>Sick:</span> {{assignment._sickDaysPerSchoolYear}}</div> <div ng-if="assignment._personalDaysPerSchoolYear" data-test="personal-days-per-year-{{assignment._assignmentId}}"><span>Personal:</span> {{assignment._personalDaysPerSchoolYear}}</div> <div ng-if="assignment._assignmentDetailId" class="guid" data-test="assignment-details-id-{{assignment._assignmentId}}"><span>Id:</span> {{assignment._assignmentDetailId}}</div> </super-grid-cell> </super-grid-row> </grid-rows> <grid-rows ng-if="vm.pages == 0 && !vm.loading"> <super-grid-row> <super-grid-cell>No employee assignments were found with the filters you selected.</super-grid-cell> </super-grid-row> </grid-rows> </super-grid> <super-grid ss-pending="vm.loading" ng-if="!vm.useGroupByEmployee"> <grid-header> <super-grid-column width="20%">Name &amp; External ID</super-grid-column> <super-grid-column width="25%">Assignment</super-grid-column> <super-grid-column>Pay Schedule</super-grid-column> <super-grid-column>Assignment Details</super-grid-column> </grid-header> <grid-rows> <super-grid-row ng-repeat="assignment in vm.empAssignments track by $index"> <super-grid-cell> <div ng-if="vm.isGlobalDirectory" ng-click="go.toProfile(assignment._employeeId)" class="global-directory"><span data-test="employee-name-{{assignment._assignmentId}}" class="employee-name">{{assignment._employeeLastName}}, {{assignment._employeeFirstName}}</span></div> <div ng-if="!vm.isGlobalDirectory"><a class="employee-name" ng-href="/ec-employee/record/{{assignment._employeeId}}/employment" data-test="employee-name-{{assignment._assignmentId}}">{{assignment._employeeLastName}}, {{assignment._employeeFirstName}}</a></div> <div ng-bind="assignment._employeeExternalId" data-test="employee-external-id-{{assignment._assignmentId}}"></div> </super-grid-cell> <super-grid-cell> <div ng-if="assignment._assignmentEndDate !== \'12-31-9999\'" class="date-range"><span data-test="assignment-date-{{assignment._assignmentId}}">{{assignment._assignmentStartDate | date:\'MM/dd/yyyy\'}} - {{assignment._assignmentEndDate | date:\'MM/dd/yyyy\'}}</span></div> <div ng-if="assignment._assignmentEndDate === \'\'" class="date-range"><span data-test="assignment-date-{{assignment._assignmentId}}">{{assignment._assignmentStartDate | date:\'MM/dd/yyyy\'}} - Current</span></div> <div class="position"><span ng-bind="assignment._positionName" data-test="position-name-{{assignment._assignmentId}}"></span><span ng-if="assignment._positionExternalId" data-test="position-external-id">, {{assignment._positionExternalId}}</span></div> <div ng-if="assignment._assignmentIsPrimary === true" class="assignment-type">Primary</div> <div ng-if="assignment._assignmentIsPrimary !== true" class="assignment-type">Secondary</div> <div ng-bind="assignment._employmentGroup"></div> <div><span ng-bind="assignment._departmentName" data-test="department-name-{{assignment._assignmentId}}"></span><span ng-if="assignment._departmentExternalId" data-test="assignment-external-id-{{assignment._assignmentId}}">, {{assignment._departmentExternalId}}</span></div> <div><span ng-bind="assignment._jobTypeName" data-test="job-type-name-{{assignment._assignmentId}}"></span><span ng-if="assignment._jobTypeExternalId" data-test="job-type-external-id-{{assignment._assignmentId}}">, {{assignment._jobTypeExternalId}}</span></div> <div><span ng-bind="assignment._locationName" data-test="location-name-{{assignment._assignmentId}}"></span><span ng-if="assignment._locationName" data-test="location-external-id-{{assignment._assignmentId}}">, {{assignment._locationExternalId}}</span></div> <div ng-if="assignment._assignmentLastUpdated" class="assignment-last-updated"><span>Last Updated:</span> {{assignment._assignmentLastUpdated | date:\'M/d/yy h:mm a\'}}</div> <div ng-if="assignment._assignmentId" class="guid" data-test="assignment-id-{{assignment._assignmentId}}"><span>Id: {{assignment._assignmentId}}</span></div> <div ng-if="assignment._assignmentExternalId" class="guid" data-test="assignment-externalId-{{assignment._assignmentId}}"><span>Ext. Id: {{assignment._assignmentExternalId}}</span></div> </super-grid-cell> <super-grid-cell> <div ng-if="assignment._payScheduleName" data-test="assignment-pay-schedule-{{assignment._assignmentId}}">{{assignment._payScheduleName}}</div> <div ng-if="assignment._payRate" data-test="assignment-pay-rate-{{assignment._assignmentId}}"><span>Pay Rate:</span> ${{assignment._payRate}}</div> <div ng-if="assignment._payLane" data-test="assignment-pay-lane-{{assignment._assignmentId}}"><span>Pay Lane:</span> {{assignment._payLane}}</div> <div ng-if="assignment._payStep" data-test="assignment-pay-step-{{assignment._assignmentId}}"><span>Pay Step:</span> {{assignment._payStep}}</div> <div ng-if="assignment._payRateFrequency" data-test="assignment-pay-frequency-{{assignment._assignmentId}}"><span>Pay Rate Freq:</span> {{assignment._payRateFrequency}}</div> </super-grid-cell> <super-grid-cell> <div ng-if="assignment._assignmentDetailStartDate && assignment._assignmentDetailEndDate === \'\'" class="date-range" data-test="assignment-date-{{assignment._assignmentId}}">{{assignment._assignmentDetailStartDate | date:\'MM/dd/yyyy\'}} - Current</div> <div ng-if="assignment._assignmentDetailStartDate && assignment._assignmentDetailEndDate !== \'12-31-9999\'" class="date-range" data-test="assignment-date-{{assignment._assignmentId}}">{{assignment._assignmentDetailStartDate | date:\'MM/dd/yyyy\'}} - {{assignment._assignmentDetailEndDate | date:\'MM/dd/yyyy\'}}</div> <div ng-if="assignment._workDaysPerYear" data-test="work-days-per-year-{{assignment._assignmentId}}"><span>Work Days/Year:</span> {{assignment._workDaysPerYear}}</div> <div ng-if="assignment._payPeriodsPerYear" data-test="pay-periods-per-year-{{assignment._assignmentId}}"><span>Pay Periods/Year:</span> {{assignment._payPeriodsPerYear}}</div> <div ng-if="assignment._hoursPerDay" data-test="hours-per-day-{{assignment._assignmentId}}"><span>Hours Per Day:</span> {{assignment._hoursPerDay}}</div> <div ng-if="assignment._fTE" data-test="fte"><span>FTE:</span> {{assignment._fTE}}</div> <div ng-if="assignment._vacationDaysPerSchoolYear" data-test="vacation-days-per-year-{{assignment._assignmentId}}"><span>Vacation:</span> {{assignment._vacationDaysPerSchoolYear}}</div> <div ng-if="assignment._sickDaysPerSchoolYear" data-test="sick-days-per-year-{{assignment._assignmentId}}"><span>Sick:</span> {{assignment._sickDaysPerSchoolYear}}</div> <div ng-if="assignment._personalDaysPerSchoolYear" data-test="personal-days-per-year-{{assignment._assignmentId}}"><span>Personal:</span> {{assignment._personalDaysPerSchoolYear}}</div> <div ng-if="assignment._assignmentDetailId" class="guid" data-test="assignment-details-id-{{assignment._assignmentId}}"><span>Id:</span> {{assignment._assignmentDetailId}}</div> </super-grid-cell> </super-grid-row> </grid-rows> <grid-rows ng-if="vm.pages == 0 && !vm.loading"> <super-grid-row> <super-grid-cell class="no-results">No employee assignments were found with the filters you selected.</super-grid-cell> </super-grid-row> </grid-rows> </super-grid> <fluid-paginator ng-if="vm.pages > 0" total-pages="vm.pages" current-page="vm.currentPage" on:current-page-change="go.filterResults($event)"></fluid-paginator> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/assignments/settings/segment-content/content.html",'<div class="segment-reports-assignments-settings-content"> <cmp-report-export-settings type="vm.type" template-id="vm.templateId" report-route="base.reports.assignments.report"></cmp-report-export-settings> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/demographic/report/segment-content/content.html",'<div class="segment-reports-demographic-report-content"> <cmp-report-filter-bar filters="vm.filters" org="routeVm.org" config="vm.filterConfig"></cmp-report-filter-bar> <super-grid ss-pending="vm.loading"> <grid-header> <super-grid-column width="20%">Name, External ID &amp; Status</super-grid-column> <super-grid-column width="20%">Demographics - Indicative Data</super-grid-column> <super-grid-column>Employment Data</super-grid-column> <super-grid-column>Supervisor Name &amp; Status</super-grid-column> <super-grid-column width="25%">Address &amp; Contact Data</super-grid-column> <super-grid-column>Emergency Contact</super-grid-column> </grid-header> <grid-rows ng-if="!vm.loading"> <super-grid-row ng-repeat="employee in vm.employees track by $index"> <super-grid-cell> <div ng-if="vm.isGlobalDirectory" ng-click="go.toProfile(employee._employeeId)" class="global-directory"><span class="employee-name">{{employee._lastName}}, {{employee._firstName}} {{employee._middleName}} <span ng-if="employee._suffix">{{employee._suffix}},</span> {{employee._title}}</span></div> <div ng-if="!vm.isGlobalDirectory"><a class="employee-name" ng-href="/ec-employee/record/{{employee._employeeId}}/personal">{{employee._lastName}}, {{employee._firstName}} {{employee._middleName}} <span ng-if="employee._suffix">{{employee._suffix}},</span> {{employee._title}}</a></div> <div ng-bind="employee._externalId"></div> <div ng-if="employee._aliasLastName">Other: {{employee._aliasLastName}}, {{employee._aliasFirstName}} <span ng-if="employee._aliasMiddleName">{{employee._aliasMiddleName}}</span></div> <div ng-if="employee._stateEducatorId">State Educator ID: {{employee._stateEducatorId}}</div> <div ng-if="employee._status !== \'\'" class="status">Status: {{employee._status}}</div> <div ng-if="employee._statusFrom && employee._statusTo" class="date-range" ng-bind="go.getDateString(employee._statusFrom, employee._statusTo)"></div> <div ng-if="employee.securityGroup" class="security-group">Security Group: {{employee.securityGroup}}</div> <div ng-if="employee._lastUpdatedUtc" class="last-updated"><span>Last Updated:</span> {{go.formatDate(employee._lastUpdatedUtc)}}</div> </super-grid-cell> <super-grid-cell class="demographics"> <div ng-if="employee._sSN">SSN: <super-input-ssn model="employee._sSN" employee-id="{{employee.id}}" has-value="employee._hasSsn" edit-mode="false"></super-input-ssn></div> <div ng-if="employee._gender !== \'\'">Gender: {{employee._gender}}</div> <div ng-if="employee._birthDateUtc">DOB: {{employee._birthDateUtc | date:\'MM/dd/yyyy\'}}</div> <div ng-if="employee._ethnicity !== \'\'">Ethnicity: {{employee._ethnicity}}</div> <div ng-if="employee._race !== \'\'">Race: {{employee._race}}</div> <div ng-if="employee._maritalStatus !== \'\'">Marital Status: {{employee._maritalStatus}}</div> </super-grid-cell> <super-grid-cell class="employment-data"> <div ng-if="employee._hireDate">Hired: {{employee._hireDate | date:\'MM/dd/yyyy\'}}</div> <div ng-if="employee._seniorityDate">Seniority: {{employee._seniorityDate | date:\'MM/dd/yyyy\'}}</div> <div ng-if="employee._tenureDate">Tenure: {{employee._tenureDate | date:\'MM/dd/yyyy\'}}</div> <div ng-if="employee._retirementSystemName">Retirement: {{employee._retirementSystemName}}</div> </super-grid-cell> <super-grid-cell> <div ng-if="employee._supervisorLastName" class="supervisor-name">{{employee._supervisorLastName}}, {{employee._supervisorFirstName}}</div> <div ng-if="employee._supervisorExternalId">{{employee._supervisorExternalId}}</div> <div ng-if="employee._supervisorStartDate && employee._supervisorEndDate" class="date-range" ng-bind="go.getDateString(employee._supervisorStartDate, employee._supervisorEndDate)"></div> </super-grid-cell> <super-grid-cell class="address-contact"> <address ng-if="employee._addressStreet1"> <div ng-if="employee._addressStreet1">{{employee._addressStreet1}}</div> <div ng-if="employee._addressStreet2">{{employee._addressStreet2}}</div> <div ng-if="employee._addressCity">{{employee._addressCity}}, {{employee._addressState}} {{employee._addressZip}}</div> </address> <div ng-if="employee._addressStreet1 && employee._addressStartDate && employee._addressEndDate" class="date-range" ng-bind="go.getDateString(employee._addressStartDate, employee._addressEndDate)"></div> <label ng-if="employee._workPhoneNumber">Work Phone</label> <div ng-if="employee._workPhoneNumber">{{go.formatPhone(employee._workPhoneNumber)}}<span ng-if="employee._workPhoneExtension">x{{employee._workPhoneExtension}}</span></div> <label ng-if="employee._personalPhoneNumber">Personal Phone</label> <div ng-if="employee._personalPhoneNumber">{{go.formatPhone(employee._personalPhoneNumber)}}<span ng-if="employee._personalPhoneExtension">x{{employee._personalPhoneExtension}}</span></div> <label ng-if="employee._homePhoneNumber">Home Phone</label> <div ng-if="employee._homePhoneNumber">{{go.formatPhone(employee._homePhoneNumber)}}<span ng-if="employee._homePhoneExtension">x{{employee._homePhoneExtension}}</span></div> <label ng-if="employee._workEmailEmailAddress">Work Email:</label> <div ng-if="employee._workEmailEmailAddress">{{employee._workEmailEmailAddress}}</div> <div ng-if="employee._workEmailIsPrimary">(Primary)</div> <label ng-if="employee._personalEmailEmailAddress">Personal Email:</label> <div ng-if="employee._personalEmailEmailAddress">{{employee._personalEmailEmailAddress}}</div> <div ng-if="employee._personalEmailIsPrimary">(Primary)</div> </super-grid-cell> <super-grid-cell ng-if="employee._primaryEmergencyContactContactName || employee._secondaryEmergencyContactContactName"> <div ng-if="employee._primaryEmergencyContactContactName" class="emergency-contact">{{employee._primaryEmergencyContactContactName}}<span ng-if="employee._primaryEmergencyContactRelationshipType !== \'\'">, {{employee._primaryEmergencyContactRelationshipType}}</span></div> <label ng-if="employee._primaryEmergencyContactPrimaryPhone">Primary Phone:</label> <div class="contact" ng-if="employee._primaryEmergencyContactPrimaryPhone">{{go.formatPhone(employee._primaryEmergencyContactPrimaryPhone)}}</div> <label ng-if="employee._primaryEmergencyContactAlternatePhone">Alternate Phone:</label> <div class="contact" ng-if="employee._primaryEmergencyContactAlternatePhone">{{go.formatPhone(employee._primaryEmergencyContactAlternatePhone)}}</div> <div ng-if="employee._secondaryEmergencyContactContactName" class="emergency-contact">{{employee._secondaryEmergencyContactContactName}}<span ng-if="employee._secondaryEmergencyContactRelationshipType !== \'\'">, {{employee._secondaryEmergencyContactRelationshipType}}</span></div> <label ng-if="employee._secondaryEmergencyContactPrimaryPhone">Primary Phone:</label> <div ng-if="employee._secondaryEmergencyContactPrimaryPhone">{{go.formatPhone(employee._secondaryEmergencyContactPrimaryPhone)}}</div> <label ng-if="employee._secondaryEmergencyContactAlternatePhone">Alternate Phone:</label> <div ng-if="employee._secondaryEmergencyContactAlternatePhone">{{go.formatPhone(employee._secondaryEmergencyContactAlternatePhone)}}</div> </super-grid-cell> </super-grid-row> </grid-rows> <grid-rows ng-if="vm.pages == 0 && !vm.loading"> <super-grid-row> <super-grid-cell>No employees were found with the filters you selected.</super-grid-cell> </super-grid-row> </grid-rows> </super-grid> <fluid-paginator ng-if="vm.pages > 0" total-pages="vm.pages" current-page="vm.currentPage" on:current-page-change="go.filterResults($event)"></fluid-paginator> </div> ')}])}(),function(e){try{e=angular.module("ec-employee-templates")}catch(t){e=angular.module("ec-employee-templates",[])}e.run(["$templateCache",function(e){e.put("routes/reports/demographic/settings/segment-content/content.html",'<div class="segment-reports-demographic-settings-content"> <cmp-report-export-settings type="vm.type" template-id="vm.templateId" report-route="base.reports.demographic.report"></cmp-report-export-settings> </div> ')}])}()},{}],34:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/credentials",templateUrl:"routes/employee-record/credentials/credentials.html",$permissions:function(e){return e.isPermittedAction("employees","view")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.employeeRecord.credentials",new r.State(o,s))}])},{"base-state":20}],35:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$stateParams",function(e,t,n){t.routeVm,e.get("segmentEmployeeRecordCredentialsCredentialsContentLogic"),t.vm={employeeId:n.employeeId},t.go={}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentEmployeeRecordCredentialsCredentialsContent",function(){return new l("credentials-content")})},{"base-segment":19}],36:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentEmployeeRecordCredentialsCredentialsContentLogic",r)},{}],37:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/emergency{action:.*}",templateUrl:"routes/employee-record/emergency/emergency.html",$permissions:function(e){return e.isPermittedAction("employees","edit")||e.isPermittedAction("employees","view")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.employeeRecord.emergency",new r.State(o,s))}])},{"base-state":20}],38:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=(e("util"),function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$stateParams","ssEventSvc",function(e,t,n,r){var s=(t.routeVm,e.get("segmentEmployeeRecordEmergencyEmergencyContentLogic"));t.validator=s.validator;t.vm={employeeId:n.employeeId},t.go={onAfterSave:function(){r.emit("module.employee.saved")}}}]}]),t}(a.Segment));angular.module("ec-employee-segments").directive("segmentEmployeeRecordEmergencyEmergencyContent",function(){return new l("emergency-content")})},{"base-segment":19,util:4}],39:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentEmployeeRecordEmergencyEmergencyContentLogic",r)},{}],40:[function(e,t,n){"use strict";var r=e("base-state"),s={emp:null,refreshing:!1},o={url:"/record/{employeeId:[0-9A-Za-z-]+}",templateUrl:"routes/employee-record/employee-record.html",resolve:{emp:["$stateParams","$location","ssAsync","ssEmployeeApi","ssActiveUserSvc","ssEventSvc","ssOrganizationSvc","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n,r,o,i,a,l){return n(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.get({id:e.employeeId,fields:"orgPersonId,firstName,lastName"},null,!1);case 3:return s.emp=n.sent,
l.isDataIntegrationsEnabled().then(function(e){if(e){var n=t.path(),r="/ec-directory/person-detail/"+s.emp._orgPersonId;n.endsWith("personal")?t.url(r+"/personal"):n.endsWith("employment")?t.url(r+"/employment"):n.endsWith("credentials")?t.url(r+"/credentials"):n.endsWith("medical")?t.url(r+"/documents-medical"):n.endsWith("personnel")&&t.url(r+"/documents-personal")}}),n.next=7,o.getIdentityByType("employee");case 7:return s.loggedInUserKey=n.sent,n.next=10,a.getActiveOrg();case 10:s.org=n.sent,n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),i.emit("error-404");case 16:case"end":return n.stop()}},n,this,[[0,13]])}))()}],isHRMSEnabled:["ssMultiInitiativeFeatureDetectorCCSvc",function(e){e.isHRMSEnabled().then(function(e){s.isHRMSEnabled=e}).catch(function(){s.isHRMSEnabled=!1})}],isHRMSWithERPEnabled:["ssMultiInitiativeFeatureDetectorCCSvc",function(e){e.isHRMSWithERPEnabled().then(function(e){s.isHRMSWithERPEnabled=e}).catch(function(){s.isHRMSWithERPEnabled=!1})}],$title:["emp",function(e){return null==e?"Frontline Central - Employee Directory":"Frontline Central - "+e._firstName+" "+e._lastName}]},$permissions:function(e){return e.isPermittedAction("employees","view")},redirectToState:"base.employeeRecord.personal"};angular.module("ec-employee").config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("base.employeeRecord",new r.State(o,s))}])},{"base-state":20}],41:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/employment",templateUrl:"routes/employee-record/employment/employment.html",resolve:{featureFlags:["ssFlagCCSvc",function(e){return s.featureFlags={},e.ready.then(function(){var t=["fc_enable_employee_module_save_interrupter"],n=t.map(function(t){return e.checkState(t)});return Promise.all(n).then(function(e){e.forEach(function(e,n){s.featureFlags[t[n]]=e})})})}]},$permissions:function(e){return e.isPermittedAction("employees","edit")||e.isPermittedAction("employees","view")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.employeeRecord.employment",new r.State(o,s))}])},{"base-state":20}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$stateParams","ssEventSvc","ssSaveInterrupterSvc",function(e,t,n,r,s){var o=t.routeVm;e.get("segmentEmployeeRecordEmploymentEmploymentContentLogic"),t.vm={employeeId:n.employeeId};o.featureFlags.fc_enable_employee_module_save_interrupter&&s.clear();t.go={onAfterSave:function(){r.emit("module.employee.saved")}}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentEmployeeRecordEmploymentEmploymentContent",function(){return new l("employment-content")})},{"base-segment":19}],43:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentEmployeeRecordEmploymentEmploymentContentLogic",r)},{}],44:[function(e,t,n){"use strict";var r=e("base-state"),s={selectedCategory:{categoryId:1,subcategory:null},featureFlags:{isHRMSEnabled:!1,fc_enable_employee_module_save_interrupter:!1,fc_new_employee_documents:!1}},o={url:"/medical",templateUrl:"routes/employee-record/medical/medical.html",$permissions:function(e){return e.isPermittedAction("employees","edit")||e.isPermittedAction("employees","view")},resolve:{featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(s.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.employeeRecord.medical",new r.State(o,s))}])},{"base-state":20}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$stateParams",function(e,t,n){t.routeVm=t.$root.utils.findInParentScope("routeVm",t),e.get("segmentEmployeeRecordMedicalMedicalContentLogic"),t.vm={employeeId:n.employeeId},t.go={}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentEmployeeRecordMedicalMedicalContent",function(){return new l("medical-content")})},{"base-segment":19}],46:[function(e,t,n){"use strict";function r(e){return{validator:{required:e.required()}}}r.$inject=["ssValidationHlp"],angular.module("ec-employee-segment-logic").factory("segmentEmployeeRecordMedicalMedicalContentLogic",r)},{}],47:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/personal{action:.*}",templateUrl:"routes/employee-record/personal/personal.html",$permissions:function(e){return e.isPermittedAction("employees","edit")||e.isPermittedAction("employees","view")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.employeeRecord.personal",new r.State(o,s))}])},{"base-state":20}],48:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$stateParams","ssEventSvc",function(e,t,n,r){t.routeVm,e.get("segmentEmployeeRecordPersonalPersonalContentLogic"),t.vm={employeeId:n.employeeId},t.go={onAfterSave:function(){r.emit("module.employee.saved")}}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentEmployeeRecordPersonalPersonalContent",function(){return new l("personal-content")})},{"base-segment":19}],49:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentEmployeeRecordPersonalPersonalContentLogic",r)},{}],50:[function(e,t,n){"use strict";var r=e("base-state"),s={selectedCategory:{categoryId:0,subcategory:null},featureFlags:{isHRMSEnabled:!1,fc_enable_employee_module_save_interrupter:!1,fc_new_employee_documents:!1}},o={url:"/personnel",templateUrl:"routes/employee-record/personnel/personnel.html",$permissions:function(e){return e.isPermittedAction("employees","edit")||e.isPermittedAction("employees","view")},resolve:{featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(s.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.employeeRecord.personnel",new r.State(o,s))}])},{"base-state":20}],51:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$stateParams",function(e,t,n){t.routeVm=t.$root.utils.findInParentScope("routeVm",t),e.get("segmentEmployeeRecordPersonnelPersonnelContentLogic"),t.vm={employeeId:n.employeeId},t.go={}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentEmployeeRecordPersonnelPersonnelContent",function(){return new l("personnel-content")})},{"base-segment":19}],52:[function(e,t,n){"use strict";function r(e){return{validator:{required:e.required()}}}r.$inject=["ssValidationHlp"],angular.module("ec-employee-segment-logic").factory("segmentEmployeeRecordPersonnelPersonnelContentLogic",r)},{}],53:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$state","$scope","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n,r){var s=n.routeVm;n.employeeVm=s;var o=n.employee=n.employeeVm.emp,i=e.get("segmentEmployeeRecordContentLogic"),a=n.vm={canViewEmploymentTab:i.canViewEmploymentTab(o.$permitted.props),canViewMedicalFiles:i.canViewMedicalFiles(o.$permitted.props),canViewPersonnelTab:i.canViewPersonnelTab(o.$permitted.props),canViewCredentialTab:i.canViewCredentialTab(s,o.$permitted.props)};r.isEmergencyContactsTabEnabled().then(function(e){a.canViewEmergencyTab=e&&o.$permitted.props.emergencyContacts.view}).catch(function(){a.canViewEmergencyTab=!1}),t.is("base.employeeRecord.employment")&&!a.canViewEmploymentTab&&t.go("base.employeeRecord.personal"),t.is("base.employeeRecord.medical")&&!a.canViewMedicalFiles&&t.go("base.employeeRecord.personal"),t.is("base.employeeRecord.personnel")&&!a.canViewPersonnelTab&&t.go("base.employeeRecord.personal"),t.is("base.employeeRecord.credentials")&&!a.canViewCredentialTab&&t.go("base.employeeRecord.personal"),t.is("base.employeeRecord.emergency")&&!a.canViewEmergencyTab&&t.go("base.employeeRecord.personal");n.go={}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentEmployeeRecordContent",function(){return new l("content")})},{"base-segment":19}],54:[function(e,t,n){"use strict";function r(){function e(e){return!!e.filesMedicalBenefits.view||(!!e.filesMedicalGeneralHealth.view||(!!e.filesMedicalLeave.view||(!!e.filesMedicalOther.view||(!!e.filesMedicalWorkersComp.view||void 0))))}function t(e){return!!e.filesPersonnelContracts.view||(!!e.filesPersonnelDiscipline.view||(!!e.filesPersonnelEmploymentAuth.view||(!!e.filesPersonnelEmploymentStatus.view||(!!e.filesPersonnelOther.view||(!!e.filesPersonnelPayroll.view||(!!e.filesPersonnelPolicy.view||(!!e.filesPersonnelPreEmployment.view||!!e.filesPersonnelTranscripts.view)))))))}function n(e){return!!e.hireDate.view||(!!e.seniorityDate.view||(!!e.tenureDate.view||(!!e.retirementSystem.view||(!!e.statusHistory.view||(!!e.assignments.view||!!e.supervisor.view)))))}function r(e,t){return t.employeeCredentials.view&&!e.isHRMSWithERPEnabled}return{canViewEmploymentTab:n,canViewCredentialTab:r,canViewMedicalFiles:e,canViewPersonnelTab:t}}angular.module("ec-employee-segment-logic").factory("segmentEmployeeRecordContentLogic",r)},{}],55:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$state","$location","ssAsync","ssEventSvc","ssModalSvc","ssToastHlp","ssObjectHlp","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n,r,s,o,i,a,l,c){var p=t.routeVm,u=t.permissions=p.emp.$permitted,m=p.loggedInUserKey===p.emp.id,d=e.get("segmentEmployeeRecordHeaderLogic"),f=t.vm={fullName:d.getName(p.emp),canManageEmployee:l.glean(t,function(e){return e.$root.isPermitted.users.view},!1)};c.canDeleteEmployee().then(function(e){f.canDeleteEmployee=u.actions.delete&&!m&&e}).catch(function(){f.canDeleteEmployee=!1});t.go={manageAccess:function(){r.path("/ec-useraccess/user/employee/"+p.emp.id)},delete:function(){var e={title:"Delete this Employee",content:"You are deleting this employee from Frontline Central. Once they are deleted, all information associated with this employee will be removed from Frontline Central and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};i.showDestructive(e).then(function(){p.refreshing=!0,s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.emp.$remove();case 3:a.success("Employee has been deleted successfully."),n.go("base.index"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.error("There was an error deleting the employee. Please try again later.");case 10:return e.prev=10,p.refreshing=!1,e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])}))()})}};o.on("ss-json-api.postSave.employees",function(e){f.fullName=d.getName(e)},t)}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentEmployeeRecordHeader",function(){return new l("header")})},{"base-segment":19}],56:[function(e,t,n){"use strict";function r(){function e(e){var t=e._firstName;return e._lastName&&(t+=" "+e._lastName),t}return{getName:e}}angular.module("ec-employee-segment-logic").factory("segmentEmployeeRecordHeaderLogic",r)},{}],57:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$stateParams","ssEmployeeApi","ssOrganizationSvc","ssAsync","ssEventSvc","ssListSvc","ssAssignmentApi","ssJobTypeSvc","ssPositionsApi","ssDateByOrgHlp","enumEmployeeStatus",function(e,t,n,r,s,o,i,a,l,c,p,u,m){function d(){o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.loading=!0,null!=y){e.next=5;break}return e.next=4,s.getActiveOrg();case 4:y=e.sent;case 5:if(null!=v.emp){e.next=11;break}return e.next=8,r.get({id:n.employeeId,fields:"hireDate",include:"phoneNumbers,emails,positions,jobTypes,statusHistory,assignments,supervisors"},null,!1);case 8:v.emp=e.sent,e.next=13;break;case 11:return e.next=13,v.emp.$refresh();case 13:v.permitted=v.emp.$permitted.props,v.hireDateTxt=null!=v.emp._hireDate?u.utcIsoToRelativeMoment(v.emp._hireDate,y).format("MM/DD/YYYY"):null,v.emp.currentSupervisor=v.emp._supervisors.find(function(e){return u.isCurrent({obj:e,fromProp:"_from",toProp:"_to",org:y})}),v.currentStatus=v.emp._statusHistory.find(function(e){return u.isCurrent({obj:e,fromProp:"_from",toProp:"_to",org:y})}),null!=v.currentStatus&&(v.currentStatus.name=m.byValue(v.currentStatus._statusId)),v.emp.$permitted.props.assignments.view&&f(),v.loading=!1;case 20:case"end":return e.stop()}},e,this)}))()}function f(){o(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.getForEmployee({id:v.emp.id,include:"assignments"});case 3:return t=e.sent,t.sort(function(e,t){return new Date(t._startDate)-new Date(e._startDate)}),e.next=7,t.map(function(e){return g(e,e._assignments[0].id)});case 7:if(n=e.sent,n&&t.forEach(function(e,t){e.assignment=n[t],delete e.assignment.position}),v.emp.primaryPosition=t.find(function(e){return e.assignment._isPrimary&&u.isCurrent({obj:e.assignment,fromProp:"_startDateUtc",toProp:"_endDateUtc",org:y})}),null!=v.emp.primaryPosition){e.next=12;break}return e.abrupt("return");case 12:v.emp.primaryAssignment=v.emp.primaryPosition.assignment,a.getByExternalId("position.types").then(function(e){v.emp.primaryAssignment.name=a.mapName(v.emp.primaryPosition._name,e)}),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}},e,this,[[0,16]])}))()}function g(e,t){return o(regeneratorRuntime.mark(function n(){var r,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.getAssignment({id:e.id,assignmentId:t,include:"details"});case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return",null);case 5:return r.initialDetails=r._details.find(function(e){return e.id===r._currentDetailsId}),null!=r.initialDetails?r.currentDetails=["_assignmentId","_fTE","_hoursPerDay","_paidHolidaysPerSchoolYear","_payLane","_payPeriodsPerYear","_payStep","_personalDaysPerSchoolYear","_sickDaysPerSchoolYear","_fromDateUtc","_toDateUtc","_vacationDaysPerSchoolYear","_workDaysPerYear","_payRate","_payRateFrequency"].reduce(function(e,t){return e[t]=r.initialDetails[t],e},{}):r.currentDetails={},r.position=e,s=r.position._jobType.id,n.next=11,c.getJobTypeById(s);case 11:return r.jobType=n.sent,r.currentJobTypeDetails=r.jobType._currentJobTypeDetail,n.abrupt("return",r);case 14:case"end":return n.stop()}},n,this)}))()}var y=(t.routeVm,null),v=(e.get("segmentEmployeeRecordSidebarLogic"),t.vm={loading:!0});d(),i.on("module.employee.saved",d,t)}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentEmployeeRecordSidebar",function(){return new l("sidebar")})},{"base-segment":19}],58:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentEmployeeRecordSidebarLogic",r)},{}],59:[function(e,t,n){"use strict";var r=e("base-state"),s={location:[],jobType:[],department:[],employmentGroup:[],status:[],fromHireDate:null,toHireDate:null,effectiveDate:moment().endOf("day").toISOString()},o={url:"/",templateUrl:"routes/index/index.html",resolve:{org:["ssOrganizationSvc","ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getActiveOrg();case 2:s.org=t.sent,n.isGlobalDirectoryEnabled().then(function(e){s.isGlobalDirectory=e}).catch(function(){s.isGlobalDirectory=!1});case 4:case"end":return t.stop()}},t,this)}))()}],$title:function(){return"Frontline Central - Employees"}},$permissions:function(e){return e.isPermittedAction("bundle","viewothers")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.index",new r.State(o,s))}])},{"base-state":20}],60:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$state","sleepHlp","$timeout","$window","ssAsync","enumEmployeeStatus","ssStringHlp","ssValidationHlp","ssLocationSvc","ssJobTypeSvc","ssDepartmentSvc","ssEmployeeApi","ssToastHlp","ssOptionalFieldGroupHlp","ssModalSvc","moment","sortFilterHlp","ssEnum","ssListSvc","ssDateByOrgHlp","ssOrganizationSvc","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n,r,s,o,i,a,l,c,p,u,m,d,f,g,y,v,h,b,_,w,E,x){function S(e){e.checked=!1}var T,P,j=/^\d{3}-\d{2}-\d{4}$/,O=/^\d{9}$/,D=t.routeVm,C=b.emailType,I=(e.get("segmentIndexFilterLogic"),t.validator={ssn:c.ssn(),email:c.email(),required:c.required(),externalId:c.string({maxLength:100})}),R=t.vm={totalEmployeesAriaLabel:"",disableEmploymentGroup:!1,disableJobType:!1,loading:!0,formOpened:!0,errors:"",status:a.getEnums().map(function(e){return{_name:l.toProperCase(e.name.toLowerCase()),id:e.value}}),saving:!1,search:"",showClear:!1,disableSearch:!0,emp:{},sortBy:0,sortByOptions:[{name:"Last Name A-Z",ariaLabel:"Sort directory by Last name ascending",value:{field:"lastname",dir:"asc"}},{name:"Last Name Z-A",ariaLabel:"Sort directory by Last name descending",value:{field:"lastname",dir:"desc"}},{name:"Hire Date",ariaLabel:"Sort directory by hire date",value:{field:"hiredate",dir:"desc"}}],showStatusFilter:t.$root.isPermitted.employees.edit&&t.$root.isPermitted.employees.view};x.canCreateEmployee().then(function(e){R.canCreateEmployee=e}).catch(function(){R.canCreateEmployee=!1}),x.showEmploymentGroups().then(function(e){R.showEmploymentGroups=e}).catch(function(){R.showEmploymentGroups=!1}),t.$root.isPermitted.employees.edit||R.sortByOptions.splice(2,1),null!=D.status&&0!==D.status.length||(D.status=[R.status.find(function(e){return e.id===a.active})]),D.status.forEach(function(e){e.checked=!0}),D.sortBy=R.sortByOptions[0].value,i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.getAll();case 3:return R.location=e.sent,e.next=6,u.getAll();case 6:return R.jobType=e.sent,e.next=9,m.getAll();case 9:return R.department=e.sent,_.getByExternalId("jobtype.employmentgroups").then(function(e){R.employmentGroups=e.map(function(e){return{_name:e.name,id:e.value}})}),e.next=13,E.getActiveOrg();case 13:P=e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("ERROR",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}))();t.go={export:function(){var e="Generate and download report for {0} employee{1}?";e=e.replace("{0}",D.totalEmployees).replace("{1}",1===D.totalEmployees?"":"s");var n={title:"",content:e,primaryText:"Download",secondaryText:"Cancel",size:"medium"},r="";"string"==typeof D.search&&(r=D.search.trim());var s=D.fromHireDate?w.startOfDayRelativeTo(v(D.fromHireDate),P):null,o=D.toHireDate?w.endOfDayRelativeTo(v(D.toHireDate),P):null,i=Object.assign({},{include:"StatusHistory,EmploymentHistory,Addresses,PhoneNumbers,Emails,EmergencyContacts,Credentials,positions,assignments,locations,jobtypes,payschedules,supervisors",limit:999999999},h.sortOrNull(D.sortBy),h.filterOrNull(D.location,"location"),h.filterOrNull(D.jobType,"jobType"),h.filterOrNull(D.department,"department"),h.filterOrNull(D.status,"status"),h.filterOrNull(D.employmentGroup,"employmentGroup"),h.searchFilter(r,"firstname"),h.searchFilter(r,"lastname"),h.filterDateOrNull(s,"hiredatestart"),h.filterDateOrNull(o,"hiredateend")),a=D.effectiveDate?w.safeAsOfDateRelativeTo(v(D.effectiveDate).startOf("day"),P):"";v(a).format("MM/DD/YYYY")!==w.safeNowRelativeTo(P).format("MM/DD/YYY")&&(i=Object.assign(i,{asOfTimeUtc:a})),y.showStandard(n).then(function(){t.$emit("please-wait",i)},function(e){console.error(e)})},validateOptional:function(e){return null!=e},clear:function(){D.location=[],D.jobType=[],D.department=[],D.employmentGroup=[],D.fromHireDate="",D.toHireDate="",D.effectiveDate="",D.search="",R.location.forEach(S),R.jobType.forEach(S),R.department.forEach(S),R.status.forEach(S),R.showStatusFilter?D.status=[]:(D.status=[R.status.find(function(e){return e.id===a.active})],D.status.forEach(function(e){e.checked=!0})),D.sortBy=R.sortByOptions[0].value},asyncCheck:function(e){var t=[];return e.length>10||(e.length<10&&t.push("needs to be at least 10"),e.length<5&&t.push("keep going"),t)},close:function(){R.formOpened=!1,R.errors="",R.emp={},t.$emit("ss-menu-close")},validateExternalId:function(){return null==R.emp._externalId||I.externalId(R.emp._externalId)},add:function(){if(null==T){if(null!=R.emp._sSN&&""===R.emp._sSN&&null!=R.emp._externalId&&""===R.emp._externalId&&null!=R.emp._sSN&&!j.test(R.emp._sSN)&&!O.test(R.emp._sSN))return void(R.errors="SSN is not formatted correctly. ###-##-####");R.saving=!0,O.test(R.emp._sSN)&&(R.emp._sSN=R.emp._sSN.substring(0,3)+"-"+R.emp._sSN.substring(3,5)+"-"+R.emp._sSN.substring(5)),T=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.add({include:"emails"},R.emp);case 3:return t=e.sent,R.emp._workEmail&&t._emails.push({_emailAddress:R.emp._workEmail,_emailType:C.work,_isPrimary:!1}),R.emp._personalEmail&&t._emails.push({_emailAddress:R.emp._personalEmail,_emailType:C.personal,_isPrimary:!1}),e.next=8,t._emails.$save();case 8:return e.next=10,r.sleep();case 10:null!=t.id?n.go("base.employeeRecord.personal",{employeeId:t.id,action:"-edit"}):(T=null,R.saving=!1,f.error("There was an error adding the employee. Please try again later.")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),T=null,R.saving=!1;case 17:case"end":return e.stop()}},e,this,[[0,13]])}))()}}};t.$watch("routeVm.totalEmployees",function(e,t){e||(e=0),R.totalEmployeesAriaLabel=e+" Employees found",1===e&&(R.totalEmployeesAriaLabel=e+" Employee found")}),t.$on("please-wait",function(e,t){var n,r={title:"Please wait...",content:"",size:"small"};s(function(){y.showWait(r),i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.exportEmployee(t);case 2:n=e.sent;case 3:case"end":return e.stop()}},e,this)}))().then(function(){try{o.open(n._string,"_blank","")}catch(e){}y.clearDialog()})},100)}),t.$watch("vm.emp._sSN",function(e,t){if(null!=e){var n=/^(\d{3})\s?\-?\s?(\d{2})\s?\-?\s?(\d{4})$/;e.length>11&&(e=e.substring(0,11)),R.emp._sSN=e.replace(n,"$1-$2-$3")}}),t.$on("ss-menu-closed",function(e,n,r){R.formOpened&&r.hasClass("create-form")&&(R.formOpened=!1,t.$root.safeDigest(t))}),t.$on("employee-directory-loading",function(e,t){R.loading=t.loading}),t.$watchGroup(["routeVm.location.length","routeVm.jobType.length","routeVm.department.length","routeVm.status.length","routeVm.search","routeVm.sortBy","routeVm.employmentGroup.length","routeVm.fromHireDate","routeVm.toHireDate","routeVm.effectiveDate"],function(e,t){R.showClear=D.location.length>0||D.jobType.length>0||D.department.length>0||null!=D.search&&D.search.length>0||D.sortBy!==R.sortByOptions[0].value||D.fromHireDate||D.toHireDate||D.employmentGroup.length>0||D.effectiveDate,D.jobType.length>0&&(R.disableEmploymentGroup=!0,R.disableJobType=!1,D.employmentGroup.length>0&&(D.employmentGroup=[])),0===D.jobType.length&&(R.disableEmploymentGroup=!1),D.employmentGroup.length>0&&(R.disableEmploymentGroup=!1,R.disableJobType=!0,D.jobType.length>0&&(D.jobType=[])),0===D.employmentGroup.length&&(R.disableJobType=!1),R.showClear||(R.showStatusFilter?R.showClear=D.status.length>0:R.showClear=!(1===D.status.length&&D.status[0].id===a.active))}),t.$on("employee-directory-loading",function(e,t){null!=t&&!1===t.loading&&(R.disableSearch=!1)})}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentIndexFilter",function(){return new l("filter")})},{"base-segment":19}],61:[function(e,t,n){"use strict";function r(){return{
filterBarganingUnits:function(e){var t=[];return e.forEach(function(e){e.employmentGroup&&e.employmentGroup.id.length&&(t.find(function(t){return t._name===e.employmentGroup.name})||t.push({_name:e.employmentGroup.name,id:e.employmentGroup.id}))}),t}}}angular.module("ec-employee-segment-logic").factory("segmentIndexFilterLogic",r)},{}],62:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"controller",value:["$injector","$scope","$rootScope","moment","ssAsync","ssDebounce","ssEmployeeApi","enumEmployeeStatus","ssListSvc","sortFilterHlp","ssEmployeeAssignmentHlp","ssDateByOrgHlp","ssToastHlp",function(e,t,n,s,o,i,a,l,c,p,u,m,d){function f(){b.showInfScroll&&!b.loading&&(null!=x&&(x.$abort(),x=null),b.loading=!0,n.$broadcast("employee-directory-loading",{loading:!0}),x=o(regeneratorRuntime.mark(function e(){var t,o,i,f,g,y,T,j,O;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="","string"==typeof v.search&&(t=v.search.trim()),E++,o=v.fromHireDate?m.startOfDayRelativeTo(new s(v.fromHireDate),h):null,i=v.toHireDate?m.endOfDayRelativeTo(new s(v.toHireDate),h):null,f=Object.assign({},{location:p.filterOrNullForPost(v.location),jobtype:p.filterOrNullForPost(v.jobType),department:p.filterOrNullForPost(v.department),status:p.filterOrNullForPost(v.status),employmentgroup:p.filterOrNullForPost(v.employmentGroup),fullname:t,hiredatestart:o,hiredateend:i}),Object.keys(f).forEach(function(e){return null==f[e]&&delete f[e]}),g=Object.assign({},r({},v.sortBy.field,v.sortBy.dir)),y=Object.assign({},{fields:"firstName,lastName,hireDate",include:P,offset:(E-1)*_,limit:_,filter:f,sort:g}),T=v.effectiveDate?m.safeAsOfDateRelativeTo(new s(v.effectiveDate).startOf("day"),h):"",s(T).format("MM/DD/YYYY")!==m.safeNowRelativeTo(h).format("MM/DD/YYY")&&(y=Object.assign(y,{asOfTimeUtc:T})),e.next=14,a.search({},y);case 14:j=e.sent;try{v.totalEmployees=parseInt(j.$headers["total-results"],10)}catch(e){v.totalEmployees=0}O=v.effectiveDate?m.safeAsOfDateRelativeTo(new s(v.effectiveDate).startOf("day"),h):null,j.forEach(function(e){if(e.hireDateTxt=null!=e._hireDate?m.utcIsoToRelativeMoment(e._hireDate,h).format("MM/DD/YYYY"):null,null!=e._statusHistory&&e._statusHistory.length&&(e.currentStatus=e._statusHistory.find(function(e){return m.isCurrent({obj:e,asOf:O,fromProp:"_from",toProp:"_to",org:h})}),null!=e.currentStatus&&(e.currentStatus.name=l.byValue(e.currentStatus._statusId))),e.primaryAssignment=u.getPrimaryAssignment(e,{_asOf:O},h),null!=e.primaryAssignment){var t=e.primaryAssignment._positionId;e.position=e._positions.find(function(e){return e.id===t}),e.position&&(e.position.name=c.mapName(e.position._name,S))}}),b.employees=b.employees.concat(j),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),d.error("There was an error retrieving employees",""),b.showInfScroll=!1;case 25:return e.prev=25,b.loading=!1,b.showEmptyMessage=!b.employees.length,b.showInfScroll=b.employees.length<v.totalEmployees,w=!1,x=null,n.$broadcast("employee-directory-loading",{loading:!1}),e.finish(25);case 33:case"end":return e.stop()}},e,this,[[0,21,25,33]])}))())}function g(){y(),f()}function y(){w||(E=0,b.employees=[],b.showInfScroll=!0,b.loading=!1)}var v=t.routeVm,h=v.org,b=(e.get("segmentIndexResultsLogic"),t.vm={employees:[],showInfScroll:!0,loading:!1,showNameLinks:!0}),_=(t.go={getHref:function(e){var t="/ec-employee/record/"+e.id;return v.isGlobalDirectory&&(t=e._orgPersonId?"/ec-directory/person-detail/"+e._orgPersonId+"/personal":""),t},getEmployeeName:function(e){var t=null==e._lastName?"":e._lastName;return t.length&&null!=e._firstName&&e._firstName.length&&(t+=", "),t+=null==e._firstName?"":e._firstName},showNameLinks:function(e){return!v.isGlobalDirectory||null!=e._orgPersonId}},50),w=!0,E=0,x=null,S=[];c.getByExternalId("position.types").then(function(e){S=e});var T=i(function(){g()},350);t.enumEmployeeStatus=l,t.$watch("routeVm.location.length",T),t.$watch("routeVm.jobType.length",T),t.$watch("routeVm.department.length",T),t.$watch("routeVm.status.length",T),t.$watch("routeVm.employmentGroup.length",T),t.$watch("routeVm.fromHireDate",T),t.$watch("routeVm.toHireDate",T),t.$watch("routeVm.effectiveDate",T),t.$watch("routeVm.search",T),t.$watch("routeVm.sortBy",T);var P="phoneNumbers,emails,positions,jobtypes,locations,assignments";t.$root.isPermitted.employees.edit&&(P+=",statusHistory"),t.refreshResults=f}]}]),t}(l.Segment);angular.module("ec-employee-segments").directive("segmentIndexResults",function(){return new c("results")})},{"base-segment":19}],63:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentIndexResultsLogic",r)},{}],64:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/my-profile",templateUrl:"routes/my-profile/my-profile.html",$permissions:function(e){return!e.isPermittedAction("bundle","viewothers")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.myProfile",new r.State(o,s))}])},{"base-state":20}],65:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$state","$scope","ssActiveUserSvc",function(e,t,n,r){var s=(n.routeVm,e.get("segmentMyProfileHeaderLogic"),n.vm={test:"test"});r.getEmployee().then(function(e){s.fullName=e.fullName,t.go("base.employeeRecord",{module:"ec-employee",employeeId:e.id})});n.go={click:function(){s.test="works!"}}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentMyProfileHeader",function(){return new l("header")})},{"base-segment":19}],66:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentMyProfileHeaderLogic",r)},{}],67:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/assignments",templateUrl:"routes/reports/assignments/assignments.html",resolve:{exportType:["ssAsync","ssPermissionsSvc","exportTemplateApi","sortFilterHlp",function(e,t,n,r){return t.ready.then(function(){if(!t.isNotPermittedAction("exportTemplates","view"))return e(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getTypes(Object.assign({},r.filterOrNull([{id:"EmployeeAssignments"}],"exportSource")));case 2:return t=e.sent,s.exportType=t.data.data[0],e.next=6,n.getTemplates(Object.assign({},r.filterOrNull([{id:s.exportType.id}],"exportTypeId")));case 6:o=e.sent,s.exportTemplates=o.data.data;case 8:case"end":return e.stop()}},e,this)}))()})}],$title:function(){return"Employee Records - Assignments Report"}},$permissions:function(e){return e.isPermittedAction("assignmentReports","view")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.reports.assignments",new r.State(o,s))}])},{"base-state":20}],68:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/report",templateUrl:"routes/reports/assignments/report/report.html",resolve:{org:["ssOrganizationSvc","ssAsync",function(e,t){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getActiveOrg();case 2:s.org=t.sent;case 3:case"end":return t.stop()}},t,this)}))()}],$title:function(){return"Employee Assignment Report"}}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.reports.assignments.report",new r.State(o,s))}])},{"base-state":20}],69:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$rootScope","$injector","$scope","$location","$window","ssEmployeeApi","ssDebounce","ssAsync","ssEventSvc","ssMultiInitiativeFeatureDetectorCCSvc","empReportsApi","reportHlp",function(e,t,n,r,s,o,i,a,l,c,p,u){function m(e){v.currentPage=e.currentPage,null!=y&&(y.$abort(),y=null),y=a(regeneratorRuntime.mark(function t(){var n,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v.loading=!0,t.prev=1,n=Object.assign({},{organizationId:f.org.id}),s=Object.assign({},{offset:(e.currentPage-1)*g,limit:g,filter:{lastupdatedstart:v.filters["filter[lastUpdatedStart]"],lastupdatedend:v.filters["filter[lastUpdatedEnd]"],statusreason:v.filters["filter[statusReason]"],asoftimeutc:v.filters["filter[asOfTimeUtc]"],department:v.filters["filter[department]"],employmentgroup:v.filters["filter[employmentGroup]"],jobtype:v.filters["filter[jobType]"],location:v.filters["filter[location]"],status:v.filters["filter[status]"],fullname:v.filters["filter[fullname]"]},sort:{positionname:v.filters["sort[positionName]"],lastname:v.filters["sort[lastname]"],locationname:v.filters["sort[locationName]"],assignmentstartdateutc:v.filters["sort[assignmentStartDateUtc]"]}}),d()){t.next=6;break}return t.abrupt("return");case 6:return u.setUrl(r,n),t.next=9,p.getAssignmentsPost(n,s);case 9:v.empAssignments=t.sent,null!=v.empAssignments?(v.filterConfig.totalResults=parseInt(v.empAssignments.$headers["total-results"],10),v.filterConfig.totalResults=isNaN(v.filterConfig.totalResults)?0:v.filterConfig.totalResults,v.pages=Math.ceil(v.filterConfig.totalResults/g),v.useGroupByEmployee=null!=s.sort.lastname,v.useGroupByEmployee&&(v.empAssignments.forEach(function(e){e._employee={id:e._employeeId,firstName:e._employeeFirstName,lastName:e._employeeLastName}}),v.empAssignments=u.groupByEmployee(v.empAssignments))):(v.filterConfig.totalResults=0,v.pages=0),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(1);case 15:return t.prev=15,v.loading=!1,t.finish(15);case 18:case"end":return t.stop()}},t,this,[[1,13,15,18]])}))()}function d(){return(!v.filters["filter[lastUpdatedStart]"]||null!=v.filters["filter[lastUpdatedEnd]"])&&(!v.filters["filter[lastUpdatedEnd]"]||null!=v.filters["filter[lastUpdatedStart]"])}var f=n.routeVm,g=(t.get("segmentReportsAssignmentsContentLogic"),50),y=null,v=n.vm={loading:!0,empAssignments:[],useGroupByEmployee:!1,filters:{},pages:0,filterConfig:{countLabel:"Assignments of Employee",searchLabel:"Employee",useFilter:["jobTypes","departments","locations","empGroups","empStatus","empStatusReasons","effectiveDate","lastUpdated"],sortOptions:[{name:"Last Name A-Z",ariaLabel:"Sort report by last name ascending",value:{field:u.sortKeys.LAST_NAME,dir:"asc"}},{name:"Last Name Z-A",ariaLabel:"Sort report by last name descending",value:{field:u.sortKeys.LAST_NAME,dir:"desc"}},{name:"Assignment Start Date",ariaLabel:"Sort report by the assignment start date",value:{field:u.sortKeys.ASSIGNMENT_START_DATE,dir:"asc"}},{name:"Location A-Z",ariaLabel:"Sort report by location ascending",value:{field:u.sortKeys.LOCATION_NAME,dir:"asc"}},{name:"Location Z-A",ariaLabel:"Sort report by location descending",value:{field:u.sortKeys.LOCATION_NAME,dir:"desc"}},{name:"Position Name",ariaLabel:"Sort report by position name",value:{field:u.sortKeys.POSITION_NAME,dir:"asc"}},{name:"Job Type A-Z",ariaLabel:"Sort report by job type ascending",value:{field:u.sortKeys.JOB_TYPE,dir:"asc"}},{name:"Job Type Z-A",ariaLabel:"Sort report by job type descending",value:{field:u.sortKeys.JOB_TYPE,dir:"desc"}}],defaultSortIndex:0,exportFileName:"employeeAssignmentExport.csv",export:p.exportAssignmentsCsv}};c.isDataIntegrationsEnabled().then(function(e){v.isGlobalDirectory=e}).catch(function(){v.isGlobalDirectory=!1});var h=i(function(e,t){e!==t&&b.filterResults({currentPage:1})},350);n.$watch("vm.filters",h,!0),l.on("location-change-start",function(e,t){t.indexOf("today")>-1&&(e.preventDefault(),s.location=t)},e);var b=n.go={filterResults:m,toProfile:function(e){v.isGlobalDirectory&&o.get({id:e,fields:"orgPersonId"},null,!1).then(function(e){return r.url("/ec-directory/person-detail/"+e._orgPersonId+"/employment")})}}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentReportsAssignmentsReportContent",function(){return new l("content")})},{"base-segment":19}],70:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentReportsAssignmentsReportContentLogic",r)},{}],71:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$location","ssPermissionsSvc","ssStorage","ngIntroService",function(e,t,n,r,s,o){var i=t.routeVm;e.get("segmentReportsAssignmentsContentLogic");"/ec-employee/reports/assignments"===n.path()&&n.path(n.path()+"/report");var a=t.vm={templateId:null};t.ngIntroService=o,t.ssStorage=s,t.ssPermissionsSvc=r;t.go={};r.isPermittedAction("exportTemplates","view")&&(t.exportType=i.exportType,t.exportTemplates=i.exportTemplates,a.templateId=t.exportTemplates.length?t.exportTemplates[0].id:"create")}]},{key:"link",value:function(e,t){(function(){if(e.ssPermissionsSvc.isPermittedAction("exportTemplates","view"))return!!e.ssStorage.load("ec-employee.reports.feature.intro")})()||angular.element(document).ready(function(){e.ngIntroService.setOptions({steps:[{element:angular.element(t[0].querySelector("#ui-tour-step1"))[0],intro:"<h4>Introducing Export Settings</h4><p>You can create a custom template to manage the report output.</p>"}],doneLabel:"Got it!",showBullets:!1,showStepNumbers:!1,disableInteraction:!0}),e.ngIntroService.onExit(function(){e.ssStorage.save("ec-employee.reports.feature.intro",!0,{persistent:!0,expires:!1})}),e.ngIntroService.start()})}}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentReportsAssignmentsContent",function(){return new l("content")})},{"base-segment":19}],72:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentReportsAssignmentsContentLogic",r)},{}],73:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$rootScope","$injector","$scope","$stateParams",function(e,t,n,r){n.routeVm,t.get("segmentReportsAssignmentsSettingsContentLogic"),n.vm={templateId:r.templateId,type:e.utils.findInParentScope("exportType",n)},n.go={}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentReportsAssignmentsSettingsContent",function(){return new l("content")})},{"base-segment":19}],74:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentReportsAssignmentsSettingsContentLogic",r)},{}],75:[function(e,t,n){"use strict";var r=e("base-state"),s={featureFlags:{fc_new_record_export_option:!1}},o={url:"/settings/:templateId",templateUrl:"routes/reports/assignments/settings/settings.html",resolve:{$title:function(){return"Employee Assignment Report - Export Settings"},featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(s.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("exportTemplates","view")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.reports.assignments.settings",new r.State(o,s))}])},{"base-state":20}],76:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/credentials",templateUrl:"routes/reports/credentials/credentials.html",resolve:{org:["ssOrganizationSvc","ssAsync",function(e,t){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getActiveOrg();case 2:s.org=t.sent;case 3:case"end":return t.stop()}},t,this)}))()}],$title:function(){return"Employee Records - Credentials Report"}},$permissions:function(e){return e.isPermittedAction("employeecredentials","viewreports")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.reports.credentials",new r.State(o,s))}])},{"base-state":20}],77:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$location","ssEmployeeApi","ssDebounce","ssAsync","ssMultiInitiativeFeatureDetectorCCSvc","ssCredentialBusinessEngineSvc","empReportsApi","reportHlp",function(e,t,n,r,s,o,i,a,l,c){function p(e){v.currentPage=e.currentPage,null!=y&&(y.$abort(),y=null),y=o(regeneratorRuntime.mark(function t(){var r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v.loading=!0,t.prev=1,r=Object.assign({},{organizationId:u.org.id}),s=Object.assign({},{offset:(e.currentPage-1)*f,limit:f,filter:{credentialids:v.filters["filter[credentialIds]"],jobtype:v.filters["filter[jobType]"],expiresafter:v.filters["filter[expiresAfter]"],expiresbefore:v.filters["filter[expiresBefore]"],isadminverified:JSON.stringify(v.filters["filter[isAdminVerified]"]),status:v.filters["filter[status]"],fullname:v.filters["filter[fullname]"],"credentialtype|issuedreasons":JSON.stringify(v.filters["filter[credentialType|IssuedReasons]"])},sort:{expirationday:v.filters["sort[expirationDay]"],lastname:v.filters["sort[lastname]"]}}),c.setUrl(n,r),t.next=7,l.getCredentialsPost(r,s);case 7:v.empCredentials=t.sent,null!=v.empCredentials?(v.empCredentials.forEach(function(e){return m.processCredential(e,g)}),v.filterConfig.totalResults=parseInt(v.empCredentials.$headers["total-results"],10),v.filterConfig.totalResults=isNaN(v.filterConfig.totalResults)?0:v.filterConfig.totalResults,v.pages=Math.ceil(v.filterConfig.totalResults/f),v.useGroupByEmployee=null!=s.sort.lastname,v.useGroupByEmployee&&(v.empCredentials=c.groupByEmployee(v.empCredentials))):(v.filterConfig.totalResults=0,v.pages=0),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(1);case 13:return t.prev=13,v.loading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[1,11,13,16]])}))()}var u=t.routeVm,m=e.get("segmentReportsCredentialsContentLogic"),d=a.credentialConstants,f=50,g=u.org,y=null,v=t.vm={loading:!0,empCredentials:[],useGroupByEmployee:!1,filters:{},pages:0,filterConfig:{countLabel:"Credentials of Employee",searchLabel:"Employee",useFilter:["jobTypes","credentials","empStatus","adminVerified","expiration"],sortOptions:[{name:"Last Name A-Z",ariaLabel:"Sort report by last name ascending",value:{field:c.sortKeys.LAST_NAME,dir:"asc"}},{name:"Last Name Z-A",ariaLabel:"Sort report by last name descending",value:{field:c.sortKeys.LAST_NAME,dir:"desc"}},{name:"Expiration Date",ariaLabel:"Sort report by expiration date",value:{field:c.sortKeys.EXPIRATION_DAY,dir:"asc"}}],defaultSortIndex:2,exportFileName:"employeeCredentialsExport.csv",export:l.exportCredentialsCsv}};i.isDataIntegrationsEnabled().then(function(e){v.isGlobalDirectory=e}).catch(function(){v.isGlobalDirectory=!1});var h=s(function(){b.filterResults({currentPage:1})},350);t.$watch("vm.filters",h,!0);var b=t.go={filterResults:p,toProfile:function(e){v.isGlobalDirectory&&r.get({id:e,fields:"orgPersonId"},null,!1).then(function(e){return n.url("/ec-directory/person-detail/"+e._orgPersonId+"/credentials")})},hasActiveDates:function(e){var t=a.getCredentialStatus(e,moment());return(t.value===d.ACTIVE||t.value===d.NOT_ACTIVE)&&(e._stateStartedDay||e._expirationDay||e._verifiedDay)},hasInProgressDates:function(e){return a.getCredentialStatus(e,moment()).value===d.IN_PROGRESS},isRenewed:function(e){return e._issuedReason===d.CREDENTIAL_RENEWED}}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentReportsCredentialsContent",function(){return new l("content")})},{"base-segment":19}],78:[function(e,t,n){"use strict";function r(e,t,n){function r(r,o){r.issuedTxt=null!=r._stateStartedDay?t.startOfDayRelativeTo(e(r._stateStartedDay),o):null,r.expirationTxt=null!=r._expirationDay?t.startOfDayRelativeTo(e(r._expirationDay),o):null,r.subjects=null!=r._subjects?r._subjects.map(function(e){return e.name}).join(", "):"",r._employee.positionNameTxt="",null!=r._employee.primaryJobTypeName&&(r._employee.positionNameTxt+=r._employee.primaryJobTypeName),null!=r._employee.primaryPositionName&&(r._employee.positionNameTxt.length&&(r._employee.positionNameTxt+=", "),r._employee.positionNameTxt+=n.mapName(r._employee.primaryPositionName,s)),null!=r._employee.stateEducatorId&&r._employee.stateEducatorId.length&&(r._employee.positionNameTxt.length&&(r._employee.positionNameTxt+=" | "),r._employee.positionNameTxt+=r._employee.stateEducatorId)}var s=[];return n.getByExternalId("position.types").then(function(e){s=e}),{processCredential:r}}r.$inject=["moment","ssDateByOrgHlp","ssListSvc"],angular.module("ec-employee-segment-logic").factory("segmentReportsCredentialsContentLogic",r)},{}],79:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/demographic",templateUrl:"routes/reports/demographic/demographic.html",resolve:{exportType:["ssAsync","ssPermissionsSvc","exportTemplateApi","sortFilterHlp",function(e,t,n,r){return t.ready.then(function(){if(!t.isNotPermittedAction("exportTemplates","view"))return e(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getTypes(Object.assign({},r.filterOrNull([{id:"EmployeeDemographics"}],"exportSource")));case 2:return t=e.sent,s.exportType=t.data.data[0],e.next=6,n.getTemplates(Object.assign({},r.filterOrNull([{id:s.exportType.id}],"exportTypeId")));case 6:o=e.sent,s.exportTemplates=o.data.data;case 8:case"end":return e.stop()}},e,this)}))()})}],$title:function(){return"Employee Records - Demographic Report"}},$permissions:function(e){return e.isPermittedAction("employees","viewreports")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.reports.demographic",new r.State(o,s))}])},{"base-state":20}],80:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/report",templateUrl:"routes/reports/demographic/report/report.html",resolve:{org:["ssOrganizationSvc","ssAsync",function(e,t){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getActiveOrg();case 2:s.org=t.sent;case 3:case"end":return t.stop()}},t,this)}))()}],$title:function(){return"Employee Demographic Report"}}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.reports.demographic.report",new r.State(o,s))}])},{"base-state":20}],81:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$rootScope","$injector","$scope","$location","$window","ssEmployeeApi","ssDebounce","ssAsync","ssEventSvc","ssMultiInitiativeFeatureDetectorCCSvc","ssMutatorDataHlp","empReportsApi","reportHlp",function(e,t,n,r,s,o,i,a,l,c,p,u,m){function d(e){h.currentPage=e.currentPage,null!=v&&(v.$abort(),v=null),v=a(regeneratorRuntime.mark(function t(){var n,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h.loading=!0,t.prev=1,n=Object.assign({},{organizationId:g.org.id}),s=Object.assign({},{offset:(e.currentPage-1)*y,limit:y,filter:{asofutctime:h.filters["filter[asOfTimeUtc]"],lastupdatedstart:h.filters["filter[lastUpdatedStart]"],lastupdatedend:h.filters["filter[lastUpdatedEnd]"],statusreason:h.filters["filter[statusReason]"],status:h.filters["filter[status]"],fullname:h.filters["filter[fullname]"]},sort:{lastname:h.filters["sort[lastname]"],hiredate:h.filters["sort[hireDate]"],lastupdatedutc:h.filters["sort[lastupdatedutc]"]}}),f()){t.next=6;break}return t.abrupt("return");case 6:return m.setUrl(r,n),t.next=9,u.getDemographicsPost(n,s);case 9:h.employees=t.sent,h.employees.forEach(function(e){return e.securityGroup=null==e._securityGroup?"":e._securityGroup.split(",").join(", ")}),null!=h.employees?(h.filterConfig.totalResults=parseInt(h.employees.$headers["total-results"],10),h.filterConfig.totalResults=isNaN(h.filterConfig.totalResults)?0:h.filterConfig.totalResults,h.pages=Math.ceil(h.filterConfig.totalResults/y)):(h.filterConfig.totalResults=0,h.pages=0),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(1);case 16:return t.prev=16,h.loading=!1,t.finish(16);case 19:case"end":return t.stop()}},t,this,[[1,14,16,19]])}))()}function f(){return(!h.filters["filter[lastUpdatedStart]"]||null!=h.filters["filter[lastUpdatedEnd]"])&&(!h.filters["filter[lastUpdatedEnd]"]||null!=h.filters["filter[lastUpdatedStart]"])}var g=n.routeVm,y=(t.get("segmentReportsDemographicReportContentLogic"),50),v=null,h=n.vm={loading:!0,employees:[],filters:{},pages:0,filterConfig:{countLabel:"Employee",searchLabel:"Employee",useFilter:["effectiveDate","empStatus","empStatusReasons","lastUpdated"],sortOptions:[{name:"Last Name A-Z",ariaLabel:"Sort report by last name ascending",value:{field:m.sortKeys.LAST_NAME,dir:"asc"}},{name:"Last Name Z-A",ariaLabel:"Sort report by last name descending",value:{field:m.sortKeys.LAST_NAME,dir:"desc"}},{name:"Last Updated Asc",ariaLabel:"Sort report by last updated date ascending",value:{field:m.sortKeys.EMP_LAST_UPDATED,dir:"asc"}},{name:"Last Updated Desc",ariaLabel:"Sort report by last updated date descending",value:{field:m.sortKeys.EMP_LAST_UPDATED,dir:"desc"}},{name:"Hire Date Asc",ariaLabel:"Sort report by hire date ascending",value:{field:m.sortKeys.HIRE_DATE,dir:"asc"}},{name:"Hire Date Desc",ariaLabel:"Sort report by hire date descending",value:{field:m.sortKeys.HIRE_DATE,dir:"desc"}
}],defaultSortIndex:0,exportFileName:"employeeDemographicExport.csv",export:u.exportDemographicsCsv}};c.isDataIntegrationsEnabled().then(function(e){h.isGlobalDirectory=e}).catch(function(){h.isGlobalDirectory=!1});var b=i(function(e,t){e!==t&&_.filterResults({currentPage:1})},350);n.$watch("vm.filters",b,!0),l.on("location-change-start",function(e,t){t.indexOf("today")>-1&&(e.preventDefault(),s.location=t)},e);var _=n.go={filterResults:d,toProfile:function(e){h.isGlobalDirectory&&o.get({id:e,fields:"orgPersonId"},null,!1).then(function(e){return r.url("/ec-directory/person-detail/"+e._orgPersonId+"/personal")})},formatPhone:function(e){return p.formatPhone(e)},formatDate:function(e){return new Date(e+"Z").toLocaleString()},getDateString:m.getDateString}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentReportsDemographicReportContent",function(){return new l("content")})},{"base-segment":19}],82:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentReportsDemographicReportContentLogic",r)},{}],83:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope","$location","ssPermissionsSvc","ssStorage","ngIntroService",function(e,t,n,r,s,o){var i=t.routeVm;e.get("segmentReportsDemographicContentLogic");"/ec-employee/reports/demographic"===n.path()&&n.path(n.path()+"/report");var a=t.vm={templateId:null};t.ngIntroService=o,t.ssStorage=s,t.ssPermissionsSvc=r;t.go={};r.isPermittedAction("exportTemplates","view")&&(t.exportType=i.exportType,t.exportTemplates=i.exportTemplates,a.templateId=t.exportTemplates.length?t.exportTemplates[0].id:"create")}]},{key:"link",value:function(e,t){(function(){if(e.ssPermissionsSvc.isPermittedAction("exportTemplates","view"))return!!e.ssStorage.load("ec-employee.reports.feature.intro")})()||angular.element(document).ready(function(){e.ngIntroService.setOptions({steps:[{element:angular.element(t[0].querySelector("#ui-tour-step1"))[0],intro:"<h4>Introducing Export Settings</h4><p>You can create a custom template to manage the report output.</p>"}],doneLabel:"Got it!",showBullets:!1,showStepNumbers:!1,disableInteraction:!0}),e.ngIntroService.onExit(function(){e.ssStorage.save("ec-employee.reports.feature.intro",!0,{persistent:!0,expires:!1})}),e.ngIntroService.start()})}}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentReportsDemographicContent",function(){return new l("content")})},{"base-segment":19}],84:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentReportsDemographicContentLogic",r)},{}],85:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$rootScope","$injector","$scope","$stateParams",function(e,t,n,r){n.routeVm,t.get("segmentReportsDemographicSettingsContentLogic"),n.vm={templateId:r.templateId,type:e.utils.findInParentScope("exportType",n)},n.go={}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentReportsDemographicSettingsContent",function(){return new l("content")})},{"base-segment":19}],86:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentReportsDemographicSettingsContentLogic",r)},{}],87:[function(e,t,n){"use strict";var r=e("base-state"),s={featureFlags:{fc_new_record_export_option:!1}},o={url:"/settings/:templateId",templateUrl:"routes/reports/demographic/settings/settings.html",resolve:{$title:function(){return"Employee Demographic Report - Export Settings"},featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(s.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("exportTemplates","view")}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.reports.demographic.settings",new r.State(o,s))}])},{"base-state":20}],88:[function(e,t,n){"use strict";var r=e("base-state"),s={},o={url:"/reports",templateUrl:"routes/reports/reports.html",resolve:{$title:function(){return"Employee Records - Reports"}}};angular.module("ec-employee").config(["$stateProvider",function(e){e.state("base.reports",new r.State(o,s))}])},{"base-state":20}],89:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"controller",value:["$injector","$scope",function(e,t){t.routeVm,e.get("segmentReportsContentLogic"),t.vm={},t.go={}}]}]),t}(a.Segment);angular.module("ec-employee-segments").directive("segmentReportsContent",function(){return new l("content")})},{"base-segment":19}],90:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-employee-segment-logic").factory("segmentReportsContentLogic",r)},{}]},{},[8]);